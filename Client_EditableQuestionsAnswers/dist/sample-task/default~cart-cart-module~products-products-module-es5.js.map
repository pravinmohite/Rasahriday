{"version":3,"sources":["webpack:///src/app/products/modals/confirm-order-details/confirm-order-details.component.ts","webpack:///src/app/products/modals/confirm-order-details/confirm-order-details.component.html"],"names":["ConfirmOrderDetailsComponent","modalRef","commonService","event","faEdit","faCheckSquare","editMode","setCurrentCurrency","setUserDetailsForMultipleItems","currentCurrency","product","userName","productList","firstName","middleName","lastName","userAddress","userPhoneNumber","price","deliveryCharges","isPractitioner","regNumber","value","setDetailsToBeEdited","saveEditedDetails","editedProduct","updateEditedUserDetails","userDetails","setUserDetails","setEditMode","hide","emit","save","selector","templateUrl","styleUrls"],"mappings":"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","file":"default~cart-cart-module~products-products-module-es5.js","sourcesContent":["import {\r\n  AfterViewInit,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnInit,\r\n} from '@angular/core';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal';\r\nimport { faEdit, faCheckSquare } from '@fortawesome/free-solid-svg-icons';\r\nimport { CommonService } from 'src/app/services/common-service/common.service';\r\n\r\n@Component({\r\n  selector: 'app-confirm-order-details',\r\n  templateUrl: './confirm-order-details.component.html',\r\n  styleUrls: ['./confirm-order-details.component.scss'],\r\n})\r\nexport class ConfirmOrderDetailsComponent implements OnInit {\r\n  public event: EventEmitter<any> = new EventEmitter();\r\n  @Input() product;\r\n  @Input() productList?;\r\n  productImages: any;\r\n  faEdit = faEdit;\r\n  faCheckSquare = faCheckSquare;\r\n  editedProduct: any;\r\n  productImagesToBeEdited: any;\r\n  editMode = false;\r\n  currentCurrency: any;\r\n  constructor(\r\n    public modalRef: BsModalRef,\r\n    private commonService: CommonService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setCurrentCurrency();\r\n    this.setUserDetailsForMultipleItems();\r\n  }\r\n\r\n  setCurrentCurrency() {\r\n    this.currentCurrency = this.commonService.currentCurrency;\r\n  }\r\n\r\n  setUserDetailsForMultipleItems() {\r\n    if (!this.product) {\r\n      this.product = {\r\n        userName: this.productList.userName,\r\n        firstName: this.product.firstName,\r\n        middleName: this.product.middleName,\r\n        lastName: this.product.lastName,\r\n        userAddress: this.productList.userAddress,\r\n        userPhoneNumber: this.productList.userPhoneNumber,\r\n        price: this.productList.price,\r\n        deliveryCharges: this.productList.deliveryCharges,\r\n        isPractitioner: this.productList.isPractitioner,\r\n        regNumber: this.productList.regNumber,\r\n      };\r\n    }\r\n  }\r\n\r\n  setEditMode(value) {\r\n    this.editMode = value;\r\n    if (value) {\r\n      this.setDetailsToBeEdited();\r\n    } else {\r\n      this.saveEditedDetails();\r\n    }\r\n  }\r\n\r\n  setDetailsToBeEdited() {\r\n    this.editedProduct = {\r\n      firstName: this.product.firstName,\r\n      middleName: this.product.middleName,\r\n      lastName: this.product.lastName,\r\n      userAddress: this.product.userAddress,\r\n      userPhoneNumber: this.product.userPhoneNumber,\r\n      ...(this.product?.isPractitioner\r\n        ? { regNumber: this.product.regNumber }\r\n        : {}),\r\n    };\r\n  }\r\n  saveEditedDetails() {\r\n    if (this.editedProduct) {\r\n      (this.product.firstName = this.editedProduct.firstName),\r\n        (this.product.middleName = this.editedProduct.middleName),\r\n        (this.product.lastName = this.editedProduct.lastName),\r\n        (this.product.userAddress = this.editedProduct.userAddress);\r\n      this.product.userPhoneNumber = this.editedProduct.userPhoneNumber;\r\n      if (this.product.isPractitioner) {\r\n        this.product.regNumber = this.editedProduct.regNumber;\r\n      }\r\n      this.updateEditedUserDetails();\r\n    }\r\n  }\r\n\r\n  updateEditedUserDetails() {\r\n    this.commonService.userDetails.firstName = this.editedProduct.firstName;\r\n    this.commonService.userDetails.middleName = this.editedProduct.middleName;\r\n    this.commonService.userDetails.lastName = this.editedProduct.lastName;\r\n    this.commonService.setUserDetails(this.commonService.userDetails);\r\n  }\r\n\r\n  save() {\r\n    this.setEditMode(false);\r\n    this.modalRef.hide();\r\n    this.event.emit(this.product);\r\n  }\r\n}\r\n","<div class=\"confirm-order-modal\">\r\n    <div class=\"modal-header\">\r\n        <h4 class=\"modal-title pull-left\">Confirm order details</h4>\r\n        <button type=\"button\" class=\"btn-close close pull-right\" aria-label=\"Close\" (click)=\"modalRef?.hide()\">\r\n            <span aria-hidden=\"true\" class=\"visually-hidden\">&times;</span>\r\n        </button>\r\n    </div>\r\n    <div class=\"modal-body\">\r\n        <fieldset class=\"fieldset-container border p-2\">\r\n            <legend class=\"legend-title w-auto\">Order Summary:</legend>\r\n            <div class=\"user-details order-details\">\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-5 col-form-label\" for=\"categoryName\">Price </label>\r\n                    <div class=\"col-7\">\r\n                        <label class=\"col-form-label\" for=\"categoryName\">{{product.price}}</label>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-5 col-form-label\" for=\"categoryName\">Delivery Charges</label>\r\n                    <div class=\"col-7\">\r\n                        <label class=\"col-form-label\" for=\"categoryName\">Delivery charges extra, free delivery only on\r\n                            orders above <span class=\"current-currency-symbol\">{{currentCurrency}}</span> 1000/-\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-5 col-form-label order-total-text\" for=\"categoryName\">Order Total</label>\r\n                    <div class=\"col-7\">\r\n                        <label class=\"col-form-label product-final-price\" for=\"categoryName\">\r\n                            <span class=\"current-currency-symbol\">{{currentCurrency}}</span>\r\n                            {{product.price}}\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n\r\n        <fieldset class=\"fieldset-container border p-2\">\r\n            <legend class=\"legend-title w-auto\">User Details:</legend>\r\n            <div class=\"user-details\">\r\n                <fa-icon *ngIf=\"editMode\" class=\"hand-cursor fa-icon check-icon\" [icon]=\"faCheckSquare\"\r\n                    (click)=\"setEditMode(false)\"></fa-icon>\r\n                <fa-icon *ngIf=\"!editMode\" class=\"hand-cursor fa-icon edit-icon\" [icon]=\"faEdit\"\r\n                    (click)=\"setEditMode(true)\"></fa-icon>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-5 col-form-label\" for=\"categoryName\">User Name</label>\r\n                    <div class=\"col-7\">\r\n                        <label class=\"col-form-label\" for=\"categoryName\">{{product.userName}}</label>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-5 col-form-label\" for=\"categoryName\">Full Name</label>\r\n                    <div class=\"col-7 fullName-container\" *ngIf=\"!editMode\">\r\n                        <label class=\"col-form-label\" for=\"categoryName\">{{product.firstName}} {{product.middleName}}\r\n                            {{product.lastName}}</label>\r\n                    </div>\r\n                    <div class=\"col-7 fullName-container\">\r\n\r\n                        <div class=\"col-md-4 col-12 firstNameField\">\r\n\r\n                            <input *ngIf=\"editMode\" id=\"firstName\" name=\"firstName\"\r\n                                [(ngModel)]=\"editedProduct.firstName\" placeholder=\"First name\" type=\"text\"\r\n                                class=\"form-control\">\r\n                        </div>\r\n                        <div class=\"col-md-4 col-12 firstNameField\">\r\n\r\n                            <input *ngIf=\"editMode\" id=\"middleName\" name=\"middleName\"\r\n                                [(ngModel)]=\"editedProduct.middleName\" placeholder=\"Middle name\" type=\"text\"\r\n                                class=\"form-control\">\r\n                        </div>\r\n                        <div class=\"col-md-4 col-12 firstNameField\">\r\n\r\n                            <input *ngIf=\"editMode\" id=\"lastName\" name=\"lastName\" [(ngModel)]=\"editedProduct.lastName\"\r\n                                placeholder=\"Last name\" type=\"text\" class=\"form-control\">\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-5 col-form-label\" for=\"categoryName\">User Address</label>\r\n                    <div class=\"col-7\">\r\n                        <label *ngIf=\"!editMode\" class=\"col-form-label\"\r\n                            for=\"categoryName\">{{product.userAddress}}</label>\r\n                        <input *ngIf=\"editMode\" id=\"userAddress\" name=\"userAddress\"\r\n                            [(ngModel)]=\"editedProduct.userAddress\" placeholder=\"Enter user address\" type=\"text\"\r\n                            class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\" *ngIf=\"product?.isPractitioner\">\r\n                    <label class=\"col-5 col-form-label\" for=\"categoryName\">Practitioner:</label>\r\n                    <div class=\"col-7\">Yes</div>\r\n                    <label class=\"col-5 col-form-label\" for=\"categoryName\">Registration Number:</label>\r\n                    <div class=\"col-7\">\r\n                        <label *ngIf=\"!editMode\" class=\"col-form-label\" for=\"categoryName\">{{product.regNumber}}</label>\r\n                        <input *ngIf=\"editMode\" id=\"regNumber\" name=\"regNumber\" [(ngModel)]=\"editedProduct.regNumber\"\r\n                            placeholder=\"Enter user address\" type=\"text\" class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label class=\"col-5 col-form-label\" for=\"categoryName\">User Contact No.</label>\r\n                    <div class=\"col-7\">\r\n                        <label *ngIf=\"!editMode\" class=\"col-form-label\"\r\n                            for=\"categoryName\">{{product.userPhoneNumber}}</label>\r\n                        <input *ngIf=\"editMode\" id=\"userPhoneNumber\" [(ngModel)]=\"editedProduct.userPhoneNumber\"\r\n                            name=\"userPhoneNumber\" placeholder=\"Enter user contact No.\" type=\"text\"\r\n                            class=\"form-control\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n        <div class=\"row note-container\">\r\n            <div class=\"col-12\">\r\n                <span class=\"note-label\">Note: </span>\r\n                <span class=\"note-text\">Only cash on delivery is supported</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n            <div class=\"offset-1 offset-md-2 col-md-4 col-6\">\r\n                <button name=\"submit\" type=\"submit\" class=\"btn btn-outline-modal btn-full-width\"\r\n                    (click)=\"save()\">Confirm Order</button>\r\n            </div>\r\n            <div class=\"col-md-3 col-4\">\r\n                <button name=\"submit\" type=\"button\" class=\"btn btn-outline-removebtn btn-full-width\"\r\n                    (click)=\"modalRef?.hide()\">Cancel</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"]}