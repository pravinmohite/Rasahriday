{"version":3,"sources":["./node_modules/ngx-pagination/__ivy_ngcc__/dist/ngx-pagination.js","./src/app/blogs/add-blogs/add-blogs.component.ts","./src/app/blogs/add-blogs/add-blogs.component.html","./src/app/blogs/blog-details/blog-details.component.ts","./src/app/blogs/blog-details/blog-details.component.html","./src/app/blogs/blogs-by-category/blogs-by-category.component.ts","./src/app/blogs/blogs-by-category/blogs-by-category.component.html","./src/app/blogs/blogs-routing.module.ts","./src/app/blogs/blogs.component.ts","./src/app/blogs/blogs.component.html","./src/app/blogs/blogs.module.ts","./src/app/services/blog/blog.service.ts","./src/lib/ae-button/ae-button.component.ts","./src/lib/ae-button/ae-button.component.html","./src/lib/ae-select/ae-select.component.ts","./src/lib/ae-select/ae-select.component.html","./src/lib/ae-toolbar-set/ae-toolbar-set.component.ts","./src/lib/ae-toolbar-set/ae-toolbar-set.component.html","./src/lib/angular-editor-toolbar.component.ts","./src/lib/angular-editor-toolbar.component.html","./src/lib/angular-editor.component.ts","./src/lib/angular-editor.component.html","./src/lib/angular-editor.module.ts","./src/lib/angular-editor.service.ts","./src/lib/config.ts","./src/lib/utils.ts"],"names":[],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,sBAAsB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,uCAAuC;AACvG,0BAA0B,gEAAyB,EAAE,kDAAkD,kCAAkC,EAAE,EAAE;;AAE7I;AACA,CAAC;;AAED;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,0BAA0B,EAAE;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,8CAA8C,EAAE;AAC5G;AACA;AACA;AACA,sDAAsD,gCAAgC,+DAAwB,qBAAqB;AACnI,qBAAqB,0DAAmB,EAAE,oDAAoD;AAC9F,4BAA4B,CAAC,+DAAwB;AACrD,cAAc,kDAAI;AAClB;AACA;AACA;AACA,aAAa;AACb,KAAK,gBAAgB,UAAU,0BAA0B,EAAE,EAAE,QAAQ,EAAE;AACvE;AACA,CAAC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B,CAAC,+DAAwB;AACrD,cAAc,uDAAS;AACvB;AACA;AACA;AACA;AACA,iCAAiC,qEAAuB;AACxD,+BAA+B,+DAAiB;AAChD,aAAa;AACb,KAAK,gBAAgB,WAAW,EAAE,GAAG;AACrC,kBAAkB,mDAAK;AACvB,SAAS;AACT,kBAAkB,mDAAK;AACvB,SAAS;AACT,kBAAkB,mDAAK;AACvB,SAAS;AACT,kBAAkB,mDAAK;AACvB,SAAS;AACT,kBAAkB,mDAAK;AACvB,SAAS;AACT,kBAAkB,mDAAK;AACvB,SAAS;AACT,kBAAkB,oDAAM;AACxB,SAAS;AACT,kBAAkB,oDAAM;AACxB,SAAS;AACT,kBAAkB,mDAAK;AACvB,SAAS;AACT,kBAAkB,mDAAK;AACvB,SAAS;AACT,kBAAkB,mDAAK;AACvB,SAAS;AACT,kBAAkB,mDAAK;AACvB,SAAS,GAAG,EAAE,EAAE;AAChB;AACA,CAAC;;AAED;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,0DAAY;AAC1C,wCAAwC,0DAAY;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,2DAAK;AACb;AACA;AACA;AACA,QAAQ,2DAAK;AACb;AACA;AACA;AACA,QAAQ,4DAAM;AACd,oCAAoC,0DAAY;AAChD;AACA;AACA,QAAQ,4DAAM;AACd,oCAAoC,0DAAY;AAChD;AACA;AACA,YAAY,+DAAiB;AAC7B;AACA,oFAAoF,+CAA+C,+DAAwB,qBAAqB,+DAAwB,CAAC,+DAAwB,GAAG;AACpO,mCAAmC,+DAAwB,EAAE,oHAAoH,+BAA+B,YAAY,yEAAyE,0CAA0C,kEAA2B,GAAG;AAC7W,4BAA4B,CAAC,+DAAwB;AACrD,cAAc,uDAAS;AACvB;AACA;AACA;AACA,aAAa;AACb,KAAK,gBAAgB,UAAU,0BAA0B,GAAG,OAAO,+DAAwB,EAAE,EAAE,EAAE,GAAG;AACpG,kBAAkB,mDAAK;AACvB,SAAS;AACT,kBAAkB,oDAAM;AACxB,SAAS;AACT,kBAAkB,oDAAM;AACxB,SAAS;AACT,kBAAkB,mDAAK;AACvB,SAAS,GAAG,EAAE,EAAE;AAChB;AACA,CAAC;;AAED;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,2BAA2B,8DAAuB,EAAE,4BAA4B;AAChF,2BAA2B,8DAAuB,EAAE,mDAAmD,yCAAyC,EAAE,6CAA6C,4DAAY,IAAI;AAC/M,cAAc,oDAAoD,gEAAyB,uBAAuB,4BAA4B;AAC9I;AACA,qCAAqC,EAAE,wBAAwB,SAAS,4DAAY,EAAE,EAAE,wBAAwB;AAChH;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","file":"blogs-blogs-module-es2015.js","sourcesContent":["import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Directive, EventEmitter, Input, NgModule, Output, Pipe, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport * as ngcc0 from '@angular/core';\nimport * as ngcc1 from '@angular/common';\n\nfunction PaginationControlsComponent_ul_2_li_1_a_1_Template(rf, ctx) { if (rf & 1) {\n    var _r8 = ngcc0.getCurrentView();\n    ngcc0.elementStart(0, \"a\", 11);\n    ngcc0.listener(\"keyup.enter\", function PaginationControlsComponent_ul_2_li_1_a_1_Template_a_keyup_enter_0_listener() { ngcc0.restoreView(_r8); ngcc0.nextContext(3); var _r0 = ngcc0.reference(1); return _r0.previous(); })(\"click\", function PaginationControlsComponent_ul_2_li_1_a_1_Template_a_click_0_listener() { ngcc0.restoreView(_r8); ngcc0.nextContext(3); var _r0 = ngcc0.reference(1); return _r0.previous(); });\n    ngcc0.text(1);\n    ngcc0.elementStart(2, \"span\", 12);\n    ngcc0.text(3);\n    ngcc0.elementEnd();\n    ngcc0.elementEnd();\n} if (rf & 2) {\n    var ctx_r5 = ngcc0.nextContext(3);\n    ngcc0.attribute(\"aria-label\", ctx_r5.previousLabel + \" \" + ctx_r5.screenReaderPageLabel);\n    ngcc0.advance(1);\n    ngcc0.textInterpolate1(\" \", ctx_r5.previousLabel, \" \");\n    ngcc0.advance(2);\n    ngcc0.textInterpolate(ctx_r5.screenReaderPageLabel);\n} }\nfunction PaginationControlsComponent_ul_2_li_1_span_2_Template(rf, ctx) { if (rf & 1) {\n    ngcc0.elementStart(0, \"span\");\n    ngcc0.text(1);\n    ngcc0.elementStart(2, \"span\", 12);\n    ngcc0.text(3);\n    ngcc0.elementEnd();\n    ngcc0.elementEnd();\n} if (rf & 2) {\n    var ctx_r6 = ngcc0.nextContext(3);\n    ngcc0.advance(1);\n    ngcc0.textInterpolate1(\" \", ctx_r6.previousLabel, \" \");\n    ngcc0.advance(2);\n    ngcc0.textInterpolate(ctx_r6.screenReaderPageLabel);\n} }\nfunction PaginationControlsComponent_ul_2_li_1_Template(rf, ctx) { if (rf & 1) {\n    ngcc0.elementStart(0, \"li\", 8);\n    ngcc0.template(1, PaginationControlsComponent_ul_2_li_1_a_1_Template, 4, 3, \"a\", 9);\n    ngcc0.template(2, PaginationControlsComponent_ul_2_li_1_span_2_Template, 4, 2, \"span\", 10);\n    ngcc0.elementEnd();\n} if (rf & 2) {\n    ngcc0.nextContext(2);\n    var _r0 = ngcc0.reference(1);\n    ngcc0.classProp(\"disabled\", _r0.isFirstPage());\n    ngcc0.advance(1);\n    ngcc0.property(\"ngIf\", 1 < _r0.getCurrent());\n    ngcc0.advance(1);\n    ngcc0.property(\"ngIf\", _r0.isFirstPage());\n} }\nfunction PaginationControlsComponent_ul_2_li_4_a_1_Template(rf, ctx) { if (rf & 1) {\n    var _r15 = ngcc0.getCurrentView();\n    ngcc0.elementStart(0, \"a\", 11);\n    ngcc0.listener(\"keyup.enter\", function PaginationControlsComponent_ul_2_li_4_a_1_Template_a_keyup_enter_0_listener() { ngcc0.restoreView(_r15); var page_r10 = ngcc0.nextContext().$implicit; ngcc0.nextContext(2); var _r0 = ngcc0.reference(1); return _r0.setCurrent(page_r10.value); })(\"click\", function PaginationControlsComponent_ul_2_li_4_a_1_Template_a_click_0_listener() { ngcc0.restoreView(_r15); var page_r10 = ngcc0.nextContext().$implicit; ngcc0.nextContext(2); var _r0 = ngcc0.reference(1); return _r0.setCurrent(page_r10.value); });\n    ngcc0.elementStart(1, \"span\", 12);\n    ngcc0.text(2);\n    ngcc0.elementEnd();\n    ngcc0.elementStart(3, \"span\");\n    ngcc0.text(4);\n    ngcc0.pipe(5, \"number\");\n    ngcc0.elementEnd();\n    ngcc0.elementEnd();\n} if (rf & 2) {\n    var page_r10 = ngcc0.nextContext().$implicit;\n    var ctx_r11 = ngcc0.nextContext(2);\n    ngcc0.advance(2);\n    ngcc0.textInterpolate1(\"\", ctx_r11.screenReaderPageLabel, \" \");\n    ngcc0.advance(2);\n    ngcc0.textInterpolate(page_r10.label === \"...\" ? page_r10.label : ngcc0.pipeBind2(5, 2, page_r10.label, \"\"));\n} }\nfunction PaginationControlsComponent_ul_2_li_4_ng_container_2_Template(rf, ctx) { if (rf & 1) {\n    ngcc0.elementContainerStart(0);\n    ngcc0.elementStart(1, \"span\", 12);\n    ngcc0.text(2);\n    ngcc0.elementEnd();\n    ngcc0.elementStart(3, \"span\");\n    ngcc0.text(4);\n    ngcc0.pipe(5, \"number\");\n    ngcc0.elementEnd();\n    ngcc0.elementContainerEnd();\n} if (rf & 2) {\n    var page_r10 = ngcc0.nextContext().$implicit;\n    var ctx_r12 = ngcc0.nextContext(2);\n    ngcc0.advance(2);\n    ngcc0.textInterpolate1(\"\", ctx_r12.screenReaderCurrentLabel, \" \");\n    ngcc0.advance(2);\n    ngcc0.textInterpolate(page_r10.label === \"...\" ? page_r10.label : ngcc0.pipeBind2(5, 2, page_r10.label, \"\"));\n} }\nfunction PaginationControlsComponent_ul_2_li_4_Template(rf, ctx) { if (rf & 1) {\n    ngcc0.elementStart(0, \"li\");\n    ngcc0.template(1, PaginationControlsComponent_ul_2_li_4_a_1_Template, 6, 5, \"a\", 9);\n    ngcc0.template(2, PaginationControlsComponent_ul_2_li_4_ng_container_2_Template, 6, 5, \"ng-container\", 10);\n    ngcc0.elementEnd();\n} if (rf & 2) {\n    var page_r10 = ctx.$implicit;\n    ngcc0.nextContext(2);\n    var _r0 = ngcc0.reference(1);\n    ngcc0.classProp(\"current\", _r0.getCurrent() === page_r10.value)(\"ellipsis\", page_r10.label === \"...\");\n    ngcc0.advance(1);\n    ngcc0.property(\"ngIf\", _r0.getCurrent() !== page_r10.value);\n    ngcc0.advance(1);\n    ngcc0.property(\"ngIf\", _r0.getCurrent() === page_r10.value);\n} }\nfunction PaginationControlsComponent_ul_2_li_5_a_1_Template(rf, ctx) { if (rf & 1) {\n    var _r23 = ngcc0.getCurrentView();\n    ngcc0.elementStart(0, \"a\", 11);\n    ngcc0.listener(\"keyup.enter\", function PaginationControlsComponent_ul_2_li_5_a_1_Template_a_keyup_enter_0_listener() { ngcc0.restoreView(_r23); ngcc0.nextContext(3); var _r0 = ngcc0.reference(1); return _r0.next(); })(\"click\", function PaginationControlsComponent_ul_2_li_5_a_1_Template_a_click_0_listener() { ngcc0.restoreView(_r23); ngcc0.nextContext(3); var _r0 = ngcc0.reference(1); return _r0.next(); });\n    ngcc0.text(1);\n    ngcc0.elementStart(2, \"span\", 12);\n    ngcc0.text(3);\n    ngcc0.elementEnd();\n    ngcc0.elementEnd();\n} if (rf & 2) {\n    var ctx_r20 = ngcc0.nextContext(3);\n    ngcc0.attribute(\"aria-label\", ctx_r20.nextLabel + \" \" + ctx_r20.screenReaderPageLabel);\n    ngcc0.advance(1);\n    ngcc0.textInterpolate1(\" \", ctx_r20.nextLabel, \" \");\n    ngcc0.advance(2);\n    ngcc0.textInterpolate(ctx_r20.screenReaderPageLabel);\n} }\nfunction PaginationControlsComponent_ul_2_li_5_span_2_Template(rf, ctx) { if (rf & 1) {\n    ngcc0.elementStart(0, \"span\");\n    ngcc0.text(1);\n    ngcc0.elementStart(2, \"span\", 12);\n    ngcc0.text(3);\n    ngcc0.elementEnd();\n    ngcc0.elementEnd();\n} if (rf & 2) {\n    var ctx_r21 = ngcc0.nextContext(3);\n    ngcc0.advance(1);\n    ngcc0.textInterpolate1(\" \", ctx_r21.nextLabel, \" \");\n    ngcc0.advance(2);\n    ngcc0.textInterpolate(ctx_r21.screenReaderPageLabel);\n} }\nfunction PaginationControlsComponent_ul_2_li_5_Template(rf, ctx) { if (rf & 1) {\n    ngcc0.elementStart(0, \"li\", 13);\n    ngcc0.template(1, PaginationControlsComponent_ul_2_li_5_a_1_Template, 4, 3, \"a\", 9);\n    ngcc0.template(2, PaginationControlsComponent_ul_2_li_5_span_2_Template, 4, 2, \"span\", 10);\n    ngcc0.elementEnd();\n} if (rf & 2) {\n    ngcc0.nextContext(2);\n    var _r0 = ngcc0.reference(1);\n    ngcc0.classProp(\"disabled\", _r0.isLastPage());\n    ngcc0.advance(1);\n    ngcc0.property(\"ngIf\", !_r0.isLastPage());\n    ngcc0.advance(1);\n    ngcc0.property(\"ngIf\", _r0.isLastPage());\n} }\nfunction PaginationControlsComponent_ul_2_Template(rf, ctx) { if (rf & 1) {\n    ngcc0.elementStart(0, \"ul\", 3);\n    ngcc0.template(1, PaginationControlsComponent_ul_2_li_1_Template, 3, 4, \"li\", 4);\n    ngcc0.elementStart(2, \"li\", 5);\n    ngcc0.text(3);\n    ngcc0.elementEnd();\n    ngcc0.template(4, PaginationControlsComponent_ul_2_li_4_Template, 3, 6, \"li\", 6);\n    ngcc0.template(5, PaginationControlsComponent_ul_2_li_5_Template, 3, 4, \"li\", 7);\n    ngcc0.elementEnd();\n} if (rf & 2) {\n    var ctx_r1 = ngcc0.nextContext();\n    var _r0 = ngcc0.reference(1);\n    ngcc0.classProp(\"responsive\", ctx_r1.responsive);\n    ngcc0.attribute(\"aria-label\", ctx_r1.screenReaderPaginationLabel);\n    ngcc0.advance(1);\n    ngcc0.property(\"ngIf\", ctx_r1.directionLinks);\n    ngcc0.advance(2);\n    ngcc0.textInterpolate2(\" \", _r0.getCurrent(), \" / \", _r0.getLastPage(), \" \");\n    ngcc0.advance(1);\n    ngcc0.property(\"ngForOf\", _r0.pages)(\"ngForTrackBy\", ctx_r1.trackByIndex);\n    ngcc0.advance(1);\n    ngcc0.property(\"ngIf\", ctx_r1.directionLinks);\n} }\nvar PaginationService = /** @class */ (function () {\r\n    function PaginationService() {\r\n        this.change = new EventEmitter();\r\n        this.instances = {};\r\n        this.DEFAULT_ID = 'DEFAULT_PAGINATION_ID';\r\n    }\r\n    PaginationService.prototype.defaultId = function () { return this.DEFAULT_ID; };\r\n    /**\r\n     * Register a PaginationInstance with this service. Returns a\r\n     * boolean value signifying whether the instance is new or\r\n     * updated (true = new or updated, false = unchanged).\r\n     */\r\n    PaginationService.prototype.register = function (instance) {\r\n        if (instance.id == null) {\r\n            instance.id = this.DEFAULT_ID;\r\n        }\r\n        if (!this.instances[instance.id]) {\r\n            this.instances[instance.id] = instance;\r\n            return true;\r\n        }\r\n        else {\r\n            return this.updateInstance(instance);\r\n        }\r\n    };\r\n    /**\r\n     * Check each property of the instance and update any that have changed. Return\r\n     * true if any changes were made, else return false.\r\n     */\r\n    PaginationService.prototype.updateInstance = function (instance) {\r\n        var changed = false;\r\n        for (var prop in this.instances[instance.id]) {\r\n            if (instance[prop] !== this.instances[instance.id][prop]) {\r\n                this.instances[instance.id][prop] = instance[prop];\r\n                changed = true;\r\n            }\r\n        }\r\n        return changed;\r\n    };\r\n    /**\r\n     * Returns the current page number.\r\n     */\r\n    PaginationService.prototype.getCurrentPage = function (id) {\r\n        if (this.instances[id]) {\r\n            return this.instances[id].currentPage;\r\n        }\r\n    };\r\n    /**\r\n     * Sets the current page number.\r\n     */\r\n    PaginationService.prototype.setCurrentPage = function (id, page) {\r\n        if (this.instances[id]) {\r\n            var instance = this.instances[id];\r\n            var maxPage = Math.ceil(instance.totalItems / instance.itemsPerPage);\r\n            if (page <= maxPage && 1 <= page) {\r\n                this.instances[id].currentPage = page;\r\n                this.change.emit(id);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets the value of instance.totalItems\r\n     */\r\n    PaginationService.prototype.setTotalItems = function (id, totalItems) {\r\n        if (this.instances[id] && 0 <= totalItems) {\r\n            this.instances[id].totalItems = totalItems;\r\n            this.change.emit(id);\r\n        }\r\n    };\r\n    /**\r\n     * Sets the value of instance.itemsPerPage.\r\n     */\r\n    PaginationService.prototype.setItemsPerPage = function (id, itemsPerPage) {\r\n        if (this.instances[id]) {\r\n            this.instances[id].itemsPerPage = itemsPerPage;\r\n            this.change.emit(id);\r\n        }\r\n    };\r\n    /**\r\n     * Returns a clone of the pagination instance object matching the id. If no\r\n     * id specified, returns the instance corresponding to the default id.\r\n     */\r\n    PaginationService.prototype.getInstance = function (id) {\r\n        if (id === void 0) { id = this.DEFAULT_ID; }\r\n        if (this.instances[id]) {\r\n            return this.clone(this.instances[id]);\r\n        }\r\n        return {};\r\n    };\r\n    /**\r\n     * Perform a shallow clone of an object.\r\n     */\r\n    PaginationService.prototype.clone = function (obj) {\r\n        var target = {};\r\n        for (var i in obj) {\r\n            if (obj.hasOwnProperty(i)) {\r\n                target[i] = obj[i];\r\n            }\r\n        }\r\n        return target;\r\n    };\nPaginationService.fac = function PaginationService_Factory(t) { return new (t || PaginationService)(); };\nPaginationService.prov = ngcc0.defineInjectable({ token: PaginationService, factory: function (t) { return PaginationService.fac(t); } });\n\r\n    return PaginationService;\r\n}());\n\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (undefined && undefined.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar LARGE_NUMBER = Number.MAX_SAFE_INTEGER;\r\nvar PaginatePipe = /** @class */ (function () {\r\n    function PaginatePipe(service) {\r\n        this.service = service;\r\n        // store the values from the last time the pipe was invoked\r\n        this.state = {};\r\n    }\r\n    PaginatePipe.prototype.transform = function (collection, args) {\r\n        // When an observable is passed through the AsyncPipe, it will output\r\n        // `null` until the subscription resolves. In this case, we want to\r\n        // use the cached data from the `state` object to prevent the NgFor\r\n        // from flashing empty until the real values arrive.\r\n        if (!(collection instanceof Array)) {\r\n            var _id = args.id || this.service.defaultId();\r\n            if (this.state[_id]) {\r\n                return this.state[_id].slice;\r\n            }\r\n            else {\r\n                return collection;\r\n            }\r\n        }\r\n        var serverSideMode = args.totalItems && args.totalItems !== collection.length;\r\n        var instance = this.createInstance(collection, args);\r\n        var id = instance.id;\r\n        var start, end;\r\n        var perPage = instance.itemsPerPage;\r\n        var emitChange = this.service.register(instance);\r\n        if (!serverSideMode && collection instanceof Array) {\r\n            perPage = +perPage || LARGE_NUMBER;\r\n            start = (instance.currentPage - 1) * perPage;\r\n            end = start + perPage;\r\n            var isIdentical = this.stateIsIdentical(id, collection, start, end);\r\n            if (isIdentical) {\r\n                return this.state[id].slice;\r\n            }\r\n            else {\r\n                var slice = collection.slice(start, end);\r\n                this.saveState(id, collection, slice, start, end);\r\n                this.service.change.emit(id);\r\n                return slice;\r\n            }\r\n        }\r\n        else {\r\n            if (emitChange) {\r\n                this.service.change.emit(id);\r\n            }\r\n            // save the state for server-side collection to avoid null\r\n            // flash as new data loads.\r\n            this.saveState(id, collection, collection, start, end);\r\n            return collection;\r\n        }\r\n    };\r\n    /**\r\n     * Create an PaginationInstance object, using defaults for any optional properties not supplied.\r\n     */\r\n    PaginatePipe.prototype.createInstance = function (collection, config) {\r\n        this.checkConfig(config);\r\n        return {\r\n            id: config.id != null ? config.id : this.service.defaultId(),\r\n            itemsPerPage: +config.itemsPerPage || 0,\r\n            currentPage: +config.currentPage || 1,\r\n            totalItems: +config.totalItems || collection.length\r\n        };\r\n    };\r\n    /**\r\n     * Ensure the argument passed to the filter contains the required properties.\r\n     */\r\n    PaginatePipe.prototype.checkConfig = function (config) {\r\n        var required = ['itemsPerPage', 'currentPage'];\r\n        var missing = required.filter(function (prop) { return !(prop in config); });\r\n        if (0 < missing.length) {\r\n            throw new Error(\"PaginatePipe: Argument is missing the following required properties: \" + missing.join(', '));\r\n        }\r\n    };\r\n    /**\r\n     * To avoid returning a brand new array each time the pipe is run, we store the state of the sliced\r\n     * array for a given id. This means that the next time the pipe is run on this collection & id, we just\r\n     * need to check that the collection, start and end points are all identical, and if so, return the\r\n     * last sliced array.\r\n     */\r\n    PaginatePipe.prototype.saveState = function (id, collection, slice, start, end) {\r\n        this.state[id] = {\r\n            collection: collection,\r\n            size: collection.length,\r\n            slice: slice,\r\n            start: start,\r\n            end: end\r\n        };\r\n    };\r\n    /**\r\n     * For a given id, returns true if the collection, size, start and end values are identical.\r\n     */\r\n    PaginatePipe.prototype.stateIsIdentical = function (id, collection, start, end) {\r\n        var state = this.state[id];\r\n        if (!state) {\r\n            return false;\r\n        }\r\n        var isMetaDataIdentical = state.size === collection.length &&\r\n            state.start === start &&\r\n            state.end === end;\r\n        if (!isMetaDataIdentical) {\r\n            return false;\r\n        }\r\n        return state.slice.every(function (element, index) { return element === collection[start + index]; });\r\n    };\r\n    PaginatePipe = __decorate$1([ __metadata(\"design:paramtypes\", [PaginationService])\r\n    ], PaginatePipe);\nPaginatePipe.fac = function PaginatePipe_Factory(t) { return new (t || PaginatePipe)(ngcc0.directiveInject(PaginationService)); };\nPaginatePipe.pipe = ngcc0.definePipe({ name: \"paginate\", type: PaginatePipe, pure: false });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(PaginatePipe, [{\n        type: Pipe,\n        args: [{\n                name: 'paginate',\n                pure: false\n            }]\n    }], function () { return [{ type: PaginationService }]; }, null); })();\r\n    return PaginatePipe;\r\n}());\n\n/**\r\n * The default template and styles for the pagination links are borrowed directly\r\n * from Zurb Foundation 6: http://foundation.zurb.com/sites/docs/pagination.html\r\n */\r\nvar DEFAULT_TEMPLATE = \"\\n    <pagination-template  #p=\\\"paginationApi\\\"\\n                         [id]=\\\"id\\\"\\n                         [maxSize]=\\\"maxSize\\\"\\n                         (pageChange)=\\\"pageChange.emit($event)\\\"\\n                         (pageBoundsCorrection)=\\\"pageBoundsCorrection.emit($event)\\\">\\n    <ul class=\\\"ngx-pagination\\\"\\n        [attr.aria-label]=\\\"screenReaderPaginationLabel\\\" \\n        [class.responsive]=\\\"responsive\\\"\\n        *ngIf=\\\"!(autoHide && p.pages.length <= 1)\\\">\\n\\n        <li class=\\\"pagination-previous\\\" [class.disabled]=\\\"p.isFirstPage()\\\" *ngIf=\\\"directionLinks\\\"> \\n            <a tabindex=\\\"0\\\" *ngIf=\\\"1 < p.getCurrent()\\\" (keyup.enter)=\\\"p.previous()\\\" (click)=\\\"p.previous()\\\" [attr.aria-label]=\\\"previousLabel + ' ' + screenReaderPageLabel\\\">\\n                {{ previousLabel }} <span class=\\\"show-for-sr\\\">{{ screenReaderPageLabel }}</span>\\n            </a>\\n            <span *ngIf=\\\"p.isFirstPage()\\\">\\n                {{ previousLabel }} <span class=\\\"show-for-sr\\\">{{ screenReaderPageLabel }}</span>\\n            </span>\\n        </li> \\n\\n        <li class=\\\"small-screen\\\">\\n            {{ p.getCurrent() }} / {{ p.getLastPage() }}\\n        </li>\\n\\n        <li [class.current]=\\\"p.getCurrent() === page.value\\\" \\n            [class.ellipsis]=\\\"page.label === '...'\\\"\\n            *ngFor=\\\"let page of p.pages; trackBy: trackByIndex\\\">\\n            <a tabindex=\\\"0\\\" (keyup.enter)=\\\"p.setCurrent(page.value)\\\" (click)=\\\"p.setCurrent(page.value)\\\" *ngIf=\\\"p.getCurrent() !== page.value\\\">\\n                <span class=\\\"show-for-sr\\\">{{ screenReaderPageLabel }} </span>\\n                <span>{{ (page.label === '...') ? page.label : (page.label | number:'') }}</span>\\n            </a>\\n            <ng-container *ngIf=\\\"p.getCurrent() === page.value\\\">\\n                <span class=\\\"show-for-sr\\\">{{ screenReaderCurrentLabel }} </span>\\n                <span>{{ (page.label === '...') ? page.label : (page.label | number:'') }}</span> \\n            </ng-container>\\n        </li>\\n\\n        <li class=\\\"pagination-next\\\" [class.disabled]=\\\"p.isLastPage()\\\" *ngIf=\\\"directionLinks\\\">\\n            <a tabindex=\\\"0\\\" *ngIf=\\\"!p.isLastPage()\\\" (keyup.enter)=\\\"p.next()\\\" (click)=\\\"p.next()\\\" [attr.aria-label]=\\\"nextLabel + ' ' + screenReaderPageLabel\\\">\\n                 {{ nextLabel }} <span class=\\\"show-for-sr\\\">{{ screenReaderPageLabel }}</span>\\n            </a>\\n            <span *ngIf=\\\"p.isLastPage()\\\">\\n                 {{ nextLabel }} <span class=\\\"show-for-sr\\\">{{ screenReaderPageLabel }}</span>\\n            </span>\\n        </li>\\n\\n    </ul>\\n    </pagination-template>\\n    \";\r\nvar DEFAULT_STYLES = \"\\n.ngx-pagination {\\n  margin-left: 0;\\n  margin-bottom: 1rem; }\\n  .ngx-pagination::before, .ngx-pagination::after {\\n    content: ' ';\\n    display: table; }\\n  .ngx-pagination::after {\\n    clear: both; }\\n  .ngx-pagination li {\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    -ms-user-select: none;\\n    margin-right: 0.0625rem;\\n    border-radius: 0; }\\n  .ngx-pagination li {\\n    display: inline-block; }\\n  .ngx-pagination a,\\n  .ngx-pagination button {\\n    color: #0a0a0a; \\n    display: block;\\n    padding: 0.1875rem 0.625rem;\\n    border-radius: 0; }\\n    .ngx-pagination a:hover,\\n    .ngx-pagination button:hover {\\n      background: #e6e6e6; }\\n  .ngx-pagination .current {\\n    padding: 0.1875rem 0.625rem;\\n    background: #2199e8;\\n    color: #fefefe;\\n    cursor: default; }\\n  .ngx-pagination .disabled {\\n    padding: 0.1875rem 0.625rem;\\n    color: #cacaca;\\n    cursor: default; } \\n    .ngx-pagination .disabled:hover {\\n      background: transparent; }\\n  .ngx-pagination a, .ngx-pagination button {\\n    cursor: pointer; }\\n\\n.ngx-pagination .pagination-previous a::before,\\n.ngx-pagination .pagination-previous.disabled::before { \\n  content: '\\u00AB';\\n  display: inline-block;\\n  margin-right: 0.5rem; }\\n\\n.ngx-pagination .pagination-next a::after,\\n.ngx-pagination .pagination-next.disabled::after {\\n  content: '\\u00BB';\\n  display: inline-block;\\n  margin-left: 0.5rem; }\\n\\n.ngx-pagination .show-for-sr {\\n  position: absolute !important;\\n  width: 1px;\\n  height: 1px;\\n  overflow: hidden;\\n  clip: rect(0, 0, 0, 0); }\\n.ngx-pagination .small-screen {\\n  display: none; }\\n@media screen and (max-width: 601px) {\\n  .ngx-pagination.responsive .small-screen {\\n    display: inline-block; } \\n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\\n    display: none; }\\n}\\n  \";\n\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata$1 = (undefined && undefined.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nfunction coerceToBoolean(input) {\r\n    return !!input && input !== 'false';\r\n}\r\n/**\r\n * The default pagination controls component. Actually just a default implementation of a custom template.\r\n */\r\nvar PaginationControlsComponent = /** @class */ (function () {\r\n    function PaginationControlsComponent() {\r\n        this.maxSize = 7;\r\n        this.previousLabel = 'Previous';\r\n        this.nextLabel = 'Next';\r\n        this.screenReaderPaginationLabel = 'Pagination';\r\n        this.screenReaderPageLabel = 'page';\r\n        this.screenReaderCurrentLabel = \"You're on page\";\r\n        this.pageChange = new EventEmitter();\r\n        this.pageBoundsCorrection = new EventEmitter();\r\n        this._directionLinks = true;\r\n        this._autoHide = false;\r\n        this._responsive = false;\r\n    }\r\n    Object.defineProperty(PaginationControlsComponent.prototype, \"directionLinks\", {\r\n        get: function () {\r\n            return this._directionLinks;\r\n        },\r\n        set: function (value) {\r\n            this._directionLinks = coerceToBoolean(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PaginationControlsComponent.prototype, \"autoHide\", {\r\n        get: function () {\r\n            return this._autoHide;\r\n        },\r\n        set: function (value) {\r\n            this._autoHide = coerceToBoolean(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PaginationControlsComponent.prototype, \"responsive\", {\r\n        get: function () {\r\n            return this._responsive;\r\n        },\r\n        set: function (value) {\r\n            this._responsive = coerceToBoolean(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    PaginationControlsComponent.prototype.trackByIndex = function (index) {\r\n        return index;\r\n    };\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", String)\r\n    ], PaginationControlsComponent.prototype, \"id\", void 0);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", Number)\r\n    ], PaginationControlsComponent.prototype, \"maxSize\", void 0);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", Boolean),\r\n        __metadata$1(\"design:paramtypes\", [Boolean])\r\n    ], PaginationControlsComponent.prototype, \"directionLinks\", null);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", Boolean),\r\n        __metadata$1(\"design:paramtypes\", [Boolean])\r\n    ], PaginationControlsComponent.prototype, \"autoHide\", null);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", Boolean),\r\n        __metadata$1(\"design:paramtypes\", [Boolean])\r\n    ], PaginationControlsComponent.prototype, \"responsive\", null);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", String)\r\n    ], PaginationControlsComponent.prototype, \"previousLabel\", void 0);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", String)\r\n    ], PaginationControlsComponent.prototype, \"nextLabel\", void 0);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", String)\r\n    ], PaginationControlsComponent.prototype, \"screenReaderPaginationLabel\", void 0);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", String)\r\n    ], PaginationControlsComponent.prototype, \"screenReaderPageLabel\", void 0);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", String)\r\n    ], PaginationControlsComponent.prototype, \"screenReaderCurrentLabel\", void 0);\r\n    __decorate$2([\r\n        Output(),\r\n        __metadata$1(\"design:type\", EventEmitter)\r\n    ], PaginationControlsComponent.prototype, \"pageChange\", void 0);\r\n    __decorate$2([\r\n        Output(),\r\n        __metadata$1(\"design:type\", EventEmitter)\r\n    ], PaginationControlsComponent.prototype, \"pageBoundsCorrection\", void 0);\nPaginationControlsComponent.fac = function PaginationControlsComponent_Factory(t) { return new (t || PaginationControlsComponent)(); };\nPaginationControlsComponent.cmp = ngcc0.defineComponent({ type: PaginationControlsComponent, selectors: [[\"pagination-controls\"]], inputs: { maxSize: \"maxSize\", previousLabel: \"previousLabel\", nextLabel: \"nextLabel\", screenReaderPaginationLabel: \"screenReaderPaginationLabel\", screenReaderPageLabel: \"screenReaderPageLabel\", screenReaderCurrentLabel: \"screenReaderCurrentLabel\", directionLinks: \"directionLinks\", autoHide: \"autoHide\", responsive: \"responsive\", id: \"id\" }, outputs: { pageChange: \"pageChange\", pageBoundsCorrection: \"pageBoundsCorrection\" }, decls: 3, vars: 3, consts: [[3, \"id\", \"maxSize\", \"pageChange\", \"pageBoundsCorrection\"], [\"p\", \"paginationApi\"], [\"class\", \"ngx-pagination\", 3, \"responsive\", 4, \"ngIf\"], [1, \"ngx-pagination\"], [\"class\", \"pagination-previous\", 3, \"disabled\", 4, \"ngIf\"], [1, \"small-screen\"], [3, \"current\", \"ellipsis\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"class\", \"pagination-next\", 3, \"disabled\", 4, \"ngIf\"], [1, \"pagination-previous\"], [\"tabindex\", \"0\", 3, \"keyup.enter\", \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [\"tabindex\", \"0\", 3, \"keyup.enter\", \"click\"], [1, \"show-for-sr\"], [1, \"pagination-next\"]], template: function PaginationControlsComponent_Template(rf, ctx) { if (rf & 1) {\n        ngcc0.elementStart(0, \"pagination-template\", 0, 1);\n        ngcc0.listener(\"pageChange\", function PaginationControlsComponent_Template_pagination_template_pageChange_0_listener($event) { return ctx.pageChange.emit($event); })(\"pageBoundsCorrection\", function PaginationControlsComponent_Template_pagination_template_pageBoundsCorrection_0_listener($event) { return ctx.pageBoundsCorrection.emit($event); });\n        ngcc0.template(2, PaginationControlsComponent_ul_2_Template, 6, 9, \"ul\", 2);\n        ngcc0.elementEnd();\n    } if (rf & 2) {\n        var _r0 = ngcc0.reference(1);\n        ngcc0.property(\"id\", ctx.id)(\"maxSize\", ctx.maxSize);\n        ngcc0.advance(2);\n        ngcc0.property(\"ngIf\", !(ctx.autoHide && _r0.pages.length <= 1));\n    } }, directives: function () { return [PaginationControlsDirective, ngcc1.NgIf, ngcc1.NgForOf]; }, pipes: function () { return [ngcc1.DecimalPipe]; }, styles: [\"\\n.ngx-pagination {\\n  margin-left: 0;\\n  margin-bottom: 1rem; }\\n  .ngx-pagination::before, .ngx-pagination::after {\\n    content: ' ';\\n    display: table; }\\n  .ngx-pagination::after {\\n    clear: both; }\\n  .ngx-pagination li {\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    -ms-user-select: none;\\n    margin-right: 0.0625rem;\\n    border-radius: 0; }\\n  .ngx-pagination li {\\n    display: inline-block; }\\n  .ngx-pagination a,\\n  .ngx-pagination button {\\n    color: #0a0a0a; \\n    display: block;\\n    padding: 0.1875rem 0.625rem;\\n    border-radius: 0; }\\n    .ngx-pagination a:hover,\\n    .ngx-pagination button:hover {\\n      background: #e6e6e6; }\\n  .ngx-pagination .current {\\n    padding: 0.1875rem 0.625rem;\\n    background: #2199e8;\\n    color: #fefefe;\\n    cursor: default; }\\n  .ngx-pagination .disabled {\\n    padding: 0.1875rem 0.625rem;\\n    color: #cacaca;\\n    cursor: default; } \\n    .ngx-pagination .disabled:hover {\\n      background: transparent; }\\n  .ngx-pagination a, .ngx-pagination button {\\n    cursor: pointer; }\\n\\n.ngx-pagination .pagination-previous a::before,\\n.ngx-pagination .pagination-previous.disabled::before { \\n  content: '\\u00AB';\\n  display: inline-block;\\n  margin-right: 0.5rem; }\\n\\n.ngx-pagination .pagination-next a::after,\\n.ngx-pagination .pagination-next.disabled::after {\\n  content: '\\u00BB';\\n  display: inline-block;\\n  margin-left: 0.5rem; }\\n\\n.ngx-pagination .show-for-sr {\\n  position: absolute !important;\\n  width: 1px;\\n  height: 1px;\\n  overflow: hidden;\\n  clip: rect(0, 0, 0, 0); }\\n.ngx-pagination .small-screen {\\n  display: none; }\\n@media screen and (max-width: 601px) {\\n  .ngx-pagination.responsive .small-screen {\\n    display: inline-block; } \\n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\\n    display: none; }\\n}\\n  \"], encapsulation: 2, changeDetection: 0 });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(PaginationControlsComponent, [{\n        type: Component,\n        args: [{\n                selector: 'pagination-controls',\n                template: DEFAULT_TEMPLATE,\n                styles: [DEFAULT_STYLES],\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                encapsulation: ViewEncapsulation.None\n            }]\n    }], function () { return []; }, { maxSize: [{\n            type: Input\n        }], previousLabel: [{\n            type: Input\n        }], nextLabel: [{\n            type: Input\n        }], screenReaderPaginationLabel: [{\n            type: Input\n        }], screenReaderPageLabel: [{\n            type: Input\n        }], screenReaderCurrentLabel: [{\n            type: Input\n        }], pageChange: [{\n            type: Output\n        }], pageBoundsCorrection: [{\n            type: Output\n        }], directionLinks: [{\n            type: Input\n        }], autoHide: [{\n            type: Input\n        }], responsive: [{\n            type: Input\n        }], id: [{\n            type: Input\n        }] }); })();\r\n    return PaginationControlsComponent;\r\n}());\n\nvar __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata$2 = (undefined && undefined.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n/**\r\n * This directive is what powers all pagination controls components, including the default one.\r\n * It exposes an API which is hooked up to the PaginationService to keep the PaginatePipe in sync\r\n * with the pagination controls.\r\n */\r\nvar PaginationControlsDirective = /** @class */ (function () {\r\n    function PaginationControlsDirective(service, changeDetectorRef) {\r\n        var _this = this;\r\n        this.service = service;\r\n        this.changeDetectorRef = changeDetectorRef;\r\n        this.maxSize = 7;\r\n        this.pageChange = new EventEmitter();\r\n        this.pageBoundsCorrection = new EventEmitter();\r\n        this.pages = [];\r\n        this.changeSub = this.service.change\r\n            .subscribe(function (id) {\r\n            if (_this.id === id) {\r\n                _this.updatePageLinks();\r\n                _this.changeDetectorRef.markForCheck();\r\n                _this.changeDetectorRef.detectChanges();\r\n            }\r\n        });\r\n    }\r\n    PaginationControlsDirective.prototype.ngOnInit = function () {\r\n        if (this.id === undefined) {\r\n            this.id = this.service.defaultId();\r\n        }\r\n        this.updatePageLinks();\r\n    };\r\n    PaginationControlsDirective.prototype.ngOnChanges = function (changes) {\r\n        this.updatePageLinks();\r\n    };\r\n    PaginationControlsDirective.prototype.ngOnDestroy = function () {\r\n        this.changeSub.unsubscribe();\r\n    };\r\n    /**\r\n     * Go to the previous page\r\n     */\r\n    PaginationControlsDirective.prototype.previous = function () {\r\n        this.checkValidId();\r\n        this.setCurrent(this.getCurrent() - 1);\r\n    };\r\n    /**\r\n     * Go to the next page\r\n     */\r\n    PaginationControlsDirective.prototype.next = function () {\r\n        this.checkValidId();\r\n        this.setCurrent(this.getCurrent() + 1);\r\n    };\r\n    /**\r\n     * Returns true if current page is first page\r\n     */\r\n    PaginationControlsDirective.prototype.isFirstPage = function () {\r\n        return this.getCurrent() === 1;\r\n    };\r\n    /**\r\n     * Returns true if current page is last page\r\n     */\r\n    PaginationControlsDirective.prototype.isLastPage = function () {\r\n        return this.getLastPage() === this.getCurrent();\r\n    };\r\n    /**\r\n     * Set the current page number.\r\n     */\r\n    PaginationControlsDirective.prototype.setCurrent = function (page) {\r\n        this.pageChange.emit(page);\r\n    };\r\n    /**\r\n     * Get the current page number.\r\n     */\r\n    PaginationControlsDirective.prototype.getCurrent = function () {\r\n        return this.service.getCurrentPage(this.id);\r\n    };\r\n    /**\r\n     * Returns the last page number\r\n     */\r\n    PaginationControlsDirective.prototype.getLastPage = function () {\r\n        var inst = this.service.getInstance(this.id);\r\n        if (inst.totalItems < 1) {\r\n            // when there are 0 or fewer (an error case) items, there are no \"pages\" as such,\r\n            // but it makes sense to consider a single, empty page as the last page.\r\n            return 1;\r\n        }\r\n        return Math.ceil(inst.totalItems / inst.itemsPerPage);\r\n    };\r\n    PaginationControlsDirective.prototype.getTotalItems = function () {\r\n        return this.service.getInstance(this.id).totalItems;\r\n    };\r\n    PaginationControlsDirective.prototype.checkValidId = function () {\r\n        if (this.service.getInstance(this.id).id == null) {\r\n            console.warn(\"PaginationControlsDirective: the specified id \\\"\" + this.id + \"\\\" does not match any registered PaginationInstance\");\r\n        }\r\n    };\r\n    /**\r\n     * Updates the page links and checks that the current page is valid. Should run whenever the\r\n     * PaginationService.change stream emits a value matching the current ID, or when any of the\r\n     * input values changes.\r\n     */\r\n    PaginationControlsDirective.prototype.updatePageLinks = function () {\r\n        var _this = this;\r\n        var inst = this.service.getInstance(this.id);\r\n        var correctedCurrentPage = this.outOfBoundCorrection(inst);\r\n        if (correctedCurrentPage !== inst.currentPage) {\r\n            setTimeout(function () {\r\n                _this.pageBoundsCorrection.emit(correctedCurrentPage);\r\n                _this.pages = _this.createPageArray(inst.currentPage, inst.itemsPerPage, inst.totalItems, _this.maxSize);\r\n            });\r\n        }\r\n        else {\r\n            this.pages = this.createPageArray(inst.currentPage, inst.itemsPerPage, inst.totalItems, this.maxSize);\r\n        }\r\n    };\r\n    /**\r\n     * Checks that the instance.currentPage property is within bounds for the current page range.\r\n     * If not, return a correct value for currentPage, or the current value if OK.\r\n     */\r\n    PaginationControlsDirective.prototype.outOfBoundCorrection = function (instance) {\r\n        var totalPages = Math.ceil(instance.totalItems / instance.itemsPerPage);\r\n        if (totalPages < instance.currentPage && 0 < totalPages) {\r\n            return totalPages;\r\n        }\r\n        else if (instance.currentPage < 1) {\r\n            return 1;\r\n        }\r\n        return instance.currentPage;\r\n    };\r\n    /**\r\n     * Returns an array of Page objects to use in the pagination controls.\r\n     */\r\n    PaginationControlsDirective.prototype.createPageArray = function (currentPage, itemsPerPage, totalItems, paginationRange) {\r\n        // paginationRange could be a string if passed from attribute, so cast to number.\r\n        paginationRange = +paginationRange;\r\n        var pages = [];\r\n        // Return 1 as default page number\r\n        // Make sense to show 1 instead of empty when there are no items\r\n        var totalPages = Math.max(Math.ceil(totalItems / itemsPerPage), 1);\r\n        var halfWay = Math.ceil(paginationRange / 2);\r\n        var isStart = currentPage <= halfWay;\r\n        var isEnd = totalPages - halfWay < currentPage;\r\n        var isMiddle = !isStart && !isEnd;\r\n        var ellipsesNeeded = paginationRange < totalPages;\r\n        var i = 1;\r\n        while (i <= totalPages && i <= paginationRange) {\r\n            var label = void 0;\r\n            var pageNumber = this.calculatePageNumber(i, currentPage, paginationRange, totalPages);\r\n            var openingEllipsesNeeded = (i === 2 && (isMiddle || isEnd));\r\n            var closingEllipsesNeeded = (i === paginationRange - 1 && (isMiddle || isStart));\r\n            if (ellipsesNeeded && (openingEllipsesNeeded || closingEllipsesNeeded)) {\r\n                label = '...';\r\n            }\r\n            else {\r\n                label = pageNumber;\r\n            }\r\n            pages.push({\r\n                label: label,\r\n                value: pageNumber\r\n            });\r\n            i++;\r\n        }\r\n        return pages;\r\n    };\r\n    /**\r\n     * Given the position in the sequence of pagination links [i],\r\n     * figure out what page number corresponds to that position.\r\n     */\r\n    PaginationControlsDirective.prototype.calculatePageNumber = function (i, currentPage, paginationRange, totalPages) {\r\n        var halfWay = Math.ceil(paginationRange / 2);\r\n        if (i === paginationRange) {\r\n            return totalPages;\r\n        }\r\n        else if (i === 1) {\r\n            return i;\r\n        }\r\n        else if (paginationRange < totalPages) {\r\n            if (totalPages - halfWay < currentPage) {\r\n                return totalPages - paginationRange + i;\r\n            }\r\n            else if (halfWay < currentPage) {\r\n                return currentPage - halfWay + i;\r\n            }\r\n            else {\r\n                return i;\r\n            }\r\n        }\r\n        else {\r\n            return i;\r\n        }\r\n    };\r\n    __decorate$3([\r\n        Input(),\r\n        __metadata$2(\"design:type\", String)\r\n    ], PaginationControlsDirective.prototype, \"id\", void 0);\r\n    __decorate$3([\r\n        Input(),\r\n        __metadata$2(\"design:type\", Number)\r\n    ], PaginationControlsDirective.prototype, \"maxSize\", void 0);\r\n    __decorate$3([\r\n        Output(),\r\n        __metadata$2(\"design:type\", EventEmitter)\r\n    ], PaginationControlsDirective.prototype, \"pageChange\", void 0);\r\n    __decorate$3([\r\n        Output(),\r\n        __metadata$2(\"design:type\", EventEmitter)\r\n    ], PaginationControlsDirective.prototype, \"pageBoundsCorrection\", void 0);\r\n    PaginationControlsDirective = __decorate$3([ __metadata$2(\"design:paramtypes\", [PaginationService,\r\n            ChangeDetectorRef])\r\n    ], PaginationControlsDirective);\nPaginationControlsDirective.fac = function PaginationControlsDirective_Factory(t) { return new (t || PaginationControlsDirective)(ngcc0.directiveInject(PaginationService), ngcc0.directiveInject(ngcc0.ChangeDetectorRef)); };\nPaginationControlsDirective.dir = ngcc0.defineDirective({ type: PaginationControlsDirective, selectors: [[\"pagination-template\"], [\"\", \"pagination-template\", \"\"]], inputs: { maxSize: \"maxSize\", id: \"id\" }, outputs: { pageChange: \"pageChange\", pageBoundsCorrection: \"pageBoundsCorrection\" }, exportAs: [\"paginationApi\"], features: [ngcc0.NgOnChangesFeature] });\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(PaginationControlsDirective, [{\n        type: Directive,\n        args: [{\n                selector: 'pagination-template,[pagination-template]',\n                exportAs: 'paginationApi'\n            }]\n    }], function () { return [{ type: PaginationService }, { type: ngcc0.ChangeDetectorRef }]; }, { maxSize: [{\n            type: Input\n        }], pageChange: [{\n            type: Output\n        }], pageBoundsCorrection: [{\n            type: Output\n        }], id: [{\n            type: Input\n        }] }); })();\r\n    return PaginationControlsDirective;\r\n}());\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar NgxPaginationModule = /** @class */ (function () {\r\n    function NgxPaginationModule() {\r\n    }\nNgxPaginationModule.mod = ngcc0.defineNgModule({ type: NgxPaginationModule });\nNgxPaginationModule.inj = ngcc0.defineInjector({ factory: function NgxPaginationModule_Factory(t) { return new (t || NgxPaginationModule)(); }, providers: [PaginationService], imports: [[CommonModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ngcc0.setNgModuleScope(NgxPaginationModule, { declarations: function () { return [PaginatePipe,\n        PaginationControlsComponent,\n        PaginationControlsDirective]; }, imports: function () { return [CommonModule]; }, exports: function () { return [PaginatePipe,\n        PaginationControlsComponent,\n        PaginationControlsDirective]; } }); })();\n/*@__PURE__*/ (function () { ngcc0.setClassMetadata(NgxPaginationModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CommonModule],\n                declarations: [\n                    PaginatePipe,\n                    PaginationControlsComponent,\n                    PaginationControlsDirective\n                ],\n                providers: [PaginationService],\n                exports: [PaginatePipe, PaginationControlsComponent, PaginationControlsDirective]\n            }]\n    }], function () { return []; }, null); })();\r\n    return NgxPaginationModule;\r\n}());\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { DEFAULT_STYLES as b, DEFAULT_TEMPLATE as a, NgxPaginationModule, PaginationService, PaginationControlsComponent, PaginationControlsDirective, PaginatePipe };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXBhZ2luYXRpb24uanMiLCJzb3VyY2VzIjpbIm5neC1wYWdpbmF0aW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FLTztBQUNQOzs7Ozs7Ozs7MkVBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFTb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBS087QUFDUDtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7OztvQkFBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztnREFZNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcG9uZW50LCBEaXJlY3RpdmUsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE5nTW9kdWxlLCBPdXRwdXQsIFBpcGUsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG52YXIgUGFnaW5hdGlvblNlcnZpY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQYWdpbmF0aW9uU2VydmljZSgpIHtcclxuICAgICAgICB0aGlzLmNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuREVGQVVMVF9JRCA9ICdERUZBVUxUX1BBR0lOQVRJT05fSUQnO1xyXG4gICAgfVxyXG4gICAgUGFnaW5hdGlvblNlcnZpY2UucHJvdG90eXBlLmRlZmF1bHRJZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuREVGQVVMVF9JRDsgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXIgYSBQYWdpbmF0aW9uSW5zdGFuY2Ugd2l0aCB0aGlzIHNlcnZpY2UuIFJldHVybnMgYVxyXG4gICAgICogYm9vbGVhbiB2YWx1ZSBzaWduaWZ5aW5nIHdoZXRoZXIgdGhlIGluc3RhbmNlIGlzIG5ldyBvclxyXG4gICAgICogdXBkYXRlZCAodHJ1ZSA9IG5ldyBvciB1cGRhdGVkLCBmYWxzZSA9IHVuY2hhbmdlZCkuXHJcbiAgICAgKi9cclxuICAgIFBhZ2luYXRpb25TZXJ2aWNlLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xyXG4gICAgICAgIGlmIChpbnN0YW5jZS5pZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmlkID0gdGhpcy5ERUZBVUxUX0lEO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VzW2luc3RhbmNlLmlkXSkge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlc1tpbnN0YW5jZS5pZF0gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVJbnN0YW5jZShpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgZWFjaCBwcm9wZXJ0eSBvZiB0aGUgaW5zdGFuY2UgYW5kIHVwZGF0ZSBhbnkgdGhhdCBoYXZlIGNoYW5nZWQuIFJldHVyblxyXG4gICAgICogdHJ1ZSBpZiBhbnkgY2hhbmdlcyB3ZXJlIG1hZGUsIGVsc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAgICovXHJcbiAgICBQYWdpbmF0aW9uU2VydmljZS5wcm90b3R5cGUudXBkYXRlSW5zdGFuY2UgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcclxuICAgICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gdGhpcy5pbnN0YW5jZXNbaW5zdGFuY2UuaWRdKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZVtwcm9wXSAhPT0gdGhpcy5pbnN0YW5jZXNbaW5zdGFuY2UuaWRdW3Byb3BdKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlc1tpbnN0YW5jZS5pZF1bcHJvcF0gPSBpbnN0YW5jZVtwcm9wXTtcclxuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjaGFuZ2VkO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBwYWdlIG51bWJlci5cclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGlvblNlcnZpY2UucHJvdG90eXBlLmdldEN1cnJlbnRQYWdlID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2VzW2lkXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXNbaWRdLmN1cnJlbnRQYWdlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgcGFnZSBudW1iZXIuXHJcbiAgICAgKi9cclxuICAgIFBhZ2luYXRpb25TZXJ2aWNlLnByb3RvdHlwZS5zZXRDdXJyZW50UGFnZSA9IGZ1bmN0aW9uIChpZCwgcGFnZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlc1tpZF0pIHtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZXNbaWRdO1xyXG4gICAgICAgICAgICB2YXIgbWF4UGFnZSA9IE1hdGguY2VpbChpbnN0YW5jZS50b3RhbEl0ZW1zIC8gaW5zdGFuY2UuaXRlbXNQZXJQYWdlKTtcclxuICAgICAgICAgICAgaWYgKHBhZ2UgPD0gbWF4UGFnZSAmJiAxIDw9IHBhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzW2lkXS5jdXJyZW50UGFnZSA9IHBhZ2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZS5lbWl0KGlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIHZhbHVlIG9mIGluc3RhbmNlLnRvdGFsSXRlbXNcclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGlvblNlcnZpY2UucHJvdG90eXBlLnNldFRvdGFsSXRlbXMgPSBmdW5jdGlvbiAoaWQsIHRvdGFsSXRlbXMpIHtcclxuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZXNbaWRdICYmIDAgPD0gdG90YWxJdGVtcykge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlc1tpZF0udG90YWxJdGVtcyA9IHRvdGFsSXRlbXM7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlLmVtaXQoaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIHZhbHVlIG9mIGluc3RhbmNlLml0ZW1zUGVyUGFnZS5cclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGlvblNlcnZpY2UucHJvdG90eXBlLnNldEl0ZW1zUGVyUGFnZSA9IGZ1bmN0aW9uIChpZCwgaXRlbXNQZXJQYWdlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2VzW2lkXSkge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlc1tpZF0uaXRlbXNQZXJQYWdlID0gaXRlbXNQZXJQYWdlO1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZS5lbWl0KGlkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIHBhZ2luYXRpb24gaW5zdGFuY2Ugb2JqZWN0IG1hdGNoaW5nIHRoZSBpZC4gSWYgbm9cclxuICAgICAqIGlkIHNwZWNpZmllZCwgcmV0dXJucyB0aGUgaW5zdGFuY2UgY29ycmVzcG9uZGluZyB0byB0aGUgZGVmYXVsdCBpZC5cclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGlvblNlcnZpY2UucHJvdG90eXBlLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgaWYgKGlkID09PSB2b2lkIDApIHsgaWQgPSB0aGlzLkRFRkFVTFRfSUQ7IH1cclxuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZXNbaWRdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb25lKHRoaXMuaW5zdGFuY2VzW2lkXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gYSBzaGFsbG93IGNsb25lIG9mIGFuIG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGlvblNlcnZpY2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBpIGluIG9iaikge1xyXG4gICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRbaV0gPSBvYmpbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUGFnaW5hdGlvblNlcnZpY2U7XHJcbn0oKSk7XG5cbnZhciBfX2RlY29yYXRlJDEgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbnZhciBfX21ldGFkYXRhID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcclxufTtcclxudmFyIExBUkdFX05VTUJFUiA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xyXG52YXIgUGFnaW5hdGVQaXBlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUGFnaW5hdGVQaXBlKHNlcnZpY2UpIHtcclxuICAgICAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlO1xyXG4gICAgICAgIC8vIHN0b3JlIHRoZSB2YWx1ZXMgZnJvbSB0aGUgbGFzdCB0aW1lIHRoZSBwaXBlIHdhcyBpbnZva2VkXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xyXG4gICAgfVxyXG4gICAgUGFnaW5hdGVQaXBlLnByb3RvdHlwZS50cmFuc2Zvcm0gPSBmdW5jdGlvbiAoY29sbGVjdGlvbiwgYXJncykge1xyXG4gICAgICAgIC8vIFdoZW4gYW4gb2JzZXJ2YWJsZSBpcyBwYXNzZWQgdGhyb3VnaCB0aGUgQXN5bmNQaXBlLCBpdCB3aWxsIG91dHB1dFxyXG4gICAgICAgIC8vIGBudWxsYCB1bnRpbCB0aGUgc3Vic2NyaXB0aW9uIHJlc29sdmVzLiBJbiB0aGlzIGNhc2UsIHdlIHdhbnQgdG9cclxuICAgICAgICAvLyB1c2UgdGhlIGNhY2hlZCBkYXRhIGZyb20gdGhlIGBzdGF0ZWAgb2JqZWN0IHRvIHByZXZlbnQgdGhlIE5nRm9yXHJcbiAgICAgICAgLy8gZnJvbSBmbGFzaGluZyBlbXB0eSB1bnRpbCB0aGUgcmVhbCB2YWx1ZXMgYXJyaXZlLlxyXG4gICAgICAgIGlmICghKGNvbGxlY3Rpb24gaW5zdGFuY2VvZiBBcnJheSkpIHtcclxuICAgICAgICAgICAgdmFyIF9pZCA9IGFyZ3MuaWQgfHwgdGhpcy5zZXJ2aWNlLmRlZmF1bHRJZCgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZVtfaWRdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZVtfaWRdLnNsaWNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHNlcnZlclNpZGVNb2RlID0gYXJncy50b3RhbEl0ZW1zICYmIGFyZ3MudG90YWxJdGVtcyAhPT0gY29sbGVjdGlvbi5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcy5jcmVhdGVJbnN0YW5jZShjb2xsZWN0aW9uLCBhcmdzKTtcclxuICAgICAgICB2YXIgaWQgPSBpbnN0YW5jZS5pZDtcclxuICAgICAgICB2YXIgc3RhcnQsIGVuZDtcclxuICAgICAgICB2YXIgcGVyUGFnZSA9IGluc3RhbmNlLml0ZW1zUGVyUGFnZTtcclxuICAgICAgICB2YXIgZW1pdENoYW5nZSA9IHRoaXMuc2VydmljZS5yZWdpc3RlcihpbnN0YW5jZSk7XHJcbiAgICAgICAgaWYgKCFzZXJ2ZXJTaWRlTW9kZSAmJiBjb2xsZWN0aW9uIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgcGVyUGFnZSA9ICtwZXJQYWdlIHx8IExBUkdFX05VTUJFUjtcclxuICAgICAgICAgICAgc3RhcnQgPSAoaW5zdGFuY2UuY3VycmVudFBhZ2UgLSAxKSAqIHBlclBhZ2U7XHJcbiAgICAgICAgICAgIGVuZCA9IHN0YXJ0ICsgcGVyUGFnZTtcclxuICAgICAgICAgICAgdmFyIGlzSWRlbnRpY2FsID0gdGhpcy5zdGF0ZUlzSWRlbnRpY2FsKGlkLCBjb2xsZWN0aW9uLCBzdGFydCwgZW5kKTtcclxuICAgICAgICAgICAgaWYgKGlzSWRlbnRpY2FsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZVtpZF0uc2xpY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2xpY2UgPSBjb2xsZWN0aW9uLnNsaWNlKHN0YXJ0LCBlbmQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlU3RhdGUoaWQsIGNvbGxlY3Rpb24sIHNsaWNlLCBzdGFydCwgZW5kKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VydmljZS5jaGFuZ2UuZW1pdChpZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2xpY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChlbWl0Q2hhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlcnZpY2UuY2hhbmdlLmVtaXQoaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHNhdmUgdGhlIHN0YXRlIGZvciBzZXJ2ZXItc2lkZSBjb2xsZWN0aW9uIHRvIGF2b2lkIG51bGxcclxuICAgICAgICAgICAgLy8gZmxhc2ggYXMgbmV3IGRhdGEgbG9hZHMuXHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZVN0YXRlKGlkLCBjb2xsZWN0aW9uLCBjb2xsZWN0aW9uLCBzdGFydCwgZW5kKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuIFBhZ2luYXRpb25JbnN0YW5jZSBvYmplY3QsIHVzaW5nIGRlZmF1bHRzIGZvciBhbnkgb3B0aW9uYWwgcHJvcGVydGllcyBub3Qgc3VwcGxpZWQuXHJcbiAgICAgKi9cclxuICAgIFBhZ2luYXRlUGlwZS5wcm90b3R5cGUuY3JlYXRlSW5zdGFuY2UgPSBmdW5jdGlvbiAoY29sbGVjdGlvbiwgY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5jaGVja0NvbmZpZyhjb25maWcpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlkOiBjb25maWcuaWQgIT0gbnVsbCA/IGNvbmZpZy5pZCA6IHRoaXMuc2VydmljZS5kZWZhdWx0SWQoKSxcclxuICAgICAgICAgICAgaXRlbXNQZXJQYWdlOiArY29uZmlnLml0ZW1zUGVyUGFnZSB8fCAwLFxyXG4gICAgICAgICAgICBjdXJyZW50UGFnZTogK2NvbmZpZy5jdXJyZW50UGFnZSB8fCAxLFxyXG4gICAgICAgICAgICB0b3RhbEl0ZW1zOiArY29uZmlnLnRvdGFsSXRlbXMgfHwgY29sbGVjdGlvbi5sZW5ndGhcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRW5zdXJlIHRoZSBhcmd1bWVudCBwYXNzZWQgdG8gdGhlIGZpbHRlciBjb250YWlucyB0aGUgcmVxdWlyZWQgcHJvcGVydGllcy5cclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGVQaXBlLnByb3RvdHlwZS5jaGVja0NvbmZpZyA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICB2YXIgcmVxdWlyZWQgPSBbJ2l0ZW1zUGVyUGFnZScsICdjdXJyZW50UGFnZSddO1xyXG4gICAgICAgIHZhciBtaXNzaW5nID0gcmVxdWlyZWQuZmlsdGVyKGZ1bmN0aW9uIChwcm9wKSB7IHJldHVybiAhKHByb3AgaW4gY29uZmlnKTsgfSk7XHJcbiAgICAgICAgaWYgKDAgPCBtaXNzaW5nLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYWdpbmF0ZVBpcGU6IEFyZ3VtZW50IGlzIG1pc3NpbmcgdGhlIGZvbGxvd2luZyByZXF1aXJlZCBwcm9wZXJ0aWVzOiBcIiArIG1pc3Npbmcuam9pbignLCAnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVG8gYXZvaWQgcmV0dXJuaW5nIGEgYnJhbmQgbmV3IGFycmF5IGVhY2ggdGltZSB0aGUgcGlwZSBpcyBydW4sIHdlIHN0b3JlIHRoZSBzdGF0ZSBvZiB0aGUgc2xpY2VkXHJcbiAgICAgKiBhcnJheSBmb3IgYSBnaXZlbiBpZC4gVGhpcyBtZWFucyB0aGF0IHRoZSBuZXh0IHRpbWUgdGhlIHBpcGUgaXMgcnVuIG9uIHRoaXMgY29sbGVjdGlvbiAmIGlkLCB3ZSBqdXN0XHJcbiAgICAgKiBuZWVkIHRvIGNoZWNrIHRoYXQgdGhlIGNvbGxlY3Rpb24sIHN0YXJ0IGFuZCBlbmQgcG9pbnRzIGFyZSBhbGwgaWRlbnRpY2FsLCBhbmQgaWYgc28sIHJldHVybiB0aGVcclxuICAgICAqIGxhc3Qgc2xpY2VkIGFycmF5LlxyXG4gICAgICovXHJcbiAgICBQYWdpbmF0ZVBpcGUucHJvdG90eXBlLnNhdmVTdGF0ZSA9IGZ1bmN0aW9uIChpZCwgY29sbGVjdGlvbiwgc2xpY2UsIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICB0aGlzLnN0YXRlW2lkXSA9IHtcclxuICAgICAgICAgICAgY29sbGVjdGlvbjogY29sbGVjdGlvbixcclxuICAgICAgICAgICAgc2l6ZTogY29sbGVjdGlvbi5sZW5ndGgsXHJcbiAgICAgICAgICAgIHNsaWNlOiBzbGljZSxcclxuICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxyXG4gICAgICAgICAgICBlbmQ6IGVuZFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBGb3IgYSBnaXZlbiBpZCwgcmV0dXJucyB0cnVlIGlmIHRoZSBjb2xsZWN0aW9uLCBzaXplLCBzdGFydCBhbmQgZW5kIHZhbHVlcyBhcmUgaWRlbnRpY2FsLlxyXG4gICAgICovXHJcbiAgICBQYWdpbmF0ZVBpcGUucHJvdG90eXBlLnN0YXRlSXNJZGVudGljYWwgPSBmdW5jdGlvbiAoaWQsIGNvbGxlY3Rpb24sIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlW2lkXTtcclxuICAgICAgICBpZiAoIXN0YXRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGlzTWV0YURhdGFJZGVudGljYWwgPSBzdGF0ZS5zaXplID09PSBjb2xsZWN0aW9uLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICBzdGF0ZS5zdGFydCA9PT0gc3RhcnQgJiZcclxuICAgICAgICAgICAgc3RhdGUuZW5kID09PSBlbmQ7XHJcbiAgICAgICAgaWYgKCFpc01ldGFEYXRhSWRlbnRpY2FsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0YXRlLnNsaWNlLmV2ZXJ5KGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCkgeyByZXR1cm4gZWxlbWVudCA9PT0gY29sbGVjdGlvbltzdGFydCArIGluZGV4XTsgfSk7XHJcbiAgICB9O1xyXG4gICAgUGFnaW5hdGVQaXBlID0gX19kZWNvcmF0ZSQxKFtcclxuICAgICAgICBQaXBlKHtcclxuICAgICAgICAgICAgbmFtZTogJ3BhZ2luYXRlJyxcclxuICAgICAgICAgICAgcHVyZTogZmFsc2VcclxuICAgICAgICB9KSxcclxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1BhZ2luYXRpb25TZXJ2aWNlXSlcclxuICAgIF0sIFBhZ2luYXRlUGlwZSk7XHJcbiAgICByZXR1cm4gUGFnaW5hdGVQaXBlO1xyXG59KCkpO1xuXG4vKipcclxuICogVGhlIGRlZmF1bHQgdGVtcGxhdGUgYW5kIHN0eWxlcyBmb3IgdGhlIHBhZ2luYXRpb24gbGlua3MgYXJlIGJvcnJvd2VkIGRpcmVjdGx5XHJcbiAqIGZyb20gWnVyYiBGb3VuZGF0aW9uIDY6IGh0dHA6Ly9mb3VuZGF0aW9uLnp1cmIuY29tL3NpdGVzL2RvY3MvcGFnaW5hdGlvbi5odG1sXHJcbiAqL1xyXG52YXIgREVGQVVMVF9URU1QTEFURSA9IFwiXFxuICAgIDxwYWdpbmF0aW9uLXRlbXBsYXRlICAjcD1cXFwicGFnaW5hdGlvbkFwaVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgW2lkXT1cXFwiaWRcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgIFttYXhTaXplXT1cXFwibWF4U2l6ZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgKHBhZ2VDaGFuZ2UpPVxcXCJwYWdlQ2hhbmdlLmVtaXQoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgKHBhZ2VCb3VuZHNDb3JyZWN0aW9uKT1cXFwicGFnZUJvdW5kc0NvcnJlY3Rpb24uZW1pdCgkZXZlbnQpXFxcIj5cXG4gICAgPHVsIGNsYXNzPVxcXCJuZ3gtcGFnaW5hdGlvblxcXCJcXG4gICAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVxcXCJzY3JlZW5SZWFkZXJQYWdpbmF0aW9uTGFiZWxcXFwiIFxcbiAgICAgICAgW2NsYXNzLnJlc3BvbnNpdmVdPVxcXCJyZXNwb25zaXZlXFxcIlxcbiAgICAgICAgKm5nSWY9XFxcIiEoYXV0b0hpZGUgJiYgcC5wYWdlcy5sZW5ndGggPD0gMSlcXFwiPlxcblxcbiAgICAgICAgPGxpIGNsYXNzPVxcXCJwYWdpbmF0aW9uLXByZXZpb3VzXFxcIiBbY2xhc3MuZGlzYWJsZWRdPVxcXCJwLmlzRmlyc3RQYWdlKClcXFwiICpuZ0lmPVxcXCJkaXJlY3Rpb25MaW5rc1xcXCI+IFxcbiAgICAgICAgICAgIDxhIHRhYmluZGV4PVxcXCIwXFxcIiAqbmdJZj1cXFwiMSA8IHAuZ2V0Q3VycmVudCgpXFxcIiAoa2V5dXAuZW50ZXIpPVxcXCJwLnByZXZpb3VzKClcXFwiIChjbGljayk9XFxcInAucHJldmlvdXMoKVxcXCIgW2F0dHIuYXJpYS1sYWJlbF09XFxcInByZXZpb3VzTGFiZWwgKyAnICcgKyBzY3JlZW5SZWFkZXJQYWdlTGFiZWxcXFwiPlxcbiAgICAgICAgICAgICAgICB7eyBwcmV2aW91c0xhYmVsIH19IDxzcGFuIGNsYXNzPVxcXCJzaG93LWZvci1zclxcXCI+e3sgc2NyZWVuUmVhZGVyUGFnZUxhYmVsIH19PC9zcGFuPlxcbiAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICA8c3BhbiAqbmdJZj1cXFwicC5pc0ZpcnN0UGFnZSgpXFxcIj5cXG4gICAgICAgICAgICAgICAge3sgcHJldmlvdXNMYWJlbCB9fSA8c3BhbiBjbGFzcz1cXFwic2hvdy1mb3Itc3JcXFwiPnt7IHNjcmVlblJlYWRlclBhZ2VMYWJlbCB9fTwvc3Bhbj5cXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICA8L2xpPiBcXG5cXG4gICAgICAgIDxsaSBjbGFzcz1cXFwic21hbGwtc2NyZWVuXFxcIj5cXG4gICAgICAgICAgICB7eyBwLmdldEN1cnJlbnQoKSB9fSAvIHt7IHAuZ2V0TGFzdFBhZ2UoKSB9fVxcbiAgICAgICAgPC9saT5cXG5cXG4gICAgICAgIDxsaSBbY2xhc3MuY3VycmVudF09XFxcInAuZ2V0Q3VycmVudCgpID09PSBwYWdlLnZhbHVlXFxcIiBcXG4gICAgICAgICAgICBbY2xhc3MuZWxsaXBzaXNdPVxcXCJwYWdlLmxhYmVsID09PSAnLi4uJ1xcXCJcXG4gICAgICAgICAgICAqbmdGb3I9XFxcImxldCBwYWdlIG9mIHAucGFnZXM7IHRyYWNrQnk6IHRyYWNrQnlJbmRleFxcXCI+XFxuICAgICAgICAgICAgPGEgdGFiaW5kZXg9XFxcIjBcXFwiIChrZXl1cC5lbnRlcik9XFxcInAuc2V0Q3VycmVudChwYWdlLnZhbHVlKVxcXCIgKGNsaWNrKT1cXFwicC5zZXRDdXJyZW50KHBhZ2UudmFsdWUpXFxcIiAqbmdJZj1cXFwicC5nZXRDdXJyZW50KCkgIT09IHBhZ2UudmFsdWVcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwic2hvdy1mb3Itc3JcXFwiPnt7IHNjcmVlblJlYWRlclBhZ2VMYWJlbCB9fSA8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuPnt7IChwYWdlLmxhYmVsID09PSAnLi4uJykgPyBwYWdlLmxhYmVsIDogKHBhZ2UubGFiZWwgfCBudW1iZXI6JycpIH19PC9zcGFuPlxcbiAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVxcXCJwLmdldEN1cnJlbnQoKSA9PT0gcGFnZS52YWx1ZVxcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzaG93LWZvci1zclxcXCI+e3sgc2NyZWVuUmVhZGVyQ3VycmVudExhYmVsIH19IDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPHNwYW4+e3sgKHBhZ2UubGFiZWwgPT09ICcuLi4nKSA/IHBhZ2UubGFiZWwgOiAocGFnZS5sYWJlbCB8IG51bWJlcjonJykgfX08L3NwYW4+IFxcbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxcbiAgICAgICAgPC9saT5cXG5cXG4gICAgICAgIDxsaSBjbGFzcz1cXFwicGFnaW5hdGlvbi1uZXh0XFxcIiBbY2xhc3MuZGlzYWJsZWRdPVxcXCJwLmlzTGFzdFBhZ2UoKVxcXCIgKm5nSWY9XFxcImRpcmVjdGlvbkxpbmtzXFxcIj5cXG4gICAgICAgICAgICA8YSB0YWJpbmRleD1cXFwiMFxcXCIgKm5nSWY9XFxcIiFwLmlzTGFzdFBhZ2UoKVxcXCIgKGtleXVwLmVudGVyKT1cXFwicC5uZXh0KClcXFwiIChjbGljayk9XFxcInAubmV4dCgpXFxcIiBbYXR0ci5hcmlhLWxhYmVsXT1cXFwibmV4dExhYmVsICsgJyAnICsgc2NyZWVuUmVhZGVyUGFnZUxhYmVsXFxcIj5cXG4gICAgICAgICAgICAgICAgIHt7IG5leHRMYWJlbCB9fSA8c3BhbiBjbGFzcz1cXFwic2hvdy1mb3Itc3JcXFwiPnt7IHNjcmVlblJlYWRlclBhZ2VMYWJlbCB9fTwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgPHNwYW4gKm5nSWY9XFxcInAuaXNMYXN0UGFnZSgpXFxcIj5cXG4gICAgICAgICAgICAgICAgIHt7IG5leHRMYWJlbCB9fSA8c3BhbiBjbGFzcz1cXFwic2hvdy1mb3Itc3JcXFwiPnt7IHNjcmVlblJlYWRlclBhZ2VMYWJlbCB9fTwvc3Bhbj5cXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICA8L2xpPlxcblxcbiAgICA8L3VsPlxcbiAgICA8L3BhZ2luYXRpb24tdGVtcGxhdGU+XFxuICAgIFwiO1xyXG52YXIgREVGQVVMVF9TVFlMRVMgPSBcIlxcbi5uZ3gtcGFnaW5hdGlvbiB7XFxuICBtYXJnaW4tbGVmdDogMDtcXG4gIG1hcmdpbi1ib3R0b206IDFyZW07IH1cXG4gIC5uZ3gtcGFnaW5hdGlvbjo6YmVmb3JlLCAubmd4LXBhZ2luYXRpb246OmFmdGVyIHtcXG4gICAgY29udGVudDogJyAnO1xcbiAgICBkaXNwbGF5OiB0YWJsZTsgfVxcbiAgLm5neC1wYWdpbmF0aW9uOjphZnRlciB7XFxuICAgIGNsZWFyOiBib3RoOyB9XFxuICAubmd4LXBhZ2luYXRpb24gbGkge1xcbiAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIG1hcmdpbi1yaWdodDogMC4wNjI1cmVtO1xcbiAgICBib3JkZXItcmFkaXVzOiAwOyB9XFxuICAubmd4LXBhZ2luYXRpb24gbGkge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IH1cXG4gIC5uZ3gtcGFnaW5hdGlvbiBhLFxcbiAgLm5neC1wYWdpbmF0aW9uIGJ1dHRvbiB7XFxuICAgIGNvbG9yOiAjMGEwYTBhOyBcXG4gICAgZGlzcGxheTogYmxvY2s7XFxuICAgIHBhZGRpbmc6IDAuMTg3NXJlbSAwLjYyNXJlbTtcXG4gICAgYm9yZGVyLXJhZGl1czogMDsgfVxcbiAgICAubmd4LXBhZ2luYXRpb24gYTpob3ZlcixcXG4gICAgLm5neC1wYWdpbmF0aW9uIGJ1dHRvbjpob3ZlciB7XFxuICAgICAgYmFja2dyb3VuZDogI2U2ZTZlNjsgfVxcbiAgLm5neC1wYWdpbmF0aW9uIC5jdXJyZW50IHtcXG4gICAgcGFkZGluZzogMC4xODc1cmVtIDAuNjI1cmVtO1xcbiAgICBiYWNrZ3JvdW5kOiAjMjE5OWU4O1xcbiAgICBjb2xvcjogI2ZlZmVmZTtcXG4gICAgY3Vyc29yOiBkZWZhdWx0OyB9XFxuICAubmd4LXBhZ2luYXRpb24gLmRpc2FibGVkIHtcXG4gICAgcGFkZGluZzogMC4xODc1cmVtIDAuNjI1cmVtO1xcbiAgICBjb2xvcjogI2NhY2FjYTtcXG4gICAgY3Vyc29yOiBkZWZhdWx0OyB9IFxcbiAgICAubmd4LXBhZ2luYXRpb24gLmRpc2FibGVkOmhvdmVyIHtcXG4gICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgfVxcbiAgLm5neC1wYWdpbmF0aW9uIGEsIC5uZ3gtcGFnaW5hdGlvbiBidXR0b24ge1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7IH1cXG5cXG4ubmd4LXBhZ2luYXRpb24gLnBhZ2luYXRpb24tcHJldmlvdXMgYTo6YmVmb3JlLFxcbi5uZ3gtcGFnaW5hdGlvbiAucGFnaW5hdGlvbi1wcmV2aW91cy5kaXNhYmxlZDo6YmVmb3JlIHsgXFxuICBjb250ZW50OiAnXFx1MDBBQic7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTsgfVxcblxcbi5uZ3gtcGFnaW5hdGlvbiAucGFnaW5hdGlvbi1uZXh0IGE6OmFmdGVyLFxcbi5uZ3gtcGFnaW5hdGlvbiAucGFnaW5hdGlvbi1uZXh0LmRpc2FibGVkOjphZnRlciB7XFxuICBjb250ZW50OiAnXFx1MDBCQic7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBtYXJnaW4tbGVmdDogMC41cmVtOyB9XFxuXFxuLm5neC1wYWdpbmF0aW9uIC5zaG93LWZvci1zciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGUgIWltcG9ydGFudDtcXG4gIHdpZHRoOiAxcHg7XFxuICBoZWlnaHQ6IDFweDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBjbGlwOiByZWN0KDAsIDAsIDAsIDApOyB9XFxuLm5neC1wYWdpbmF0aW9uIC5zbWFsbC1zY3JlZW4ge1xcbiAgZGlzcGxheTogbm9uZTsgfVxcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMXB4KSB7XFxuICAubmd4LXBhZ2luYXRpb24ucmVzcG9uc2l2ZSAuc21hbGwtc2NyZWVuIHtcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrOyB9IFxcbiAgLm5neC1wYWdpbmF0aW9uLnJlc3BvbnNpdmUgbGk6bm90KC5zbWFsbC1zY3JlZW4pOm5vdCgucGFnaW5hdGlvbi1wcmV2aW91cyk6bm90KC5wYWdpbmF0aW9uLW5leHQpIHtcXG4gICAgZGlzcGxheTogbm9uZTsgfVxcbn1cXG4gIFwiO1xuXG52YXIgX19kZWNvcmF0ZSQyID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG52YXIgX19tZXRhZGF0YSQxID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcclxufTtcclxuZnVuY3Rpb24gY29lcmNlVG9Cb29sZWFuKGlucHV0KSB7XHJcbiAgICByZXR1cm4gISFpbnB1dCAmJiBpbnB1dCAhPT0gJ2ZhbHNlJztcclxufVxyXG4vKipcclxuICogVGhlIGRlZmF1bHQgcGFnaW5hdGlvbiBjb250cm9scyBjb21wb25lbnQuIEFjdHVhbGx5IGp1c3QgYSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIGEgY3VzdG9tIHRlbXBsYXRlLlxyXG4gKi9cclxudmFyIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudCgpIHtcclxuICAgICAgICB0aGlzLm1heFNpemUgPSA3O1xyXG4gICAgICAgIHRoaXMucHJldmlvdXNMYWJlbCA9ICdQcmV2aW91cyc7XHJcbiAgICAgICAgdGhpcy5uZXh0TGFiZWwgPSAnTmV4dCc7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5SZWFkZXJQYWdpbmF0aW9uTGFiZWwgPSAnUGFnaW5hdGlvbic7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5SZWFkZXJQYWdlTGFiZWwgPSAncGFnZSc7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5SZWFkZXJDdXJyZW50TGFiZWwgPSBcIllvdSdyZSBvbiBwYWdlXCI7XHJcbiAgICAgICAgdGhpcy5wYWdlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgICAgIHRoaXMucGFnZUJvdW5kc0NvcnJlY3Rpb24gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uTGlua3MgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX2F1dG9IaWRlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fcmVzcG9uc2l2ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZGlyZWN0aW9uTGlua3NcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlyZWN0aW9uTGlua3M7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb25MaW5rcyA9IGNvZXJjZVRvQm9vbGVhbih2YWx1ZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFnaW5hdGlvbkNvbnRyb2xzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhdXRvSGlkZVwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdXRvSGlkZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2F1dG9IaWRlID0gY29lcmNlVG9Cb29sZWFuKHZhbHVlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQYWdpbmF0aW9uQ29udHJvbHNDb21wb25lbnQucHJvdG90eXBlLCBcInJlc3BvbnNpdmVcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzcG9uc2l2ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc3BvbnNpdmUgPSBjb2VyY2VUb0Jvb2xlYW4odmFsdWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgUGFnaW5hdGlvbkNvbnRyb2xzQ29tcG9uZW50LnByb3RvdHlwZS50cmFja0J5SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9O1xyXG4gICAgX19kZWNvcmF0ZSQyKFtcclxuICAgICAgICBJbnB1dCgpLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcclxuICAgIF0sIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiaWRcIiwgdm9pZCAwKTtcclxuICAgIF9fZGVjb3JhdGUkMihbXHJcbiAgICAgICAgSW5wdXQoKSxcclxuICAgICAgICBfX21ldGFkYXRhJDEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXHJcbiAgICBdLCBQYWdpbmF0aW9uQ29udHJvbHNDb21wb25lbnQucHJvdG90eXBlLCBcIm1heFNpemVcIiwgdm9pZCAwKTtcclxuICAgIF9fZGVjb3JhdGUkMihbXHJcbiAgICAgICAgSW5wdXQoKSxcclxuICAgICAgICBfX21ldGFkYXRhJDEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKSxcclxuICAgICAgICBfX21ldGFkYXRhJDEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbQm9vbGVhbl0pXHJcbiAgICBdLCBQYWdpbmF0aW9uQ29udHJvbHNDb21wb25lbnQucHJvdG90eXBlLCBcImRpcmVjdGlvbkxpbmtzXCIsIG51bGwpO1xyXG4gICAgX19kZWNvcmF0ZSQyKFtcclxuICAgICAgICBJbnB1dCgpLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtCb29sZWFuXSlcclxuICAgIF0sIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiYXV0b0hpZGVcIiwgbnVsbCk7XHJcbiAgICBfX2RlY29yYXRlJDIoW1xyXG4gICAgICAgIElucHV0KCksXHJcbiAgICAgICAgX19tZXRhZGF0YSQxKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbiksXHJcbiAgICAgICAgX19tZXRhZGF0YSQxKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW0Jvb2xlYW5dKVxyXG4gICAgXSwgUGFnaW5hdGlvbkNvbnRyb2xzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyZXNwb25zaXZlXCIsIG51bGwpO1xyXG4gICAgX19kZWNvcmF0ZSQyKFtcclxuICAgICAgICBJbnB1dCgpLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcclxuICAgIF0sIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudC5wcm90b3R5cGUsIFwicHJldmlvdXNMYWJlbFwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZSQyKFtcclxuICAgICAgICBJbnB1dCgpLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcclxuICAgIF0sIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudC5wcm90b3R5cGUsIFwibmV4dExhYmVsXCIsIHZvaWQgMCk7XHJcbiAgICBfX2RlY29yYXRlJDIoW1xyXG4gICAgICAgIElucHV0KCksXHJcbiAgICAgICAgX19tZXRhZGF0YSQxKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxyXG4gICAgXSwgUGFnaW5hdGlvbkNvbnRyb2xzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzY3JlZW5SZWFkZXJQYWdpbmF0aW9uTGFiZWxcIiwgdm9pZCAwKTtcclxuICAgIF9fZGVjb3JhdGUkMihbXHJcbiAgICAgICAgSW5wdXQoKSxcclxuICAgICAgICBfX21ldGFkYXRhJDEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXHJcbiAgICBdLCBQYWdpbmF0aW9uQ29udHJvbHNDb21wb25lbnQucHJvdG90eXBlLCBcInNjcmVlblJlYWRlclBhZ2VMYWJlbFwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZSQyKFtcclxuICAgICAgICBJbnB1dCgpLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcclxuICAgIF0sIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudC5wcm90b3R5cGUsIFwic2NyZWVuUmVhZGVyQ3VycmVudExhYmVsXCIsIHZvaWQgMCk7XHJcbiAgICBfX2RlY29yYXRlJDIoW1xyXG4gICAgICAgIE91dHB1dCgpLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMShcImRlc2lnbjp0eXBlXCIsIEV2ZW50RW1pdHRlcilcclxuICAgIF0sIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudC5wcm90b3R5cGUsIFwicGFnZUNoYW5nZVwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZSQyKFtcclxuICAgICAgICBPdXRwdXQoKSxcclxuICAgICAgICBfX21ldGFkYXRhJDEoXCJkZXNpZ246dHlwZVwiLCBFdmVudEVtaXR0ZXIpXHJcbiAgICBdLCBQYWdpbmF0aW9uQ29udHJvbHNDb21wb25lbnQucHJvdG90eXBlLCBcInBhZ2VCb3VuZHNDb3JyZWN0aW9uXCIsIHZvaWQgMCk7XHJcbiAgICBQYWdpbmF0aW9uQ29udHJvbHNDb21wb25lbnQgPSBfX2RlY29yYXRlJDIoW1xyXG4gICAgICAgIENvbXBvbmVudCh7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yOiAncGFnaW5hdGlvbi1jb250cm9scycsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiBERUZBVUxUX1RFTVBMQVRFLFxyXG4gICAgICAgICAgICBzdHlsZXM6IFtERUZBVUxUX1NUWUxFU10sXHJcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxyXG4gICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXHJcbiAgICAgICAgfSlcclxuICAgIF0sIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudCk7XHJcbiAgICByZXR1cm4gUGFnaW5hdGlvbkNvbnRyb2xzQ29tcG9uZW50O1xyXG59KCkpO1xuXG52YXIgX19kZWNvcmF0ZSQzID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG52YXIgX19tZXRhZGF0YSQyID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcclxufTtcclxuLyoqXHJcbiAqIFRoaXMgZGlyZWN0aXZlIGlzIHdoYXQgcG93ZXJzIGFsbCBwYWdpbmF0aW9uIGNvbnRyb2xzIGNvbXBvbmVudHMsIGluY2x1ZGluZyB0aGUgZGVmYXVsdCBvbmUuXHJcbiAqIEl0IGV4cG9zZXMgYW4gQVBJIHdoaWNoIGlzIGhvb2tlZCB1cCB0byB0aGUgUGFnaW5hdGlvblNlcnZpY2UgdG8ga2VlcCB0aGUgUGFnaW5hdGVQaXBlIGluIHN5bmNcclxuICogd2l0aCB0aGUgcGFnaW5hdGlvbiBjb250cm9scy5cclxuICovXHJcbnZhciBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUoc2VydmljZSwgY2hhbmdlRGV0ZWN0b3JSZWYpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuc2VydmljZSA9IHNlcnZpY2U7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZiA9IGNoYW5nZURldGVjdG9yUmVmO1xyXG4gICAgICAgIHRoaXMubWF4U2l6ZSA9IDc7XHJcbiAgICAgICAgdGhpcy5wYWdlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgICAgIHRoaXMucGFnZUJvdW5kc0NvcnJlY3Rpb24gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICAgICAgdGhpcy5wYWdlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlU3ViID0gdGhpcy5zZXJ2aWNlLmNoYW5nZVxyXG4gICAgICAgICAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuaWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVQYWdlTGlua3MoKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmNoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUucHJvdG90eXBlLm5nT25Jbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMuc2VydmljZS5kZWZhdWx0SWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51cGRhdGVQYWdlTGlua3MoKTtcclxuICAgIH07XHJcbiAgICBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUucHJvdG90eXBlLm5nT25DaGFuZ2VzID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVBhZ2VMaW5rcygpO1xyXG4gICAgfTtcclxuICAgIFBhZ2luYXRpb25Db250cm9sc0RpcmVjdGl2ZS5wcm90b3R5cGUubmdPbkRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VTdWIudW5zdWJzY3JpYmUoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdvIHRvIHRoZSBwcmV2aW91cyBwYWdlXHJcbiAgICAgKi9cclxuICAgIFBhZ2luYXRpb25Db250cm9sc0RpcmVjdGl2ZS5wcm90b3R5cGUucHJldmlvdXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jaGVja1ZhbGlkSWQoKTtcclxuICAgICAgICB0aGlzLnNldEN1cnJlbnQodGhpcy5nZXRDdXJyZW50KCkgLSAxKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdvIHRvIHRoZSBuZXh0IHBhZ2VcclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY2hlY2tWYWxpZElkKCk7XHJcbiAgICAgICAgdGhpcy5zZXRDdXJyZW50KHRoaXMuZ2V0Q3VycmVudCgpICsgMSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgY3VycmVudCBwYWdlIGlzIGZpcnN0IHBhZ2VcclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlLnByb3RvdHlwZS5pc0ZpcnN0UGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50KCkgPT09IDE7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgY3VycmVudCBwYWdlIGlzIGxhc3QgcGFnZVxyXG4gICAgICovXHJcbiAgICBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUucHJvdG90eXBlLmlzTGFzdFBhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGFzdFBhZ2UoKSA9PT0gdGhpcy5nZXRDdXJyZW50KCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIGN1cnJlbnQgcGFnZSBudW1iZXIuXHJcbiAgICAgKi9cclxuICAgIFBhZ2luYXRpb25Db250cm9sc0RpcmVjdGl2ZS5wcm90b3R5cGUuc2V0Q3VycmVudCA9IGZ1bmN0aW9uIChwYWdlKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlQ2hhbmdlLmVtaXQocGFnZSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgcGFnZSBudW1iZXIuXHJcbiAgICAgKi9cclxuICAgIFBhZ2luYXRpb25Db250cm9sc0RpcmVjdGl2ZS5wcm90b3R5cGUuZ2V0Q3VycmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlLmdldEN1cnJlbnRQYWdlKHRoaXMuaWQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbGFzdCBwYWdlIG51bWJlclxyXG4gICAgICovXHJcbiAgICBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUucHJvdG90eXBlLmdldExhc3RQYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpbnN0ID0gdGhpcy5zZXJ2aWNlLmdldEluc3RhbmNlKHRoaXMuaWQpO1xyXG4gICAgICAgIGlmIChpbnN0LnRvdGFsSXRlbXMgPCAxKSB7XHJcbiAgICAgICAgICAgIC8vIHdoZW4gdGhlcmUgYXJlIDAgb3IgZmV3ZXIgKGFuIGVycm9yIGNhc2UpIGl0ZW1zLCB0aGVyZSBhcmUgbm8gXCJwYWdlc1wiIGFzIHN1Y2gsXHJcbiAgICAgICAgICAgIC8vIGJ1dCBpdCBtYWtlcyBzZW5zZSB0byBjb25zaWRlciBhIHNpbmdsZSwgZW1wdHkgcGFnZSBhcyB0aGUgbGFzdCBwYWdlLlxyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChpbnN0LnRvdGFsSXRlbXMgLyBpbnN0Lml0ZW1zUGVyUGFnZSk7XHJcbiAgICB9O1xyXG4gICAgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlLnByb3RvdHlwZS5nZXRUb3RhbEl0ZW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2UuZ2V0SW5zdGFuY2UodGhpcy5pZCkudG90YWxJdGVtcztcclxuICAgIH07XHJcbiAgICBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUucHJvdG90eXBlLmNoZWNrVmFsaWRJZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5zZXJ2aWNlLmdldEluc3RhbmNlKHRoaXMuaWQpLmlkID09IG51bGwpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlOiB0aGUgc3BlY2lmaWVkIGlkIFxcXCJcIiArIHRoaXMuaWQgKyBcIlxcXCIgZG9lcyBub3QgbWF0Y2ggYW55IHJlZ2lzdGVyZWQgUGFnaW5hdGlvbkluc3RhbmNlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgdGhlIHBhZ2UgbGlua3MgYW5kIGNoZWNrcyB0aGF0IHRoZSBjdXJyZW50IHBhZ2UgaXMgdmFsaWQuIFNob3VsZCBydW4gd2hlbmV2ZXIgdGhlXHJcbiAgICAgKiBQYWdpbmF0aW9uU2VydmljZS5jaGFuZ2Ugc3RyZWFtIGVtaXRzIGEgdmFsdWUgbWF0Y2hpbmcgdGhlIGN1cnJlbnQgSUQsIG9yIHdoZW4gYW55IG9mIHRoZVxyXG4gICAgICogaW5wdXQgdmFsdWVzIGNoYW5nZXMuXHJcbiAgICAgKi9cclxuICAgIFBhZ2luYXRpb25Db250cm9sc0RpcmVjdGl2ZS5wcm90b3R5cGUudXBkYXRlUGFnZUxpbmtzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGluc3QgPSB0aGlzLnNlcnZpY2UuZ2V0SW5zdGFuY2UodGhpcy5pZCk7XHJcbiAgICAgICAgdmFyIGNvcnJlY3RlZEN1cnJlbnRQYWdlID0gdGhpcy5vdXRPZkJvdW5kQ29ycmVjdGlvbihpbnN0KTtcclxuICAgICAgICBpZiAoY29ycmVjdGVkQ3VycmVudFBhZ2UgIT09IGluc3QuY3VycmVudFBhZ2UpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wYWdlQm91bmRzQ29ycmVjdGlvbi5lbWl0KGNvcnJlY3RlZEN1cnJlbnRQYWdlKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnBhZ2VzID0gX3RoaXMuY3JlYXRlUGFnZUFycmF5KGluc3QuY3VycmVudFBhZ2UsIGluc3QuaXRlbXNQZXJQYWdlLCBpbnN0LnRvdGFsSXRlbXMsIF90aGlzLm1heFNpemUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZXMgPSB0aGlzLmNyZWF0ZVBhZ2VBcnJheShpbnN0LmN1cnJlbnRQYWdlLCBpbnN0Lml0ZW1zUGVyUGFnZSwgaW5zdC50b3RhbEl0ZW1zLCB0aGlzLm1heFNpemUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyB0aGF0IHRoZSBpbnN0YW5jZS5jdXJyZW50UGFnZSBwcm9wZXJ0eSBpcyB3aXRoaW4gYm91bmRzIGZvciB0aGUgY3VycmVudCBwYWdlIHJhbmdlLlxyXG4gICAgICogSWYgbm90LCByZXR1cm4gYSBjb3JyZWN0IHZhbHVlIGZvciBjdXJyZW50UGFnZSwgb3IgdGhlIGN1cnJlbnQgdmFsdWUgaWYgT0suXHJcbiAgICAgKi9cclxuICAgIFBhZ2luYXRpb25Db250cm9sc0RpcmVjdGl2ZS5wcm90b3R5cGUub3V0T2ZCb3VuZENvcnJlY3Rpb24gPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcclxuICAgICAgICB2YXIgdG90YWxQYWdlcyA9IE1hdGguY2VpbChpbnN0YW5jZS50b3RhbEl0ZW1zIC8gaW5zdGFuY2UuaXRlbXNQZXJQYWdlKTtcclxuICAgICAgICBpZiAodG90YWxQYWdlcyA8IGluc3RhbmNlLmN1cnJlbnRQYWdlICYmIDAgPCB0b3RhbFBhZ2VzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0b3RhbFBhZ2VzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbnN0YW5jZS5jdXJyZW50UGFnZSA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5jdXJyZW50UGFnZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgUGFnZSBvYmplY3RzIHRvIHVzZSBpbiB0aGUgcGFnaW5hdGlvbiBjb250cm9scy5cclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlLnByb3RvdHlwZS5jcmVhdGVQYWdlQXJyYXkgPSBmdW5jdGlvbiAoY3VycmVudFBhZ2UsIGl0ZW1zUGVyUGFnZSwgdG90YWxJdGVtcywgcGFnaW5hdGlvblJhbmdlKSB7XHJcbiAgICAgICAgLy8gcGFnaW5hdGlvblJhbmdlIGNvdWxkIGJlIGEgc3RyaW5nIGlmIHBhc3NlZCBmcm9tIGF0dHJpYnV0ZSwgc28gY2FzdCB0byBudW1iZXIuXHJcbiAgICAgICAgcGFnaW5hdGlvblJhbmdlID0gK3BhZ2luYXRpb25SYW5nZTtcclxuICAgICAgICB2YXIgcGFnZXMgPSBbXTtcclxuICAgICAgICAvLyBSZXR1cm4gMSBhcyBkZWZhdWx0IHBhZ2UgbnVtYmVyXHJcbiAgICAgICAgLy8gTWFrZSBzZW5zZSB0byBzaG93IDEgaW5zdGVhZCBvZiBlbXB0eSB3aGVuIHRoZXJlIGFyZSBubyBpdGVtc1xyXG4gICAgICAgIHZhciB0b3RhbFBhZ2VzID0gTWF0aC5tYXgoTWF0aC5jZWlsKHRvdGFsSXRlbXMgLyBpdGVtc1BlclBhZ2UpLCAxKTtcclxuICAgICAgICB2YXIgaGFsZldheSA9IE1hdGguY2VpbChwYWdpbmF0aW9uUmFuZ2UgLyAyKTtcclxuICAgICAgICB2YXIgaXNTdGFydCA9IGN1cnJlbnRQYWdlIDw9IGhhbGZXYXk7XHJcbiAgICAgICAgdmFyIGlzRW5kID0gdG90YWxQYWdlcyAtIGhhbGZXYXkgPCBjdXJyZW50UGFnZTtcclxuICAgICAgICB2YXIgaXNNaWRkbGUgPSAhaXNTdGFydCAmJiAhaXNFbmQ7XHJcbiAgICAgICAgdmFyIGVsbGlwc2VzTmVlZGVkID0gcGFnaW5hdGlvblJhbmdlIDwgdG90YWxQYWdlcztcclxuICAgICAgICB2YXIgaSA9IDE7XHJcbiAgICAgICAgd2hpbGUgKGkgPD0gdG90YWxQYWdlcyAmJiBpIDw9IHBhZ2luYXRpb25SYW5nZSkge1xyXG4gICAgICAgICAgICB2YXIgbGFiZWwgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHZhciBwYWdlTnVtYmVyID0gdGhpcy5jYWxjdWxhdGVQYWdlTnVtYmVyKGksIGN1cnJlbnRQYWdlLCBwYWdpbmF0aW9uUmFuZ2UsIHRvdGFsUGFnZXMpO1xyXG4gICAgICAgICAgICB2YXIgb3BlbmluZ0VsbGlwc2VzTmVlZGVkID0gKGkgPT09IDIgJiYgKGlzTWlkZGxlIHx8IGlzRW5kKSk7XHJcbiAgICAgICAgICAgIHZhciBjbG9zaW5nRWxsaXBzZXNOZWVkZWQgPSAoaSA9PT0gcGFnaW5hdGlvblJhbmdlIC0gMSAmJiAoaXNNaWRkbGUgfHwgaXNTdGFydCkpO1xyXG4gICAgICAgICAgICBpZiAoZWxsaXBzZXNOZWVkZWQgJiYgKG9wZW5pbmdFbGxpcHNlc05lZWRlZCB8fCBjbG9zaW5nRWxsaXBzZXNOZWVkZWQpKSB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbCA9ICcuLi4nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGFiZWwgPSBwYWdlTnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHBhZ2VOdW1iZXJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhZ2VzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2l2ZW4gdGhlIHBvc2l0aW9uIGluIHRoZSBzZXF1ZW5jZSBvZiBwYWdpbmF0aW9uIGxpbmtzIFtpXSxcclxuICAgICAqIGZpZ3VyZSBvdXQgd2hhdCBwYWdlIG51bWJlciBjb3JyZXNwb25kcyB0byB0aGF0IHBvc2l0aW9uLlxyXG4gICAgICovXHJcbiAgICBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUucHJvdG90eXBlLmNhbGN1bGF0ZVBhZ2VOdW1iZXIgPSBmdW5jdGlvbiAoaSwgY3VycmVudFBhZ2UsIHBhZ2luYXRpb25SYW5nZSwgdG90YWxQYWdlcykge1xyXG4gICAgICAgIHZhciBoYWxmV2F5ID0gTWF0aC5jZWlsKHBhZ2luYXRpb25SYW5nZSAvIDIpO1xyXG4gICAgICAgIGlmIChpID09PSBwYWdpbmF0aW9uUmFuZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRvdGFsUGFnZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGkgPT09IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHBhZ2luYXRpb25SYW5nZSA8IHRvdGFsUGFnZXMpIHtcclxuICAgICAgICAgICAgaWYgKHRvdGFsUGFnZXMgLSBoYWxmV2F5IDwgY3VycmVudFBhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbFBhZ2VzIC0gcGFnaW5hdGlvblJhbmdlICsgaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChoYWxmV2F5IDwgY3VycmVudFBhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50UGFnZSAtIGhhbGZXYXkgKyBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBfX2RlY29yYXRlJDMoW1xyXG4gICAgICAgIElucHV0KCksXHJcbiAgICAgICAgX19tZXRhZGF0YSQyKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxyXG4gICAgXSwgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlLnByb3RvdHlwZSwgXCJpZFwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZSQzKFtcclxuICAgICAgICBJbnB1dCgpLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMihcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcclxuICAgIF0sIFBhZ2luYXRpb25Db250cm9sc0RpcmVjdGl2ZS5wcm90b3R5cGUsIFwibWF4U2l6ZVwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZSQzKFtcclxuICAgICAgICBPdXRwdXQoKSxcclxuICAgICAgICBfX21ldGFkYXRhJDIoXCJkZXNpZ246dHlwZVwiLCBFdmVudEVtaXR0ZXIpXHJcbiAgICBdLCBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUucHJvdG90eXBlLCBcInBhZ2VDaGFuZ2VcIiwgdm9pZCAwKTtcclxuICAgIF9fZGVjb3JhdGUkMyhbXHJcbiAgICAgICAgT3V0cHV0KCksXHJcbiAgICAgICAgX19tZXRhZGF0YSQyKFwiZGVzaWduOnR5cGVcIiwgRXZlbnRFbWl0dGVyKVxyXG4gICAgXSwgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlLnByb3RvdHlwZSwgXCJwYWdlQm91bmRzQ29ycmVjdGlvblwiLCB2b2lkIDApO1xyXG4gICAgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlID0gX19kZWNvcmF0ZSQzKFtcclxuICAgICAgICBEaXJlY3RpdmUoe1xyXG4gICAgICAgICAgICBzZWxlY3RvcjogJ3BhZ2luYXRpb24tdGVtcGxhdGUsW3BhZ2luYXRpb24tdGVtcGxhdGVdJyxcclxuICAgICAgICAgICAgZXhwb3J0QXM6ICdwYWdpbmF0aW9uQXBpJ1xyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMihcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtQYWdpbmF0aW9uU2VydmljZSxcclxuICAgICAgICAgICAgQ2hhbmdlRGV0ZWN0b3JSZWZdKVxyXG4gICAgXSwgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlKTtcclxuICAgIHJldHVybiBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmU7XHJcbn0oKSk7XG5cbnZhciBfX2RlY29yYXRlID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG52YXIgTmd4UGFnaW5hdGlvbk1vZHVsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE5neFBhZ2luYXRpb25Nb2R1bGUoKSB7XHJcbiAgICB9XHJcbiAgICBOZ3hQYWdpbmF0aW9uTW9kdWxlID0gX19kZWNvcmF0ZShbXHJcbiAgICAgICAgTmdNb2R1bGUoe1xyXG4gICAgICAgICAgICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlXSxcclxuICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICBQYWdpbmF0ZVBpcGUsXHJcbiAgICAgICAgICAgICAgICBQYWdpbmF0aW9uQ29udHJvbHNDb21wb25lbnQsXHJcbiAgICAgICAgICAgICAgICBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmVcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgcHJvdmlkZXJzOiBbUGFnaW5hdGlvblNlcnZpY2VdLFxyXG4gICAgICAgICAgICBleHBvcnRzOiBbUGFnaW5hdGVQaXBlLCBQYWdpbmF0aW9uQ29udHJvbHNDb21wb25lbnQsIFBhZ2luYXRpb25Db250cm9sc0RpcmVjdGl2ZV1cclxuICAgICAgICB9KVxyXG4gICAgXSwgTmd4UGFnaW5hdGlvbk1vZHVsZSk7XHJcbiAgICByZXR1cm4gTmd4UGFnaW5hdGlvbk1vZHVsZTtcclxufSgpKTtcblxuLyoqXHJcbiAqIEdlbmVyYXRlZCBidW5kbGUgaW5kZXguIERvIG5vdCBlZGl0LlxyXG4gKi9cblxuZXhwb3J0IHsgREVGQVVMVF9TVFlMRVMgYXMgybViLCBERUZBVUxUX1RFTVBMQVRFIGFzIMm1YSwgTmd4UGFnaW5hdGlvbk1vZHVsZSwgUGFnaW5hdGlvblNlcnZpY2UsIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudCwgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlLCBQYWdpbmF0ZVBpcGUgfTtcbiJdfQ==","import { Component,SimpleChange, OnInit, ViewChild, Input, Output, EventEmitter } from '@angular/core';\r\nimport { NotifierService } from 'angular-notifier';\r\nimport { BlogService } from 'src/app/services/blog/blog.service';\r\nimport { CommonService } from 'src/app/services/common-service/common.service';\r\nimport { LoaderService } from 'src/app/services/loader-service/loader.service';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { AngularEditorConfig } from './../../../lib/config';\r\nimport { AngularEditorComponent } from './../../../lib/angular-editor.component';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-add-blogs',\r\n  templateUrl: './add-blogs.component.html',\r\n  styleUrls: ['./add-blogs.component.scss']\r\n})\r\n\r\nexport class AddBlogsComponent implements OnInit {\r\n  @ViewChild(AngularEditorComponent) editor: AngularEditorComponent; // ViewChild reference to the AngularEditorComponent\r\n\r\n  config1: AngularEditorConfig = {\r\n    editable: true,\r\n    spellcheck: true,\r\n    minHeight: '15rem',\r\n    maxHeight: 'auto',\r\n    placeholder: 'Enter here...',\r\n    translate: 'no',\r\n    sanitize: false,\r\n    // toolbarPosition: 'top',\r\n    outline: true,\r\n    // defaultFontName: 'Comic Sans MS',\r\n    // defaultFontSize: '5',\r\n    // showToolbar: false,\r\n    defaultParagraphSeparator: 'p',\r\n    customClasses: [\r\n      {\r\n        name: 'quote',\r\n        class: 'quote',\r\n      },\r\n      {\r\n        name: 'redText',\r\n        class: 'redText'\r\n      },\r\n      {\r\n        name: 'text-center',\r\n        class: 'text-center',\r\n      },\r\n      {\r\n        name: 'text-right',\r\n        class: 'text-right',\r\n      },\r\n      {\r\n        name: 'img-center',\r\n        class: 'img-center',\r\n      },\r\n      {\r\n        name: 'img-right',\r\n        class: 'img-right',\r\n      },\r\n      {\r\n        name: 'titleText',\r\n        class: 'titleText',\r\n        tag: 'h1',\r\n      },\r\n    ],\r\n    toolbarHiddenButtons: [\r\n      // ['bold', 'italic'],\r\n      // ['fontSize']\r\n    ],\r\n      editHistoryLimit: 3,\r\n    imageResizeSensitivity: 2,\r\n  };\r\n\r\n  blogForm: FormGroup;\r\n  blogId: string;\r\n  editMode: boolean  = false;\r\n\r\n  constructor(\r\n    private loaderService: LoaderService,\r\n    private notifierService: NotifierService,\r\n    private commonService: CommonService,\r\n    private blogService: BlogService,\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) {\r\n  }\r\n\r\n  urls = [];\r\n  ngOnInit(): void {\r\n\r\n    this.createForm();\r\n\r\n    this.route.paramMap.subscribe((params) => {\r\n      this.blogId = params.get('blogId')!;\r\n      if (this.blogId) {\r\n        this.editMode = true;\r\n        this.getBlogDetail(this.blogId);\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n\r\n  getBlogDetail(blogId: string): void {\r\n    this.blogService.getBlogDetail(blogId).subscribe((blog) => {\r\n      this.setValuesToBeEdited(blog);\r\n    })\r\n  }\r\n\r\n  createForm(): void{\r\n    this.blogForm = new FormGroup({\r\n      title: new FormControl('', Validators.required) , \r\n      content: new FormControl('', Validators.required) ,      \r\n      category: new FormControl('', Validators.required),\r\n      aboutAuthor: new FormControl('', Validators.required),\r\n      author: new FormControl('', Validators.required),\r\n    })\r\n  }\r\n\r\n  setValuesToBeEdited(editedItem) {\r\n    this.blogId = editedItem._id;\r\n    this.blogForm.setValue({\r\n      title: editedItem.title,\r\n      content: editedItem.content,\r\n      category: editedItem.category,\r\n      author: editedItem.author,\r\n      aboutAuthor: editedItem.aboutAuthor || '',\r\n    });\r\n  \r\n  }\r\n  \r\n  submit(): void {\r\n    this.loaderService.display(true);\r\n    if (!this.blogForm.valid) {\r\n      return;\r\n    }\r\n\r\n    if (this.editMode) {\r\n      this.update(this.blogForm.value); // Update existing blog\r\n    } else {\r\n      this.add(this.blogForm.value); // Add new blog\r\n    }\r\n  }\r\n  \r\n  update(data): void {\r\n    this.loaderService.display(true);\r\n    this.blogService.updateBlogs(this.blogId, data).subscribe(updatedData => {\r\n\r\n      this.loaderService.display(false);\r\n      this.notifierService.notify('success', 'Blog updated successfully!');\r\n      this.handleCategoryChangeEvent(updatedData);\r\n    }, (error) => {\r\n    \r\n    });\r\n  }\r\n  \r\n  add(data): void {\r\n    this.blogService.addBlogs(data).subscribe(newData => {\r\n      this.loaderService.display(false);\r\n      this.notifierService.notify('success', 'Blog added successfully!');\r\n      this.handleCategoryChangeEvent(newData);\r\n    });\r\n  }\r\n  \r\n  handleCategoryChangeEvent(data) {\r\n    // this.modalRef?.hide();\r\n    this.router.navigate(['/blogs']);\r\n    // this.blogId = '';\r\n    // this.commonService.refreshCategoryEvent(data);\r\n  }\r\n  \r\n  onChange(event) {}\r\n  onBlur(event) {}\r\n\r\n\r\n}\r\n","<div class=\"container confirm-order-modal\">\r\n    <div class=\"row justify-content-center mt-3\">\r\n        <h2 class=\"text-center gallery-heading mt-3\">Add Blog</h2>\r\n    </div>\r\n\r\n    <div class=\"modal-body\">\r\n       <form [formGroup]=\"blogForm\">\r\n\r\n            <div class=\"form-group\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12 col-12\">\r\n\r\n                        <p class=\"form-label\">Title</p>\r\n                        <div class=\"col-md-12 col-12\">\r\n                            <input type=\"text\" formControlName=\"title\" class=\"form-control\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6 col-12\">\r\n                        <p class=\"form-label\">Category</p>\r\n                        <div class=\"col-md-12 col-12\">\r\n                            <input type=\"text\" formControlName=\"category\" class=\"form-control form-input\">\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-md-6 col-12\">\r\n                        <p class=\"form-label\">Author</p>\r\n                        <div class=\"col-md-12 col-12\">\r\n                            <input type=\"text\" formControlName=\"author\" class=\"form-control\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-12 col-12\">\r\n                        <p class=\"form-label\">About Author</p>\r\n                        <div class=\"col-md-12 col-12\">\r\n                            <textarea rows=\"3\" formControlName=\"aboutAuthor\" class=\"form-control\">\r\n                            </textarea>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <div class=\"row\">\r\n                    <p class=\"form-label\">Content</p>\r\n                    <div class=\"col-md-12 col-12 form-label\">\r\n                        <angular-editor\r\n                            #editor\r\n                            id=\"editor1\"\r\n                            class=\"content-editor\"\r\n                            formControlName=\"content\"\r\n                            [config]=\"config1\"\r\n                            >\r\n                            <!-- (ngModelChange)=\"onChange($event)\" -->\r\n                            <!-- (blur)=\"onBlur($event)\" -->\r\n                        </angular-editor>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"form-group \">\r\n                <div class=\"offset-md-2 col-md-8 col-12\">\r\n                    <div class=\"row choose-btn\">\r\n                        <button type=\"button\" class=\"btn btn-light btn-add photo-btn\" (click) = \"submit()\" [disabled]=\"!blogForm.valid\">Save</button>\r\n                        <button type=\"button\" class=\"btn btn-light btn-cancel photo-btn\"\r\n                        routerLink=\"/blogs\">cancel</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { BlogService } from 'src/app/services/blog/blog.service';\r\n\r\n@Component({\r\n  selector: 'app-blog-details',\r\n  templateUrl: './blog-details.component.html',\r\n  styleUrls: ['./blog-details.component.scss']\r\n})\r\nexport class BlogDetailsComponent implements OnInit {\r\n\r\n  blogId: string = '';\r\n  blogSlug: string = '';\r\n  blog: any = {}\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private blogService: BlogService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.subscribe((params) => {\r\n      this.blogId = params.get('blogId')!;\r\n      this.blogSlug = params.get('blogSlug')!;\r\n      if (this.blogId) {\r\n        this.getBlogDetail(this.blogId);\r\n      }\r\n    });\r\n  }\r\n\r\n  getBlogDetail(blogId: string): void {\r\n    this.blogService.getBlogDetail(blogId).subscribe((blog) => {\r\n      \r\n      this.blog = blog;\r\n    })\r\n  }\r\n}\r\n","<div class=\"container\">\r\n    <div class=\"row justify-content-center\">\r\n        <h2 class=\"text-center gallery-heading\">{{blog?.title}}</h2>\r\n    </div>\r\n    <br>\r\n    <div class=\"col-md-12 card-main-container\">\r\n        <div class=\"row\">\r\n            <p class=\"card-cat-author\">\r\n                <span>\r\n                    <span class=\"highlight\">Category:</span> {{blog?.category}}\r\n                </span>\r\n                <span>\r\n                    <span class=\"highlight\">Author:</span> {{blog?.author}}\r\n                </span>\r\n            </p>\r\n            <!-- <div class=\"container\">\r\n                <img [src]=\"blog?.image\" class=\"blog-banner-img\"/>\r\n            </div> -->\r\n            <div class=\"col-md-12 col-sm-12 justify-content blog-content\" [innerHtml]=\"blog?.content\"></div>\r\n            <div *ngIf=\"blog?.aboutAuthor\" class=\"col-md-12 col-sm-12 justify-content blog-content\">\r\n                <h4 class=\"highlight\">About Author</h4>\r\n                {{blog?.aboutAuthor}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { SafeResourceUrlPipe } from 'src/app/pipes/safe-resource-url.pipe';\r\nimport { AngularEditorConfig } from '@kolkov/angular-editor';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { FormControl } from '@angular/forms';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-blogs-by-category',\r\n  templateUrl: './blogs-by-category.component.html',\r\n  styleUrls: ['./blogs-by-category.component.scss'],\r\n  providers: [SafeResourceUrlPipe]\r\n})\r\nexport class BlogsByCategoryComponent implements OnInit {\r\n  productImages = [];\r\n  currentlyUploadedImageSrc = [];\r\n\r\n  constructor(\r\n    private safeResourceUrl: SafeResourceUrlPipe,\r\n    private formBuilder: FormBuilder\r\n  ) { }\r\n\r\n  urls = [];\r\n\r\n  allowDrop(event: Event) {\r\n    event.preventDefault();\r\n  }\r\n\r\n  drag(event: DragEvent) {\r\n    event.dataTransfer!.setData('text', (event.currentTarget['parentElement'] as HTMLElement).id);\r\n  }\r\n\r\n  drop(event: DragEvent) {\r\n    event.preventDefault();\r\n    const data = event.dataTransfer!.getData('text');\r\n    const dropzone = event.target as HTMLElement;\r\n    dropzone.appendChild(document.getElementById(data)!);\r\n  }\r\n\r\n  // choose photos\r\n  onselectFile(e: any) {\r\n    if (e.target.files) {\r\n      for (let i = 0; i < e.target.files.length; i++) {\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(e.target.files[i]);\r\n        reader.onload = (events: any) => {\r\n          this.urls.push(events.target.result);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  setCurrentlyUploadedImgArr(file) {\r\n    let imgSrc = URL.createObjectURL(file)\r\n    this.currentlyUploadedImageSrc.push(imgSrc);\r\n  }\r\n\r\n  getFiles(event) {\r\n    this.productImages = [];\r\n    for (var i = 0; i < event.target.files.length; i++) {\r\n      this.productImages.push(event.target.files[i]);\r\n      this.setCurrentlyUploadedImgArr(event.target.files[i]);\r\n      // this.setCurrentlyUploadedImgArr(event.target.files[i])\r\n    }\r\n  }\r\n\r\n  // angular editor\r\n\r\n\r\n  form: FormGroup;\r\n\r\n  htmlContent1 = '';\r\n\r\n  config1: AngularEditorConfig = {\r\n    editable: true,\r\n    spellcheck: true,\r\n    minHeight: '5rem',\r\n    maxHeight: 'auto',\r\n    placeholder: 'Enter text here...',\r\n    translate: 'no',\r\n    sanitize: false,\r\n    // toolbarPosition: 'top',\r\n    outline: true,\r\n    defaultFontName: 'Comic Sans MS',\r\n    defaultFontSize: '5',\r\n    // showToolbar: false,\r\n    defaultParagraphSeparator: 'p',\r\n    customClasses: [\r\n      {\r\n        name: 'quote',\r\n        class: 'quote',\r\n      },\r\n      {\r\n        name: 'redText',\r\n        class: 'redText'\r\n      },\r\n      {\r\n        name: 'titleText',\r\n        class: 'titleText',\r\n        tag: 'h1',\r\n      },\r\n    ],\r\n    toolbarHiddenButtons: [\r\n      ['bold', 'italic'],\r\n      ['fontSize']\r\n    ]\r\n  };\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  onChange(event) {\r\n    \r\n    this.checkForImage(); // Call the method to check for images and add the class\r\n  }\r\n\r\n  onBlur(event) {\r\n    \r\n  }\r\n\r\n  checkForImage() {\r\n    \r\n\r\n    const editor = document.getElementById('editor1');\r\n   \r\n\r\n    const images = editor.getElementsByTagName('img');\r\n    \r\n\r\n    const imageArray = Array.from(images) as HTMLImageElement[];\r\n\r\n    for (const image of imageArray) {\r\n      image.classList.add('your-dynamic-class1');\r\n      this.makeResizable(image); // Call the method to make images resizable\r\n    }\r\n  }\r\n\r\n  makeResizable(image: HTMLImageElement) {\r\n    // Add resize functionality to the image\r\n    image.addEventListener('mousedown', (e) => {\r\n      e.preventDefault();\r\n      const initialWidth = image.clientWidth;\r\n      const initialHeight = image.clientHeight;\r\n      const startX = e.clientX;\r\n      const startY = e.clientY;\r\n\r\n      const resize = (e) => {\r\n        const width = initialWidth + e.clientX - startX;\r\n        const height = initialHeight + e.clientY - startY;\r\n        image.style.width = `${width}px`;\r\n        image.style.height = `${height}px`;\r\n      };\r\n\r\n      const stopResize = () => {\r\n        window.removeEventListener('mousemove', resize);\r\n        window.removeEventListener('mouseup', stopResize);\r\n      };\r\n\r\n      window.addEventListener('mousemove', resize);\r\n      window.addEventListener('mouseup', stopResize);\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid\">\r\n    <div class=\"row blog-row \">\r\n        <div class=\"blog-container\">\r\n            <div>\r\n                <h2 class=\"blog-heading\">Blogs</h2>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-md-9 col-12 main-blog-container\">\r\n                    <!-- angular editor -->\r\n                    <div>\r\n                        <angular-editor id=\"editor1\" [(ngModel)]=\"htmlContent1\" [config]=\"config1\"\r\n                            (ngModelChange)=\"onChange($event)\" (blur)=\"onBlur($event)\">\r\n                        </angular-editor>\r\n                        <p class=\"html\">\r\n                            HTML Output: {{ htmlContent1 }}\r\n                        </p>\r\n                    </div>\r\n                    <!-- angular editor -->\r\n\r\n\r\n                    <div class=\"dropzone \" id=\"dropzone2\" (dragover)=\"allowDrop($event)\" (drop)=\"drop($event)\">\r\n                        <div class=\"image-container resizable-image-container\" mwlResizable id=\"dragitem1\"\r\n                            draggable=\"true\" (dragstart)=\"drag($event)\">\r\n                            <img src=\"./../../../assets/images/images/Boswellia-serrata.jpg\" alt=\"\" id=\"dragitem1\">\r\n                        </div>\r\n\r\n                        <div class=\"blog-main-cc\">\r\n                            <div class=\"blog-sub-cc\">\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div class=\"blog_CC\">\r\n                            <p class=\"blog-title-name\">Guide to Bael Fruit: Benefits, Side Effects, Uses & More!\r\n                            <p>\r\n                                <span class=\"blog_update_date\">JUN 14, 2023</span>\r\n\r\n                            <div class=\"blog-content\">\r\n                                <p class=\"Comprehensive-Guide\">A Comprehensive Guide on Bael Fruit</p>\r\n\r\n                                <p class=\"Comprehensive-Guide-cc\">According to animal studies, oral intake or injection\r\n                                    of Bael\r\n                                    fruit extract might help to lower blood glucose and haemoglobin-bound glucose\r\n                                    levels. It\r\n                                    might also help increase the level of insulin in the blood and might help the\r\n                                    conversion of\r\n                                    glucose in the liver.2 Certain compounds (coumarins) present in the bael fruit\r\n                                    extract might\r\n                                    help in the secretion of insulin from the liver, thus might be helpful in lowering\r\n                                    blood\r\n                                    sugar levels.2 Furthermore, as per a clinical trial, lowering of blood cholesterol\r\n                                    and\r\n                                    slight lowering of blood glucose might be possible in some patients with diabetes to\r\n                                    whom\r\n                                    Bael leaf extract was administered.2 However, more research is required. Kindly\r\n                                    consult a\r\n                                    doctor for seriosu conditions such as diabetes which must be diagnosed and treated\r\n                                    by a\r\n                                    doctor.</p>\r\n\r\n                                <p class=\"Significance\">Significance of Bael Fruit</p>\r\n                                <div>\r\n                                    <div class=\"image-container resizable-image-container\" mwlResizable id=\"dragitem2\"\r\n                                        draggable=\"true\" (dragstart)=\"drag($event)\">\r\n                                        <img src=\"./../../../assets/images/images/medicine4.jpg\"\r\n                                            alt=\"Significance_image\">\r\n                                    </div>\r\n\r\n                                    <p class=\"Significance-cc\">The Indian summers are usually a medley of memories - the\r\n                                        summer\r\n                                        vacations, the long-awaited visit to grandparents, and the soothing afternoon\r\n                                        naps under\r\n                                        the water cooler. These memories are filled with the aroma of unique summer\r\n                                        fruits that\r\n                                        made a cameo appearance. We agree that mango is the first thing that comes to\r\n                                        mind when\r\n                                        we think of summer fruits, but how can we forget the humble Bael or Bel fruit?\r\n                                        Most of\r\n                                        us found it repulsive because of the strong, pungent smell, but our mothers\r\n                                        ensured we\r\n                                        had our seasonal regulated share of this summer coolant by mixing it with milk,\r\n                                        sugar,\r\n                                        and whatnot! But as we learn more about the health benefits of this wonderful\r\n                                        fruit, it\r\n                                        is no surprise that it is gaining much-deserved popularity.</p>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <p class=\"Significance\">Benefits of Bael Fruit</p>\r\n                                    <p class=\"Significance-cc\">The Indian summers are usually a medley of memories - the\r\n                                        summer\r\n                                        vacations, the long-awaited visit to grandparents, and the soothing afternoon\r\n                                        naps under\r\n                                        the water cooler. These memories are filled with the aroma of unique summer\r\n                                        fruits that\r\n                                        made a cameo appearance. We agree that mango is the first thing that comes to\r\n                                        mind when\r\n                                        we think of summer fruits, but how can we forget the humble Bael or Bel fruit?\r\n                                        Most of\r\n                                        us found it repulsive because of the strong, pungent smell, but our mothers\r\n                                        ensured we\r\n                                        had our seasonal regulated share of this summer coolant by mixing it with milk,\r\n                                        sugar,\r\n                                        and whatnot! But as we learn more about the health benefits of this wonderful\r\n                                        fruit, it\r\n                                        is no surprise that it is gaining much-deserved popularity.</p>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <p class=\"Significance\">Bael as Digestive Tonic</p>\r\n\r\n                                    <div class=\"image-container resizable-image-container\" mwlResizable id=\"dragitem3\"\r\n                                        draggable=\"true\" (dragstart)=\"drag($event)\">\r\n                                        <img src=\"./../../../assets/images/images/medicine3.png\"\r\n                                            alt=\"Significance_image\">\r\n                                    </div>\r\n\r\n                                    <p class=\"Significance-cc\">Bael fruit juice is an excellent digestive tonic for all\r\n                                        your gut\r\n                                        issues. It is rich in tannins that have anti-bacterial and anti-fungal\r\n                                        properties making\r\n                                        it ideal for consumption during indigestion and diarrhea. It is rich in fibers\r\n                                        which\r\n                                        help in smooth bowel movements. During summer, when your digestion feels\r\n                                        slightly off,\r\n                                        Bael juice restores your appetite because of its carminative property. It\r\n                                        relieves\r\n                                        fatigue and helps cool down the body.</p>\r\n\r\n                                    <p class=\"Benifits-li-heading\">For making Bel juice:</p>\r\n                                    <ol class=\"Significance-cc\">\r\n                                        <li>Let it soak for a few minutes.</li>\r\n                                        <li>Scoop the pulp into a bowl and add a cup of water.</li>\r\n                                        <li>Serve chilled.</li>\r\n                                        <li>Add sugar if needed.</li>\r\n                                    </ol>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <p class=\"Significance\">Rasahriday Ayurveda Products with Bael</p>\r\n                                    <p class=\"Significance-cc\">At Rasahriday Ayurveda, we use Bael in various herbal\r\n                                        formulations that you can buy online and have delivered anywhere in India.</p>\r\n\r\n                                    <p class=\"Rasahriday-products\"><a href=\"\">Dasamoolajeerakarishta</a></p>\r\n\r\n                                    <div class=\"image-container resizable-image-container\" mwlResizable id=\"dragitem4\"\r\n                                        draggable=\"true\" (dragstart)=\"drag($event)\">\r\n                                        <img src=\"./../../../assets/images/images/51a6J3jnbUL.jpg\"\r\n                                            alt=\"Rasahriday_image\">\r\n                                    </div>\r\n\r\n                                    <p class=\"Significance-cc\">Dasamoolajeerakarishta is a traditional tonic combining\r\n                                        Dashamoolarishta and\r\n                                        Jeerakarishtam for pre and postnatal care for new mothers. True to its name,\r\n                                        this\r\n                                        Ayurvedic medication benefits from the ten most potent root ingredients used in\r\n                                        Ayurveda, including Bael. While the Dashamoola ingredients in this medicine\r\n                                        offer\r\n                                        strength and balance to the Doshas of the expecting and new mother, the\r\n                                        Jeerakarishtam\r\n                                        helps to relieve all the gastric-related troubles that pregnancy brings. It\r\n                                        relieves\r\n                                        nausea, improves appetite, and supports proper digestion. It is also a uterine\r\n                                        tonic\r\n                                        that supports uterine function after delivery. It helps soothe the digestive\r\n                                        troubles\r\n                                        caused after pregnancy and maintains optimum hormone levels.</p>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <!-- add photos start -->\r\n                    <div class=\"form-group addPhoto-container\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-3 col-4 form-label\">\r\n                                <p>Add Image</p>\r\n                            </div>\r\n                            <div class=\"col-md-9 col-8\">\r\n                                <label class=\"custom-file-upload\">\r\n                                    <input type=\"file\" (change)=\"getFiles($event)\" multiple />\r\n                                    Choose Photo\r\n                                </label>\r\n                            </div>\r\n                            <div class=\"col-12 form-label\">\r\n                                id url: {{urls}}\r\n\r\n\r\n                                <div class=\"img-container col-12 col-md-4 resizable-image-container\" mwlResizable\r\n                                    *ngFor=\"let item of this.productImages;let i=index\" id=\"{{item.name}}\">\r\n                                    <img draggable=\"true\" (dragstart)=\"drag($event)\" class=\"product-img chooseImg\"\r\n                                        [src]=\"currentlyUploadedImageSrc[i] | safeResourceUrl\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <!-- add photos ends-->\r\n                </div>\r\n\r\n                <!-- Recent Blog start -->\r\n                <div class=\"col-md-3 col-12 recent-blog-container\">\r\n                    <div class=\"blog-table\">\r\n                        <h3 class=\"tableOfContent\">Table of Content</h3>\r\n                        <ul>\r\n                            <li><a href=\"\" class=\"navigation__link\">Guide on Bael Fruits</a></li>\r\n                            <li><a href=\"\" class=\"navigation__link\">Significance of Bael Fruits</a></li>\r\n                            <li><a href=\"\" class=\"navigation__link\">Benifits of Bael Fruits</a></li>\r\n                            <li><a href=\"\" class=\"navigation__link\">Precations while using Bael</a></li>\r\n                            <li><a href=\"\" class=\"navigation__link\">Key Takeaways</a></li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <h3 class=\"tableOfContent\">Recent Blogs</h3>\r\n                    <div class=\"recentBlogs\">\r\n                        <div class=\"col-md-4 col-4 pl-0 pr-0\">\r\n                            <div>\r\n                                <img src=\"./../../../assets/images/images/medicine7.jpg\" class=\"recentBlogsImg\"\r\n                                    alt=\"blog_image\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-8 col-8\">\r\n                            <p class=\"short-desc\">Summer Skin Care with Ayurveda for Glowing Skin in the Heat</p>\r\n\r\n                            <a href=\"\" class=\"short-desc-readMore\">Read more...</a>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"recentBlogs\">\r\n                        <div class=\"col-md-4 col-4 pl-0 pr-0\">\r\n                            <div>\r\n                                <img src=\"./../../../assets/images/images/medicine6.jpg\" class=\"recentBlogsImg\"\r\n                                    alt=\"blog_image\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-8 col-8\">\r\n                            <p class=\"short-desc\">Guide to Bael Fruit: Benefits, Side Effects, Uses & More!</p>\r\n\r\n                            <a href=\"\" class=\"short-desc-readMore\">Read more...</a>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"recentBlogs\">\r\n                        <div class=\"col-md-4 col-4 pl-0 pr-0\">\r\n                            <div>\r\n                                <img src=\"./../../../assets/images/images/medicine3.png\" class=\"recentBlogsImg\"\r\n                                    alt=\"blog_image\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-8 col-8\">\r\n                            <p class=\"short-desc\">Guide to Satavari: Benefits, Side Effects, Uses, and More!</p>\r\n\r\n                            <a href=\"\" class=\"short-desc-readMore\">Read more...</a>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"recentBlogs\">\r\n                        <div class=\"col-md-4 col-4 pl-0 pr-0\">\r\n                            <div>\r\n                                <img src=\"./../../../assets/images/images/medicine4.jpg\" class=\"recentBlogsImg\"\r\n                                    alt=\"blog_image\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-8 col-8\">\r\n                            <p class=\"short-desc\">Summer Skin Care with Ayurveda for Glowing Skin in the Heat</p>\r\n\r\n                            <a href=\"\" class=\"short-desc-readMore\">Read more...</a>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { BlogsComponent } from './blogs.component';\r\nimport { BlogsByCategoryComponent } from './blogs-by-category/blogs-by-category.component';\r\nimport { BlogDetailsComponent } from './blog-details/blog-details.component';\r\nimport { AddBlogsComponent } from './add-blogs/add-blogs.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: BlogsComponent },\r\n  { path: 'add', component: AddBlogsComponent },\r\n  { path: 'edit/:blogId', component: AddBlogsComponent },\r\n  { path: 'category', component: BlogsByCategoryComponent },\r\n  { path: ':blogId/:blogSlug', component: BlogDetailsComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class BlogsRoutingModule { }\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { CommonService } from 'src/app/services/common-service/common.service';\r\nimport { LoaderService } from 'src/app/services/loader-service/loader.service';\r\nimport { BlogService } from 'src/app/services/blog/blog.service';\r\nimport { Router } from '@angular/router';\r\n@Component({\r\n  selector: 'app-blogs',\r\n  templateUrl: './blogs.component.html',\r\n  styleUrls: ['./blogs.component.scss']\r\n})\r\nexport class BlogsComponent implements OnInit {\r\n  @Input() cardData: any; // Replace with your actual card data type\r\n  p: number = 1;\r\n\r\n  editMode = {\r\n    status: false,\r\n    editedItem: {}\r\n  };\r\n  blogs: any;\r\n  isAdmin: boolean = false;\r\n  categorySelectedObj = {\r\n\r\n    isAllCategorySelected: true\r\n  };\r\n  editIconTag = 'svg';\r\n  isCategoryOpen = false;\r\n  isMobile = false;\r\n  sideBarCloseStatus = 'close';\r\n  deleteIconTag = 'path';\r\n  isAllCategoryActive = true;\r\n  activeIndex = -1;\r\n  constructor(\r\n    private commonService: CommonService,\r\n    private loaderService: LoaderService,\r\n    private blogService: BlogService,\r\n    private router: Router,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.commonService.refreshCategory.subscribe((data) => {\r\n      this.getBlogs();\r\n    })\r\n\r\n    this.getBlogs()\r\n    this.setPrivileges();\r\n  }\r\n\r\n  setPrivileges() {\r\n    this.isAdmin = this.commonService.userDetails.isAdmin;\r\n  }\r\n \r\n  getBlogs() {\r\n    this.loaderService.display(true);\r\n    this.blogService.getBlogsList().subscribe(data => {\r\n      this.blogs = data;\r\n      this.refreshProductAndSetCategoriesGlobally(data);\r\n      this.loaderService.display(false);\r\n    })\r\n  }\r\n\r\n  refreshProductAndSetCategoriesGlobally(data) {\r\n    this.commonService.refreshProduct.next(this.categorySelectedObj)\r\n    this.commonService.setCategoriesGlobally(data);\r\n  }\r\n\r\n  deleteProduct(id) {\r\n    let result = this.commonService.confirmAction();\r\n    if (result) {\r\n      this.loaderService.display(true);\r\n      alert(\"success, blog deleted successfully!\")\r\n      this.blogService.deleteBlogs(id).subscribe(data => {\r\n        this.getBlogs();\r\n        this.loaderService.display(false);\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n  editProduct(id) {\r\n    this.router.navigate(['/blogs', 'edit', id]);\r\n  }\r\n}\r\n","<h2 class=\"text-center gallery-heading\">Blogs</h2>\r\n<div class=\"container-fluid\">\r\n    <div class=\"row justify-content-start\" *ngIf=\"isAdmin\">\r\n        <div class=\"offset-1 col-md-2 col-sm-6 add-photo\">\r\n            <button type=\"button\" class=\"btn btn-light btn-add-photo\" routerLink=\"/blogs/add\"> + add\r\n                Blogs</button>\r\n        </div>\r\n    </div>\r\n    <br>\r\n    <!-- cards start dynamic -->\r\n    <div class=\"col-md-12 card-main-container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-3 col-sm-12 card-container\" *ngFor=\"let blog of blogs | paginate: { itemsPerPage: 8, currentPage: p }\">\r\n                <div class=\"card\">\r\n                    <img [routerLink]=\"['/blogs', blog?._id, blog?.slug]\" src=\"{{blog?.image}}\" class=\"card-img-top cursor-pointer\"\r\n                        alt=\"Rasahriday/photo_gallery\">\r\n                    <div class=\"card-body\">\r\n                        <h5 class=\"card-title cursor-pointer\" [routerLink]=\"['/blogs', blog?._id, blog?.slug]\" title=\"{{blog.title}}\">{{blog.title}}</h5>\r\n                        <p class=\"card-cat-author\">\r\n                            <span>\r\n                                {{blog.category}}\r\n                            </span>\r\n                            <span>\r\n                                {{blog.author}}\r\n                            </span>\r\n                        </p>\r\n\r\n                        <!-- delete/edit for Admin -->\r\n                        <div class=\"admin-btn {{!isAdmin ? 'justify-content-end' : ''}}\">\r\n                            <span *ngIf=\"isAdmin\" class=\"edit-delete-container\">\r\n\r\n                                <svg (click)=\"editProduct(blog._id)\"  xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\"\r\n                                    viewBox=\"0 0 576 512\"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->\r\n                                    <path\r\n                                        d=\"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z\" />\r\n                                </svg>\r\n                                <i class=\"fa fa-trash-o fa-trash\" aria-hidden=\"true\"></i>\r\n\r\n                                <svg (click)=\"deleteProduct(blog._id)\" class=\"delete-icon trash-image\"\r\n                                    fill=\"#ce4545\"\r\n                                    xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\"\r\n                                    viewBox=\"0 0 448 512\"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->\r\n                                    <path\r\n                                        fill=\"#ce4545\"\r\n                                        d=\"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z\" />\r\n                                </svg>\r\n\r\n                            </span>\r\n                            <a [routerLink]=\"['/blogs', blog?._id, blog?.slug]\" class=\"btn btn-primary btn-view-more cursor-pointer\">View more</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <pagination-controls class=\"pagination-sec\" (pageChange)=\"p = $event\"></pagination-controls>\r\n    </div>\r\n    <!-- cards end dynamic -->\r\n\r\n    <!-- cards start -->\r\n   \r\n\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AngularEditorModule } from './../../lib/angular-editor.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\nimport { BlogsRoutingModule } from './blogs-routing.module';\r\nimport { BlogsByCategoryComponent } from './blogs-by-category/blogs-by-category.component';\r\nimport { BlogsComponent } from './blogs.component';\r\nimport { AddBlogsComponent } from './add-blogs/add-blogs.component';\r\nimport { SharedModule } from '../shared-module/shared.module';\r\nimport { BlogDetailsComponent } from './blog-details/blog-details.component';\r\nimport { NgxPaginationModule } from 'ngx-pagination';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BlogsByCategoryComponent,\r\n    BlogsComponent,\r\n    AddBlogsComponent,\r\n    BlogDetailsComponent,\r\n  ],\r\n  imports: [\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    CommonModule,\r\n    BlogsRoutingModule,\r\n    SharedModule,\r\n    AngularEditorModule,\r\n    HttpClientModule,\r\n    NgxPaginationModule,\r\n  ]\r\n})\r\nexport class BlogsModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { CommonService } from '../common-service/common.service';\r\nimport { map } from 'rxjs/operators';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BlogService {\r\n  finalBlogsUrl: any;\r\n  confirmationText = \"Are you sure you want to delete\";\r\n\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private commonService: CommonService,\r\n  ) {\r\n    this.finalBlogsUrl = this.commonService.finalBlogsUrl;\r\n  }\r\n\r\n   /*----blogs---*/\r\n\r\n   getBlogsList() {\r\n    return this.http\r\n    .get(this.finalBlogsUrl)\r\n    .pipe(\r\n      map((response: Array<any>) => {\r\n        return response?.map((item) => {\r\n          var div = document.createElement('div');\r\n          div.innerHTML = item.content;\r\n          var firstImage = div.getElementsByTagName('img')[0]\r\n          item.image = firstImage ? firstImage.getAttribute(\"src\") : \"./../../assets/images/images/download.jfif\";\r\n          return item\r\n        });\r\n      }),\r\n    )\r\n  }\r\n\r\n  addBlogs(data) {\r\n    return this.http.post(this.finalBlogsUrl, data);\r\n  }\r\n\r\n  deleteBlogs(id) {\r\n    return this.http.delete(this.finalBlogsUrl + \"/\" + id);\r\n  }\r\n\r\n  updateBlogs(blogId, data) {\r\n    return this.http.patch(this.finalBlogsUrl + '/' + blogId, data);\r\n  }\r\n\r\n  getBlogDetail(blogId) {\r\n    return this.http.get(this.finalBlogsUrl + '/' + blogId)\r\n    .pipe(\r\n      map((blog: any) => {\r\n        var div = document.createElement('div');\r\n        div.innerHTML = blog.content;\r\n        var firstImage = div.getElementsByTagName('img')[0]\r\n        blog.image = firstImage ? firstImage.getAttribute(\"src\") : \"./../../assets/images/images/download.jfif\";\r\n        return blog\r\n      })\r\n    );\r\n  }\r\n\r\n  /*---end blogs---*/\r\n\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  Output,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ae-button',\r\n  templateUrl: './ae-button.component.html',\r\n  styleUrls: ['./ae-button.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class AeButtonComponent {\r\n  @Input() iconClass = '';\r\n  @Input() title = '';\r\n  @Output() buttonClick = new EventEmitter();\r\n\r\n  constructor() {}\r\n}\r\n","<button type=\"button\" [title]=\"title\" class=\"angular-editor-button\" (click)=\"buttonClick.emit()\" tabindex=\"-1\"><i\r\n    [class]=\"iconClass\"></i></button>\r\n\r\n","import {\r\n  Attribute,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  forwardRef,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  ViewChild,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { isDefined } from '../utils';\r\n\r\nexport interface SelectOption {\r\n  label: string;\r\n  value: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'ae-select',\r\n  templateUrl: './ae-select.component.html',\r\n  styleUrls: ['./ae-select.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => AeSelectComponent),\r\n      multi: true,\r\n    },\r\n  ],\r\n})\r\nexport class AeSelectComponent implements OnInit, ControlValueAccessor {\r\n  @Input() options: SelectOption[] = [];\r\n  // eslint-disable-next-line @angular-eslint/no-input-rename\r\n  @Input('hidden') isHidden: boolean;\r\n\r\n  selectedOption: SelectOption;\r\n  disabled = false;\r\n  optionId = 0;\r\n\r\n  get label(): string {\r\n    return this.selectedOption && this.selectedOption.hasOwnProperty('label')\r\n      ? this.selectedOption.label\r\n      : 'Select';\r\n  }\r\n\r\n  opened = false;\r\n\r\n  get value(): string {\r\n    return this.selectedOption.value;\r\n  }\r\n\r\n  @HostBinding('style.display') hidden = 'inline-block';\r\n\r\n  // eslint-disable-next-line @angular-eslint/no-output-native, @angular-eslint/no-output-rename\r\n  @Output('change') changeEvent = new EventEmitter();\r\n\r\n  @ViewChild('labelButton', { static: true }) labelButton: ElementRef;\r\n\r\n  constructor(\r\n    private elRef: ElementRef,\r\n    private r: Renderer2,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.selectedOption = this.options[0];\r\n    if (isDefined(this.isHidden) && this.isHidden) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  hide() {\r\n    this.hidden = 'none';\r\n  }\r\n\r\n  optionSelect(option: SelectOption, event: MouseEvent) {\r\n    event.stopPropagation();\r\n    this.setValue(option.value);\r\n    this.onChange(this.selectedOption.value);\r\n    this.changeEvent.emit(this.selectedOption.value);\r\n    this.onTouched();\r\n    this.opened = false;\r\n  }\r\n\r\n  toggleOpen(event: MouseEvent) {\r\n    // event.stopPropagation();\r\n    if (this.disabled) {\r\n      return;\r\n    }\r\n    this.opened = !this.opened;\r\n  }\r\n\r\n  @HostListener('document:click', ['$event'])\r\n  onClick($event: MouseEvent) {\r\n    if (!this.elRef.nativeElement.contains($event.target)) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  close() {\r\n    this.opened = false;\r\n  }\r\n\r\n  get isOpen(): boolean {\r\n    return this.opened;\r\n  }\r\n\r\n  writeValue(value) {\r\n    if (!value || typeof value !== 'string') {\r\n      return;\r\n    }\r\n    this.setValue(value);\r\n  }\r\n\r\n  setValue(value) {\r\n    let index = 0;\r\n    const selectedEl = this.options.find((el, i) => {\r\n      index = i;\r\n      return el.value === value;\r\n    });\r\n    if (selectedEl) {\r\n      this.selectedOption = selectedEl;\r\n      this.optionId = index;\r\n    }\r\n  }\r\n\r\n  onChange: any = () => {};\r\n  onTouched: any = () => {};\r\n\r\n  registerOnChange(fn) {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn) {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.labelButton.nativeElement.disabled = isDisabled;\r\n    const div = this.labelButton.nativeElement;\r\n    const action = isDisabled ? 'addClass' : 'removeClass';\r\n    this.r[action](div, 'disabled');\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  @HostListener('keydown', ['$event'])\r\n  handleKeyDown($event: KeyboardEvent) {\r\n    if (!this.opened) {\r\n      return;\r\n    }\r\n    switch ($event.key) {\r\n      case 'ArrowDown':\r\n        this._handleArrowDown($event);\r\n        break;\r\n      case 'ArrowUp':\r\n        this._handleArrowUp($event);\r\n        break;\r\n      case 'Space':\r\n        this._handleSpace($event);\r\n        break;\r\n      case 'Enter':\r\n        this._handleEnter($event);\r\n        break;\r\n      case 'Tab':\r\n        this._handleTab($event);\r\n        break;\r\n      case 'Escape':\r\n        this.close();\r\n        $event.preventDefault();\r\n        break;\r\n      case 'Backspace':\r\n        this._handleBackspace();\r\n        break;\r\n    }\r\n  }\r\n\r\n  _handleArrowDown($event) {\r\n    if (this.optionId < this.options.length - 1) {\r\n      this.optionId++;\r\n    }\r\n  }\r\n\r\n  _handleArrowUp($event) {\r\n    if (this.optionId >= 1) {\r\n      this.optionId--;\r\n    }\r\n  }\r\n\r\n  _handleSpace($event) {}\r\n\r\n  _handleEnter($event) {\r\n    this.optionSelect(this.options[this.optionId], $event);\r\n  }\r\n\r\n  _handleTab($event) {}\r\n\r\n  _handleBackspace() {}\r\n}\r\n","<span class=\"ae-font ae-picker\" [ngClass]=\"{'ae-expanded':isOpen}\">\r\n  <button [tabIndex]=\"-1\" #labelButton tabindex=\"0\" type=\"button\" role=\"button\" class=\"ae-picker-label\" (click)=\"toggleOpen($event);\">{{label}}\r\n    <svg viewBox=\"0 0 18 18\">\r\n      <polygon class=\"ae-stroke\" points=\"7 11 9 13 11 11 7 11\"></polygon>\r\n      <polygon class=\"ae-stroke\" points=\"7 7 9 5 11 7 7 7\"></polygon>\r\n    </svg>\r\n  </button>\r\n  <span class=\"ae-picker-options\">\r\n    <button tabindex=\"-1\" type=\"button\" role=\"button\" class=\"ae-picker-item\"\r\n          *ngFor=\"let item of options; let i = index\"\r\n          [ngClass]=\"{'selected': item.value === value, 'focused': i === optionId}\"\r\n          (click)=\"optionSelect(item, $event)\">\r\n          {{item.label}}\r\n    </button>\r\n    <span class=\"dropdown-item\" *ngIf=\"!options.length\">No items for select</span>\r\n  </span>\r\n</span>\r\n","import { Component, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ae-toolbar-set',\r\n  templateUrl: './ae-toolbar-set.component.html',\r\n  styleUrls: ['./ae-toolbar-set.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class AeToolbarSetComponent {\r\n  constructor() {}\r\n}\r\n","<div class=\"angular-editor-toolbar-set\">\r\n  <ng-content></ng-content>\r\n</div>\r\n","import {\r\n  Component,\r\n  ContentChild,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  Input,\r\n  Output,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { AngularEditorService, UploadResponse } from './angular-editor.service';\r\nimport { HttpResponse, HttpEvent } from '@angular/common/http';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { CustomClass } from './config';\r\nimport { SelectOption } from './ae-select/ae-select.component';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'angular-editor-toolbar',\r\n  templateUrl: './angular-editor-toolbar.component.html',\r\n  styleUrls: ['./angular-editor-toolbar.component.scss'],\r\n})\r\nexport class AngularEditorToolbarComponent {\r\n  htmlMode = false;\r\n  linkSelected = false;\r\n  block = 'default';\r\n  fontName;\r\n  fontSize;\r\n  foreColour;\r\n  backColor;\r\n\r\n  headings: SelectOption[] = [\r\n    {\r\n      label: 'Heading 1',\r\n      value: 'h1',\r\n    },\r\n    {\r\n      label: 'Heading 2',\r\n      value: 'h2',\r\n    },\r\n    {\r\n      label: 'Heading 3',\r\n      value: 'h3',\r\n    },\r\n    {\r\n      label: 'Heading 4',\r\n      value: 'h4',\r\n    },\r\n    {\r\n      label: 'Heading 5',\r\n      value: 'h5',\r\n    },\r\n    {\r\n      label: 'Heading 6',\r\n      value: 'h6',\r\n    },\r\n    {\r\n      label: 'Paragraph',\r\n      value: 'p',\r\n    },\r\n    {\r\n      label: 'Predefined',\r\n      value: 'pre',\r\n    },\r\n    {\r\n      label: 'Standard',\r\n      value: 'div',\r\n    },\r\n    {\r\n      label: 'default',\r\n      value: 'default',\r\n    },\r\n  ];\r\n\r\n  fontSizes: SelectOption[] = [\r\n    {\r\n      label: '1',\r\n      value: '1',\r\n    },\r\n    {\r\n      label: '2',\r\n      value: '2',\r\n    },\r\n    {\r\n      label: '3',\r\n      value: '3',\r\n    },\r\n    {\r\n      label: '4',\r\n      value: '4',\r\n    },\r\n    {\r\n      label: '5',\r\n      value: '5',\r\n    },\r\n    {\r\n      label: '6',\r\n      value: '6',\r\n    },\r\n    {\r\n      label: '7',\r\n      value: '7',\r\n    },\r\n  ];\r\n\r\n  customClassId = '-1';\r\n  _customClasses: CustomClass[];\r\n  customClassList: SelectOption[] = [{ label: '', value: '' }];\r\n\r\n  tagMap = {\r\n    BLOCKQUOTE: 'indent',\r\n    A: 'link',\r\n  };\r\n\r\n  select = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'P', 'PRE', 'DIV'];\r\n\r\n  buttons = [\r\n    'bold',\r\n    'italic',\r\n    'underline',\r\n    'strikeThrough',\r\n    'subscript',\r\n    'superscript',\r\n    'justifyLeft',\r\n    'justifyCenter',\r\n    'justifyRight',\r\n    'justifyFull',\r\n    'indent',\r\n    'outdent',\r\n    'insertUnorderedList',\r\n    'insertOrderedList',\r\n    'link',\r\n  ];\r\n\r\n  @Input() id: string;\r\n  @Input() uploadUrl: string;\r\n  @Input() upload: (file: File) => Observable<HttpEvent<UploadResponse>>;\r\n  @Input() showToolbar: boolean;\r\n  @Input() fonts: SelectOption[] = [{ label: '', value: '' }];\r\n\r\n  @Input()\r\n  set customClasses(classes: CustomClass[]) {\r\n    if (classes) {\r\n      this._customClasses = classes;\r\n      this.customClassList = this._customClasses.map((x, i) => ({\r\n        label: x.name,\r\n        value: i.toString(),\r\n      }));\r\n      this.customClassList.unshift({ label: 'Clear Class', value: '-1' });\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  set defaultFontName(value: string) {\r\n    if (value) {\r\n      this.fontName = value;\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  set defaultFontSize(value: string) {\r\n    if (value) {\r\n      this.fontSize = value;\r\n    }\r\n  }\r\n\r\n  @Input() hiddenButtons: string[][];\r\n\r\n  @Output() execute: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n  @ViewChild('fileInput', { static: true }) myInputFile: ElementRef;\r\n\r\n  public get isLinkButtonDisabled(): boolean {\r\n    return this.htmlMode || !Boolean(this.editorService.selectedText);\r\n  }\r\n\r\n  constructor(\r\n    private r: Renderer2,\r\n    private editorService: AngularEditorService,\r\n    private er: ElementRef,\r\n    // @ts-ignore\r\n    @Inject(DOCUMENT) private doc: any,\r\n  ) {}\r\n\r\n  /**\r\n   * Trigger command from editor header buttons\r\n   * @param command string from toolbar buttons\r\n   */\r\n  triggerCommand(command: string) {\r\n    this.execute.emit(command);\r\n  }\r\n\r\n  /**\r\n   * highlight editor buttons when cursor moved or positioning\r\n   */\r\n  triggerButtons() {\r\n    if (!this.showToolbar) {\r\n      return;\r\n    }\r\n    this.buttons.forEach((e) => {\r\n      const result = this.doc.queryCommandState(e);\r\n      const elementById = this.doc.getElementById(e + '-' + this.id);\r\n      if (result) {\r\n        this.r.addClass(elementById, 'active');\r\n      } else {\r\n        this.r.removeClass(elementById, 'active');\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * trigger highlight editor buttons when cursor moved or positioning in block\r\n   */\r\n  triggerBlocks(nodes: Node[]) {\r\n    if (!this.showToolbar) {\r\n      return;\r\n    }\r\n    this.linkSelected = nodes.findIndex((x) => x.nodeName === 'A') > -1;\r\n    let found = false;\r\n    this.select.forEach((y) => {\r\n      const node = nodes.find((x) => x.nodeName === y);\r\n      if (node !== undefined && y === node.nodeName) {\r\n        if (found === false) {\r\n          this.block = node.nodeName.toLowerCase();\r\n          found = true;\r\n        }\r\n      } else if (found === false) {\r\n        this.block = 'default';\r\n      }\r\n    });\r\n\r\n    found = false;\r\n    if (this._customClasses) {\r\n      this._customClasses.forEach((y, index) => {\r\n        const node = nodes.find((x) => {\r\n          if (x instanceof Element) {\r\n            return x.className === y.class;\r\n          }\r\n        });\r\n        if (node !== undefined) {\r\n          if (found === false) {\r\n            this.customClassId = index.toString();\r\n            found = true;\r\n          }\r\n        } else if (found === false) {\r\n          this.customClassId = '-1';\r\n        }\r\n      });\r\n    }\r\n\r\n    Object.keys(this.tagMap).map((e) => {\r\n      const elementById = this.doc.getElementById(\r\n        this.tagMap[e] + '-' + this.id,\r\n      );\r\n      const node = nodes.find((x) => x.nodeName === e);\r\n      if (node !== undefined && e === node.nodeName) {\r\n        this.r.addClass(elementById, 'active');\r\n      } else {\r\n        this.r.removeClass(elementById, 'active');\r\n      }\r\n    });\r\n\r\n    this.foreColour = this.doc.queryCommandValue('ForeColor');\r\n    this.fontSize = this.doc.queryCommandValue('FontSize');\r\n    this.fontName = this.doc.queryCommandValue('FontName').replace(/\"/g, '');\r\n    this.backColor = this.doc.queryCommandValue('backColor');\r\n  }\r\n\r\n  /**\r\n   * insert URL link\r\n   */\r\n  insertUrl() {\r\n    let url: string | null = 'https://';\r\n    const selection = this.editorService.savedSelection;\r\n    if (\r\n      selection &&\r\n      selection.commonAncestorContainer?.parentElement?.nodeName === 'A'\r\n    ) {\r\n      const parent = selection.commonAncestorContainer\r\n        .parentElement as HTMLAnchorElement;\r\n      if (parent.href !== '') {\r\n        url = parent.href;\r\n      }\r\n    }\r\n    url = prompt('Insert URL link', url);\r\n    if (url && url !== '' && url !== 'https://') {\r\n      this.editorService.createLink(url);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * insert Video link\r\n   */\r\n  insertVideo() {\r\n    this.execute.emit('');\r\n    const url = prompt('Insert Video link', `https://`);\r\n    if (url && url !== '' && url !== `https://`) {\r\n      this.editorService.insertVideo(url);\r\n    }\r\n  }\r\n\r\n  /** insert color */\r\n  insertColor(color: string, where: string) {\r\n    this.editorService.insertColor(color, where);\r\n    this.execute.emit('');\r\n  }\r\n\r\n  /**\r\n   * set font Name/family\r\n   * @param foreColor string\r\n   */\r\n  setFontName(foreColor: string): void {\r\n    this.editorService.setFontName(foreColor);\r\n    this.execute.emit('');\r\n  }\r\n\r\n  /**\r\n   * set font Size\r\n   * @param fontSize string\r\n   */\r\n  setFontSize(fontSize: string): void {\r\n    this.editorService.setFontSize(fontSize);\r\n    this.execute.emit('');\r\n  }\r\n\r\n  /**\r\n   * toggle editor mode (WYSIWYG or SOURCE)\r\n   * @param m boolean\r\n   */\r\n  setEditorMode(m: boolean) {\r\n    const toggleEditorModeButton = this.doc.getElementById(\r\n      'toggleEditorMode' + '-' + this.id,\r\n    );\r\n    if (m) {\r\n      this.r.addClass(toggleEditorModeButton, 'active');\r\n    } else {\r\n      this.r.removeClass(toggleEditorModeButton, 'active');\r\n    }\r\n    this.htmlMode = m;\r\n  }\r\n\r\n  /**\r\n   * Upload image when file is selected.\r\n   */\r\n  onFileChanged(event) {\r\n    if (!event?.target?.files) {\r\n      return;\r\n    }\r\n\r\n    const file = event.target.files[0];\r\n    if (file.type.includes('image/')) {\r\n      if (this.upload) {\r\n        this.upload(file).subscribe((response: HttpResponse<UploadResponse>) =>\r\n          this.watchUploadImage(response, event),\r\n        );\r\n      } else if (this.uploadUrl) {\r\n        this.editorService\r\n          .uploadImage(file)\r\n          .subscribe((response: HttpResponse<UploadResponse>) =>\r\n            this.watchUploadImage(response, event),\r\n          );\r\n      } else {\r\n        const reader = new FileReader();\r\n        reader.onload = (e: ProgressEvent) => {\r\n          const fr = e.currentTarget as FileReader;\r\n          if (!fr || !fr.result) {\r\n            \r\n            return;\r\n          }\r\n          this.editorService.insertImage(fr.result.toString());\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    }\r\n\r\n    if (event.target) event.target.value = null;\r\n  }\r\n\r\n  watchUploadImage(response: HttpResponse<{ imageUrl: string }>, event) {\r\n    if (!response?.body?.imageUrl) {\r\n     \r\n      return;\r\n    }\r\n    const { imageUrl } = response.body;\r\n    this.editorService.insertImage(imageUrl);\r\n    event.srcElement.value = null;\r\n  }\r\n\r\n  /**\r\n   * Set custom class\r\n   */\r\n  setCustomClass(classId: string) {\r\n    if (classId === '-1') {\r\n      this.execute.emit('clear');\r\n    } else {\r\n      this.editorService.createCustomClass(this._customClasses[+classId]);\r\n    }\r\n  }\r\n\r\n  isButtonHidden(name: string): boolean {\r\n    if (!name) {\r\n      return false;\r\n    }\r\n    if (!(this.hiddenButtons instanceof Array)) {\r\n      return false;\r\n    }\r\n    let result: any;\r\n    for (const arr of this.hiddenButtons) {\r\n      if (arr instanceof Array) {\r\n        result = arr.find((item) => item === name);\r\n      }\r\n      if (result) {\r\n        break;\r\n      }\r\n    }\r\n    return result !== undefined;\r\n  }\r\n\r\n  focus() {\r\n    this.execute.emit('focus');\r\n  }\r\n}\r\n","<div class=\"angular-editor-toolbar\" *ngIf=\"showToolbar\">\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button type=\"button\" title=\"Undo\" class=\"angular-editor-button\" (click)=\"triggerCommand('undo')\"\r\n            [hidden]=\"isButtonHidden('undo')\" tabindex=\"-1\"><i\r\n      class='fa fa-undo'></i></button>\r\n    <button type=\"button\" title=\"Redo\" class=\"angular-editor-button\" (click)=\"triggerCommand('redo')\"\r\n            [hidden]=\"isButtonHidden('redo')\" tabindex=\"-1\"><i\r\n      class='fa fa-repeat'></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'bold-'+id\" type=\"button\" title=\"Bold\" class=\"angular-editor-button\" (click)=\"triggerCommand('bold')\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('bold')\" tabindex=\"-1\"><i class='fa fa-bold'></i></button>\r\n    <button [id]=\"'italic-'+id\" type=\"button\" title=\"Italic\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('italic')\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('italic')\" tabindex=\"-1\"><i class='fa fa-italic'></i>\r\n    </button>\r\n    <button [id]=\"'underline-'+id\" type=\"button\" title=\"Underline\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('underline')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('underline')\"\r\n            tabindex=\"-1\"><i class='fa fa-underline'></i></button>\r\n    <button [id]=\"'strikeThrough-'+id\" type=\"button\" title=\"Strikethrough\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('strikeThrough')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('strikeThrough')\"\r\n            tabindex=\"-1\"><i class='fa fa-strikethrough'></i></button>\r\n    <button [id]=\"'subscript-'+id\" type=\"button\" title=\"Subscript\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('subscript')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('subscript')\"\r\n            tabindex=\"-1\"><i class='fa fa-subscript'></i></button>\r\n    <button [id]=\"'superscript-'+id\" type=\"button\" title=\"Superscript\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('superscript')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('superscript')\"\r\n            tabindex=\"-1\"><i class='fa fa-superscript'></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'justifyLeft-'+id\" type=\"button\" title=\"Justify Left\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('justifyLeft')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('justifyLeft')\"\r\n            tabindex=\"-1\"><i\r\n      class='fa fa-align-left'></i></button>\r\n    <button [id]=\"'justifyCenter-'+id\" type=\"button\" title=\"Justify Center\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('justifyCenter')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('justifyCenter')\"\r\n            tabindex=\"-1\"><i\r\n      class='fa fa-align-center'></i></button>\r\n    <button [id]=\"'justifyRight-'+id\" type=\"button\" title=\"Justify Right\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('justifyRight')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('justifyRight')\"\r\n            tabindex=\"-1\">\r\n      <i class='fa fa-align-right'></i></button>\r\n    <button [id]=\"'justifyFull-'+id\" type=\"button\" title=\"Justify Full\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('justifyFull')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('justifyFull')\"\r\n            tabindex=\"-1\"><i\r\n      class='fa fa-align-justify'></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'indent-'+id\" type=\"button\" title=\"Indent\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('indent')\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('indent')\" tabindex=\"-1\"><i\r\n      class='fa fa-indent'></i></button>\r\n    <button [id]=\"'outdent-'+id\" type=\"button\" title=\"Outdent\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('outdent')\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('outdent')\" tabindex=\"-1\"><i\r\n      class='fa fa-outdent'></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'insertUnorderedList-'+id\" type=\"button\" title=\"Unordered List\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('insertUnorderedList')\" [disabled]=\"htmlMode\"\r\n            [hidden]=\"isButtonHidden('insertUnorderedList')\" tabindex=\"-1\"><i\r\n      class='fa fa-list-ul'></i></button>\r\n    <button [id]=\"'insertOrderedList-'+id\" type=\"button\" title=\"Ordered List\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('insertOrderedList')\" [disabled]=\"htmlMode\"\r\n            [hidden]=\"isButtonHidden('insertOrderedList')\" tabindex=\"-1\"><i\r\n      class='fa fa-list-ol'></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n\r\n    <ae-select class=\"select-heading\" [options]=\"headings\"\r\n               [(ngModel)]=\"block\"\r\n               (change)=\"triggerCommand(block)\"\r\n               [disabled]=\"htmlMode\"\r\n               [hidden]=\"isButtonHidden('heading')\"\r\n               tabindex=\"-1\"></ae-select>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n\r\n    <ae-select class=\"select-font\" [options]=\"fonts\"\r\n               [(ngModel)]=\"fontName\"\r\n               (change)=\"setFontName(fontName)\"\r\n               [disabled]=\"htmlMode\"\r\n               [hidden]=\"isButtonHidden('fontName')\"\r\n               tabindex=\"-1\"\r\n               title=\"Font Family\"></ae-select>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n\r\n    <ae-select class=\"select-font-size\" [options]=\"fontSizes\"\r\n               [(ngModel)]=\"fontSize\"\r\n               (change)=\"setFontSize(fontSize)\"\r\n               [disabled]=\"htmlMode\"\r\n               [hidden]=\"isButtonHidden('fontSize')\"\r\n               tabindex=\"-1\"\r\n               title=\"Font Size\">\r\n    </ae-select>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <input\r\n      style=\"display: none\"\r\n      type=\"color\" (change)=\"insertColor(fgInput.value, 'textColor')\"\r\n      #fgInput>\r\n    <button [id]=\"'foregroundColorPicker-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"focus(); ; fgInput.click()\"\r\n            title=\"Text Color\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('textColor')\" tabindex=\"-1\"><span\r\n      class=\"color-label foreground\"><i class=\"fa fa-font\"></i></span>\r\n    </button>\r\n    <input\r\n      style=\"display: none\"\r\n      type=\"color\" (change)=\"insertColor(bgInput.value, 'backgroundColor')\"\r\n      #bgInput>\r\n    <button [id]=\"'backgroundColorPicker-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"focus(); ; bgInput.click()\"\r\n            title=\"Background Color\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('backgroundColor')\" tabindex=\"-1\"><span\r\n      class=\"color-label background\"><i class=\"fa fa-font\"></i></span>\r\n    </button>\r\n  </div>\r\n  <div *ngIf=\"_customClasses\" class=\"angular-editor-toolbar-set\">\r\n    <ae-select class=\"select-custom-style\" [options]=\"customClassList\"\r\n               [(ngModel)]=\"customClassId\"\r\n               (change)=\"setCustomClass(customClassId)\"\r\n               [disabled]=\"htmlMode\"\r\n               [hidden]=\"isButtonHidden('customClasses')\"\r\n               tabindex=\"-1\"></ae-select>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'link-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"insertUrl()\"\r\n            title=\"Insert Link\" [disabled]=\"isLinkButtonDisabled\" [hidden]=\"isButtonHidden('link')\" tabindex=\"-1\">\r\n      <i class=\"fa fa-link\"></i>\r\n    </button>\r\n    <button [id]=\"'unlink-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"triggerCommand('unlink')\"\r\n            title=\"Unlink\" [disabled]=\"htmlMode || !linkSelected\" [hidden]=\"isButtonHidden('unlink')\" tabindex=\"-1\">\r\n      <i class=\"fa fa-chain-broken\"></i>\r\n    </button>\r\n    <input\r\n      style=\"display: none\"\r\n      accept=\"image/*\"\r\n      type=\"file\" (change)=\"onFileChanged($event)\"\r\n      #fileInput>\r\n    <button [id]=\"'insertImage-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"focus(); fileInput.click()\"\r\n            title=\"Insert Image\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('insertImage')\" tabindex=\"-1\"><i class=\"fa fa-image\"></i>\r\n    </button>\r\n    <button [id]=\"'insertVideo-'+id\" type=\"button\" class=\"angular-editor-button\"\r\n            (click)=\"insertVideo()\" title=\"Insert Video\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('insertVideo')\"\r\n            tabindex=\"-1\"><i\r\n      class=\"fa fa-video-camera\"></i></button>\r\n    <button [id]=\"'insertHorizontalRule-'+id\" type=\"button\" title=\"Horizontal Line\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('insertHorizontalRule')\" [disabled]=\"htmlMode\"\r\n            [hidden]=\"isButtonHidden('insertHorizontalRule')\" tabindex=\"-1\"><i\r\n      class=\"fa fa-minus\"></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'clearFormatting-'+id\" type=\"button\" title=\"Clear Formatting\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('removeFormat')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('removeFormat')\"\r\n            tabindex=\"-1\"><i class='fa fa-remove'></i>\r\n    </button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'toggleEditorMode-'+id\" type=\"button\" title=\"HTML Code\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('toggleEditorMode')\" [hidden]=\"isButtonHidden('toggleEditorMode')\" tabindex=\"-1\"><i\r\n      class='fa fa-code'></i></button>\r\n  </div>\r\n  <ng-content></ng-content>\r\n</div>\r\n","import { DOCUMENT } from '@angular/common';\r\nimport {\r\n  AfterViewInit,\r\n  Attribute,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ElementRef,\r\n  EventEmitter,\r\n  forwardRef,\r\n  HostBinding,\r\n  HostListener,\r\n  Inject,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  SecurityContext,\r\n  TemplateRef,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { AngularEditorToolbarComponent } from './angular-editor-toolbar.component';\r\nimport { AngularEditorService } from './angular-editor.service';\r\nimport { AngularEditorConfig, angularEditorConfig } from './config';\r\nimport { isDefined } from './utils';\r\nimport { Subject } from 'rxjs';\r\nimport { throttleTime } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'angular-editor',\r\n  templateUrl: './angular-editor.component.html',\r\n  styleUrls: ['./angular-editor.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => AngularEditorComponent),\r\n      multi: true,\r\n    },\r\n    AngularEditorService,\r\n  ],\r\n})\r\nexport class AngularEditorComponent\r\n  implements OnInit, ControlValueAccessor, AfterViewInit, OnDestroy\r\n{\r\n  private onChange: (value: string) => void;\r\n  private onTouched: () => void;\r\n\r\n  modeVisual = true;\r\n  showPlaceholder = false;\r\n  disabled = false;\r\n  focused = false;\r\n  touched = false;\r\n  changed = false;\r\n\r\n  mouseMoveEvtListener = () => {};\r\n  currentSelectedImage: any = null;\r\n  editSubject = new Subject();\r\n  editHistory = [] as any[];\r\n  currentHistoryIndex = -1;\r\n\r\n  focusInstance: any;\r\n  blurInstance: any;\r\n\r\n  @Input() id = '';\r\n  @Input() config: AngularEditorConfig = angularEditorConfig;\r\n  @Input() placeholder = '';\r\n  @Input() tabIndex: number | null;\r\n\r\n  @Output() html;\r\n\r\n  @ViewChild('editor', { static: true }) textArea: ElementRef;\r\n  @ViewChild('editorWrapper', { static: true }) editorWrapper: ElementRef;\r\n  @ViewChild('editorToolbar') editorToolbar: AngularEditorToolbarComponent;\r\n  @ContentChild('customButtons') customButtonsTemplateRef?: TemplateRef<any>;\r\n  executeCommandFn = this.executeCommand.bind(this);\r\n\r\n  @Output() viewMode = new EventEmitter<boolean>();\r\n\r\n  /** emits `blur` event when focused out from the textarea */\r\n  // eslint-disable-next-line @angular-eslint/no-output-native, @angular-eslint/no-output-rename\r\n  @Output('blur') blurEvent: EventEmitter<FocusEvent> =\r\n    new EventEmitter<FocusEvent>();\r\n\r\n  /** emits `focus` event when focused in to the textarea */\r\n  // eslint-disable-next-line @angular-eslint/no-output-rename, @angular-eslint/no-output-native\r\n  @Output('focus') focusEvent: EventEmitter<FocusEvent> =\r\n    new EventEmitter<FocusEvent>();\r\n\r\n  @HostBinding('attr.tabindex') tabindex = -1;\r\n\r\n  @HostListener('focus')\r\n  onFocus() {\r\n    this.focus();\r\n  }\r\n\r\n  @HostListener('contextmenu')\r\n  preventContextMenu() {\r\n    this.unselectImage();\r\n  }\r\n\r\n  @HostListener('window:click', ['$event.target'])\r\n  onClick(e) {\r\n    if (!this.focused) return;\r\n    this.unselectImage();\r\n    if (!e || e.tagName !== 'IMG') return;\r\n    this.currentSelectedImage = e;\r\n    this.addResizeWrapper();\r\n    this.selectImage();\r\n    this.onContentChange(this.textArea.nativeElement);\r\n    this.runFontNameAndSizeCheck();\r\n  }\r\n\r\n  constructor(\r\n    private r: Renderer2,\r\n    private editorService: AngularEditorService,\r\n    // @ts-ignore\r\n    @Inject(DOCUMENT) private doc: Document,\r\n    private sanitizer: DomSanitizer,\r\n    private cdRef: ChangeDetectorRef,\r\n    // @ts-ignore\r\n    @Attribute('tabindex') defaultTabIndex: string,\r\n    // @ts-ignore\r\n    @Attribute('autofocus') private autoFocus: any,\r\n  ) {\r\n    const parsedTabIndex = Number(defaultTabIndex);\r\n    this.tabIndex =\r\n      parsedTabIndex || parsedTabIndex === 0 ? parsedTabIndex : null;\r\n    this.editSubject\r\n      .pipe(throttleTime(200, undefined, { leading: false, trailing: true }))\r\n      .subscribe((html) => {\r\n        this.addHistory(html);\r\n      });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.config.toolbarPosition = this.config.toolbarPosition\r\n      ? this.config.toolbarPosition\r\n      : angularEditorConfig.toolbarPosition;\r\n    this.config.editHistoryLimit = this.config.editHistoryLimit\r\n      ? this.config.editHistoryLimit\r\n      : angularEditorConfig.editHistoryLimit;\r\n    this.config.imageResizeSensitivity = this.config.imageResizeSensitivity\r\n      ? this.config.imageResizeSensitivity\r\n      : angularEditorConfig.imageResizeSensitivity;\r\n    this.config.textPatternsEnabled =\r\n      this.config.textPatternsEnabled == null\r\n        ? angularEditorConfig.textPatternsEnabled\r\n        : this.config.textPatternsEnabled;\r\n\r\n    this.editorService.currentFontName =\r\n      this.editorService.currentFontName ||\r\n      this.config.defaultFontName ||\r\n      angularEditorConfig.defaultFontName ||\r\n      this.config.fonts[0]?.label;\r\n\r\n    this.editorService.currentFontSize =\r\n      this.editorService.currentFontSize ||\r\n      this.config.defaultFontSize ||\r\n      angularEditorConfig.defaultFontSize;\r\n\r\n    this.editorService.setFontName(this.editorService.currentFontName);\r\n    this.editorService.setFontSize(this.editorService.currentFontSize);\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    if (isDefined(this.autoFocus)) {\r\n      this.focus();\r\n    }\r\n  }\r\n\r\n  ePos;\r\n  resizeImage = (currentSelected, renderer2) => (e) => {\r\n    if (!currentSelected) return;\r\n    const resizeSensitivity =\r\n      this.config.imageResizeSensitivity ||\r\n      angularEditorConfig.imageResizeSensitivity ||\r\n      2;\r\n    const currX = e.x != null ? e.x : e.clientX;\r\n    const dx = this.ePos - currX;\r\n    this.ePos = currX;\r\n    let nextWidth = currentSelected.width + dx * resizeSensitivity;\r\n    if (nextWidth <= 10) nextWidth = 10;\r\n    renderer2.setAttribute(currentSelected, 'width', `${nextWidth}px`);\r\n  };\r\n\r\n  selectImage(toStart = false) {\r\n    const selection = this.doc.getSelection() as Selection;\r\n    selection.removeAllRanges();\r\n    const range = this.doc.createRange();\r\n    if (!this.currentSelectedImage?.parentNode) {\r\n      return;\r\n    }\r\n    range.selectNode(this.currentSelectedImage);\r\n    range.collapse(toStart);\r\n    selection.addRange(range);\r\n    this.r.setStyle(this.textArea.nativeElement, 'caret-color', 'transparent');\r\n  }\r\n\r\n  // TODO: Move image stuff to another service or class\r\n  addResizeWrapper() {\r\n    const parent = this.currentSelectedImage.parentNode;\r\n    if (parent.classList?.contains('angular-editor-selected-image-wrapper'))\r\n      return;\r\n    const wrapper = this.r.createElement('div');\r\n    this.r.addClass(wrapper, 'angular-editor-selected-image-wrapper');\r\n    this.r.insertBefore(parent, wrapper, this.currentSelectedImage);\r\n    this.r.removeChild(parent, this.currentSelectedImage);\r\n    this.r.appendChild(wrapper, this.currentSelectedImage);\r\n    this.r.listen(wrapper, 'mousedown', (e) => {\r\n      e.preventDefault();\r\n      this.mouseMoveEvtListener();\r\n      this.ePos = e.x != null ? e.x : e.clientX;\r\n      this.mouseMoveEvtListener = this.r.listen(\r\n        this.doc,\r\n        'mousemove',\r\n        this.resizeImage(this.currentSelectedImage, this.r),\r\n      );\r\n    });\r\n  }\r\n\r\n  removeResizeWrapper() {\r\n    this.mouseMoveEvtListener();\r\n    const wrappers = this.doc.getElementsByClassName(\r\n      'angular-editor-selected-image-wrapper',\r\n    );\r\n    for (let i = wrappers.length - 1; i >= 0; i--) {\r\n      const wrapper = wrappers[i];\r\n      this.editorService.replaceWithOwnChildren(wrapper);\r\n    }\r\n  }\r\n\r\n  unselectImage() {\r\n    this.removeResizeWrapper();\r\n    if (!this.currentSelectedImage) return;\r\n    this.r.removeClass(\r\n      this.currentSelectedImage,\r\n      'angular-editor-selected-image',\r\n    );\r\n    this.currentSelectedImage = null;\r\n    this.onContentChange(this.textArea.nativeElement);\r\n    this.r.setStyle(this.textArea.nativeElement, 'caret-color', 'black');\r\n  }\r\n\r\n  onPaste(event: ClipboardEvent) {\r\n    if (this.config.rawPaste) {\r\n      event.preventDefault();\r\n      const text = event.clipboardData?.getData('text/plain');\r\n      document.execCommand('insertHTML', false, text);\r\n      return text;\r\n    }\r\n  }\r\n\r\n  setContentAsCode(editableElement) {\r\n    const oContent = this.r.createText(editableElement.innerHTML);\r\n    this.r.setProperty(editableElement, 'innerHTML', '');\r\n    this.r.setProperty(editableElement, 'contentEditable', false);\r\n\r\n    const oPre = this.r.createElement('pre');\r\n    this.r.setStyle(oPre, 'margin', '0');\r\n    this.r.setStyle(oPre, 'outline', 'none');\r\n\r\n    const oCode = this.r.createElement('code');\r\n    this.r.setProperty(oCode, 'id', 'sourceText' + this.id);\r\n    this.r.setStyle(oCode, 'display', 'block');\r\n    this.r.setStyle(oCode, 'white-space', 'pre-wrap');\r\n    this.r.setStyle(oCode, 'word-break', 'keep-all');\r\n    this.r.setStyle(oCode, 'outline', 'none');\r\n    this.r.setStyle(oCode, 'margin', '0');\r\n    this.r.setStyle(oCode, 'background-color', '#fff5b9');\r\n    this.r.setProperty(oCode, 'contentEditable', true);\r\n    this.r.appendChild(oCode, oContent);\r\n    this.focusInstance = this.r.listen(oCode, 'focus', (event) =>\r\n      this.onTextAreaFocus(event),\r\n    );\r\n    this.blurInstance = this.r.listen(oCode, 'blur', (event) =>\r\n      this.onTextAreaBlur(event),\r\n    );\r\n    this.r.appendChild(oPre, oCode);\r\n    this.r.appendChild(editableElement, oPre);\r\n\r\n    this.doc.execCommand('defaultParagraphSeparator', false, 'div');\r\n  }\r\n\r\n  setElementState() {\r\n    const state = this.editHistory[this.currentHistoryIndex];\r\n    this.r.setProperty(this.textArea.nativeElement, 'innerHTML', state);\r\n    if (!this.modeVisual) {\r\n      this.setContentAsCode(this.textArea.nativeElement);\r\n    }\r\n  }\r\n\r\n  ctrlZ(e) {\r\n    if (this.currentSelectedImage) {\r\n      this.unselectImage();\r\n    }\r\n  }\r\n\r\n  ctrlShiftZ(e) {\r\n    if (this.currentSelectedImage) {\r\n      this.unselectImage();\r\n    }\r\n  }\r\n\r\n  handleEnter(e) {\r\n    const sel = this.doc.getSelection() as Selection;\r\n    const focusNode = sel.focusNode as Node & HTMLElement & any;\r\n    const quoteParent = this.editorService.getFirstParentWithProperty(\r\n      focusNode,\r\n      'angular-editor-quote',\r\n    );\r\n    if (quoteParent && quoteParent.previousSibling) {\r\n      if (\r\n        quoteParent.innerHTML === '<br>' &&\r\n        quoteParent.previousSibling?.innerHTML === '<br>'\r\n      ) {\r\n        this.editorService.replaceWithOwnChildren(quoteParent.previousSibling);\r\n        this.editorService.replaceWithOwnChildren(quoteParent);\r\n        this.onContentChange(this.textArea.nativeElement, false);\r\n        return;\r\n      }\r\n      const previousSibling = quoteParent.previousSibling;\r\n      if (!previousSibling?.classList?.contains('angular-editor-quote')) {\r\n        return;\r\n      }\r\n      const previousSiblingInnerText = this.editorService\r\n        .getInnerTextFromNode(previousSibling)\r\n        ?.trim();\r\n      if (!previousSiblingInnerText || previousSiblingInnerText.length < 1) {\r\n        this.editorService.replaceWithOwnChildren(quoteParent.previousSibling);\r\n        const quoteParentInnerText =\r\n          this.editorService.getInnerTextFromNode(quoteParent);\r\n        if (!quoteParentInnerText?.trim()) {\r\n          this.editorService.replaceWithOwnChildren(quoteParent);\r\n        }\r\n        this.onContentChange(this.textArea.nativeElement, false);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Executed command from editor header buttons\r\n   * @param command string from triggerCommand\r\n   * @param value\r\n   */\r\n  executeCommand(command: string, value?: string) {\r\n    this.focus();\r\n    if (command === 'focus') {\r\n      return;\r\n    }\r\n    if (command === 'toggleEditorMode') {\r\n      this.toggleEditorMode(this.modeVisual);\r\n    } else if (command !== '') {\r\n      if (command === 'clear') {\r\n        this.editorService.removeSelectedElements(this.getCustomTags());\r\n        this.onContentChange(this.textArea.nativeElement);\r\n      } else if (command === 'default') {\r\n        this.editorService.removeSelectedElements('h1,h2,h3,h4,h5,h6,p,pre');\r\n        this.onContentChange(this.textArea.nativeElement);\r\n      } else {\r\n        this.editorService.executeCommand(command, value);\r\n      }\r\n      this.exec();\r\n    }\r\n\r\n    this.onContentChange(this.textArea.nativeElement);\r\n  }\r\n\r\n  onTextAreaFocus(event: FocusEvent): void {\r\n    if (this.focused) {\r\n      event.stopPropagation();\r\n      return;\r\n    }\r\n    this.runFontNameAndSizeCheck();\r\n    this.focused = true;\r\n    this.focusEvent.emit(event);\r\n    if (!this.touched || !this.changed) {\r\n      this.editorService.executeInNextQueueIteration(() => {\r\n        this.configure();\r\n        this.touched = true;\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description fires when cursor leaves textarea\r\n   */\r\n  public onTextAreaMouseOut(event: MouseEvent): void {\r\n    this.editorService.saveSelection();\r\n  }\r\n\r\n  onTextAreaBlur(event: FocusEvent) {\r\n    this.unselectImage();\r\n    this.editorService.executeInNextQueueIteration(\r\n      this.editorService.saveSelection,\r\n    );\r\n\r\n    if (typeof this.onTouched === 'function') {\r\n      this.onTouched();\r\n    }\r\n\r\n    if (event.relatedTarget !== null) {\r\n      const parent = (event.relatedTarget as HTMLElement).parentElement;\r\n      if (\r\n        parent &&\r\n        !parent.classList.contains('angular-editor-toolbar-set') &&\r\n        !parent.classList.contains('ae-picker')\r\n      ) {\r\n        this.blurEvent.emit(event);\r\n        this.focused = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  hasParentTag(element: any, tagNames: string[]) {\r\n    if (!element) return null;\r\n    if (element && tagNames.includes(element.tagName)) {\r\n      return element.tagName;\r\n    }\r\n    return this.hasParentTag(element?.parentElement, tagNames);\r\n  }\r\n\r\n  isCurrentSelectionHeader(): boolean {\r\n    if (\r\n      !['pre', 'div', 'default'].includes(\r\n        this.editorToolbar.block?.toLowerCase(),\r\n      )\r\n    ) {\r\n      return true;\r\n    }\r\n    const selection = this.doc.getSelection();\r\n    if (selection.rangeCount < 1) return false;\r\n    const edRange = selection?.getRangeAt(0);\r\n    let edNode = edRange.commonAncestorContainer;\r\n    const isHeader = this.hasParentTag(edNode, [\r\n      'H1',\r\n      'H2',\r\n      'H3',\r\n      'H4',\r\n      'H5',\r\n      'H6',\r\n    ]);\r\n    return (\r\n      isHeader == true ||\r\n      ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'].includes(isHeader as string)\r\n    );\r\n  }\r\n\r\n  deepRemoveAttribute(attr: string, node?: Node) {\r\n    const selection = this.doc.getSelection();\r\n    const edRange = selection.getRangeAt(0);\r\n    let edNode = node;\r\n    if (!edNode) {\r\n      edNode = edRange?.commonAncestorContainer;\r\n    }\r\n    const isHeader = this.hasParentTag(edNode, [\r\n      'H1',\r\n      'H2',\r\n      'H3',\r\n      'H4',\r\n      'H5',\r\n      'H6',\r\n    ]);\r\n    if (isHeader) {\r\n      let parent = edNode.parentElement;\r\n      while (parent) {\r\n        parent.removeAttribute(attr);\r\n        parent = parent.parentElement;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   *  focus the text area when the editor is focused\r\n   */\r\n  focus() {\r\n    if (this.modeVisual) {\r\n      this.textArea.nativeElement.focus();\r\n    } else {\r\n      const sourceText = this.doc.getElementById('sourceText' + this.id);\r\n      sourceText?.focus();\r\n      this.focused = true;\r\n    }\r\n    this.runFontNameAndSizeCheck();\r\n  }\r\n\r\n  addHistory(html) {\r\n    if (\r\n      this.config.editHistoryLimit != null &&\r\n      this.editHistory.length >= this.config.editHistoryLimit\r\n    ) {\r\n      this.editHistory.shift();\r\n      this.currentHistoryIndex -= 1;\r\n    }\r\n    this.editHistory.length = this.currentHistoryIndex + 1;\r\n    this.editHistory.push(html);\r\n    this.currentHistoryIndex = this.editHistory.length - 1;\r\n  }\r\n\r\n  /**\r\n   * Executed from the contenteditable section while the input property changes\r\n   * @param element html element from contenteditable\r\n   */\r\n  onContentChange(element: any, addChangeToHistory = true): void {\r\n    let html = '';\r\n    if (this.modeVisual) {\r\n      html = element.innerHTML;\r\n    } else {\r\n      html = element.innerText;\r\n    }\r\n    if (!html || html === '<br>') {\r\n      html = '';\r\n    }\r\n    if (typeof this.onChange === 'function') {\r\n      this.onChange(\r\n        this.config.sanitize || this.config.sanitize === undefined\r\n          ? this.sanitizer.sanitize(SecurityContext.HTML, html) || html\r\n          : html,\r\n      );\r\n      if (!html !== this.showPlaceholder) {\r\n        this.togglePlaceholder(this.showPlaceholder);\r\n      }\r\n    }\r\n    if (addChangeToHistory) {\r\n      this.editSubject.next(html);\r\n    }\r\n    this.changed = true;\r\n    this.runFontNameAndSizeCheck();\r\n  }\r\n\r\n  /**\r\n   * Set the function to be called\r\n   * when the control receives a change event.\r\n   *\r\n   * @param fn a function\r\n   */\r\n  registerOnChange(fn: any): void {\r\n    this.onChange = (e) => (e === '<br>' ? fn('') : fn(e));\r\n  }\r\n\r\n  /**\r\n   * Set the function to be called\r\n   * when the control receives a touch event.\r\n   *\r\n   * @param fn a function\r\n   */\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  /**\r\n   * Write a new value to the element.\r\n   *\r\n   * @param value value to be executed when there is a change in contenteditable\r\n   */\r\n  writeValue(value: any): void {\r\n    if ((!value || value === '<br>' || value === '') !== this.showPlaceholder) {\r\n      this.togglePlaceholder(this.showPlaceholder);\r\n    }\r\n\r\n    if (value === undefined || value === '' || value === '<br>') {\r\n      value = null;\r\n    }\r\n\r\n    this.refreshView(value);\r\n  }\r\n\r\n  /**\r\n   * refresh view/HTML of the editor\r\n   *\r\n   * @param value html string from the editor\r\n   */\r\n  refreshView(value: string): void {\r\n    const normalizedValue = value === null ? '' : value;\r\n    this.r.setProperty(\r\n      this.textArea.nativeElement,\r\n      'innerHTML',\r\n      normalizedValue,\r\n    );\r\n    if (value !== null && this.editHistory.length === 0) {\r\n      this.editHistory.push(this.textArea.nativeElement.innerHTML);\r\n      this.currentHistoryIndex = 0;\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * toggles placeholder based on input string\r\n   *\r\n   * @param value A HTML string from the editor\r\n   */\r\n  togglePlaceholder(value: boolean): void {\r\n    if (!value) {\r\n      this.r.addClass(this.editorWrapper.nativeElement, 'show-placeholder');\r\n      this.showPlaceholder = true;\r\n    } else {\r\n      this.r.removeClass(this.editorWrapper.nativeElement, 'show-placeholder');\r\n      this.showPlaceholder = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Implements disabled state for this element\r\n   *\r\n   * @param isDisabled Disabled flag\r\n   */\r\n  setDisabledState(isDisabled: boolean): void {\r\n    const div = this.textArea.nativeElement;\r\n    const action = isDisabled ? 'addClass' : 'removeClass';\r\n    this.r[action](div, 'disabled');\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  /**\r\n   * toggles editor mode based on bToSource bool\r\n   *\r\n   * @param bToSource A boolean value from the editor\r\n   */\r\n  toggleEditorMode(bToSource: boolean) {\r\n    let oContent: any;\r\n    const editableElement = this.textArea.nativeElement;\r\n\r\n    if (bToSource) {\r\n      oContent = this.r.createText(editableElement.innerHTML);\r\n      this.r.setProperty(editableElement, 'innerHTML', '');\r\n      this.r.setProperty(editableElement, 'contentEditable', false);\r\n\r\n      const oPre = this.r.createElement('pre');\r\n      this.r.setStyle(oPre, 'margin', '0');\r\n      this.r.setStyle(oPre, 'outline', 'none');\r\n\r\n      const oCode = this.r.createElement('code');\r\n      this.r.setProperty(oCode, 'id', 'sourceText' + this.id);\r\n      this.r.setStyle(oCode, 'display', 'block');\r\n      this.r.setStyle(oCode, 'white-space', 'pre-wrap');\r\n      this.r.setStyle(oCode, 'word-break', 'keep-all');\r\n      this.r.setStyle(oCode, 'outline', 'none');\r\n      this.r.setStyle(oCode, 'margin', '0');\r\n      this.r.setStyle(oCode, 'background-color', '#fff5b9');\r\n      this.r.setProperty(oCode, 'contentEditable', true);\r\n      this.r.appendChild(oCode, oContent);\r\n      this.focusInstance = this.r.listen(oCode, 'focus', (event) =>\r\n        this.onTextAreaFocus(event),\r\n      );\r\n      this.blurInstance = this.r.listen(oCode, 'blur', (event) =>\r\n        this.onTextAreaBlur(event),\r\n      );\r\n      this.r.appendChild(oPre, oCode);\r\n      this.r.appendChild(editableElement, oPre);\r\n\r\n      this.doc.execCommand('defaultParagraphSeparator', false, 'div');\r\n\r\n      this.modeVisual = false;\r\n      this.viewMode.emit(false);\r\n      oCode.focus();\r\n    } else {\r\n      if (this.doc['querySelectorAll']) {\r\n        this.r.setProperty(\r\n          editableElement,\r\n          'innerHTML',\r\n          editableElement.innerText,\r\n        );\r\n      } else {\r\n        oContent = this.doc.createRange();\r\n        oContent.selectNodeContents(editableElement.firstChild);\r\n        this.r.setProperty(editableElement, 'innerHTML', oContent.toString());\r\n      }\r\n      this.r.setProperty(editableElement, 'contentEditable', true);\r\n      this.modeVisual = true;\r\n      this.viewMode.emit(true);\r\n      this.onContentChange(editableElement, false);\r\n      editableElement.focus();\r\n    }\r\n    this.editorToolbar.setEditorMode(!this.modeVisual);\r\n  }\r\n\r\n  textPatternCheck() {\r\n    if (this.config.textPatternsEnabled === false || !this.modeVisual) return;\r\n    if (!this.modeVisual) return;\r\n    const selection = this.doc.getSelection() as Selection;\r\n    const txtData = selection.anchorNode?.textContent;\r\n    const textPatternsMap = {\r\n      '1.': { command: 'insertOrderedList', offsets: [3] },\r\n      '*': { command: 'insertUnorderedList', offsets: [2] },\r\n      '>': {\r\n        command: () =>\r\n          this.editorService.createCustomClass({\r\n            name: 'quote',\r\n            class: 'angular-editor-quote',\r\n          }),\r\n        offsets: [2],\r\n      },\r\n    };\r\n    const patternDetected = textPatternsMap[txtData ? txtData.trim() : ''];\r\n    if (\r\n      patternDetected &&\r\n      patternDetected.command &&\r\n      patternDetected.offsets?.includes(selection.anchorOffset)\r\n    ) {\r\n      if (typeof patternDetected.command == 'string') {\r\n        this.doc.execCommand(patternDetected.command, false);\r\n        const edRange = selection.getRangeAt(0);\r\n        const edNode = edRange.commonAncestorContainer;\r\n        selection.removeAllRanges();\r\n        const range = this.doc.createRange();\r\n        range.selectNodeContents(edNode);\r\n        selection.addRange(range);\r\n        range.deleteContents();\r\n      } else {\r\n        const edRange = selection.getRangeAt(0);\r\n        const edNode = edRange.commonAncestorContainer;\r\n        selection.removeAllRanges();\r\n        const range = this.doc.createRange();\r\n        range.selectNodeContents(edNode);\r\n        selection.addRange(range);\r\n        patternDetected.command();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * toggles editor buttons when cursor moved or positioning\r\n   *\r\n   * Send a node array from the contentEditable of the editor\r\n   */\r\n  exec($event: KeyboardEvent | any | null = null) {\r\n    this.runFontNameAndSizeCheck();\r\n    if ($event && ($event.key === 'Delete' || $event.key === 'Backspace')) {\r\n      if (this.currentSelectedImage) {\r\n        this.removeResizeWrapper();\r\n        if ($event.key === 'Delete') {\r\n          this.selectImage(true);\r\n        }\r\n      } else if ($event.key === 'Backspace') {\r\n        const justifyRightOrCenterEnabled =\r\n          this.doc.queryCommandState('justifyCenter') ||\r\n          this.doc.queryCommandState('justifyRight');\r\n        const selection = this.doc.getSelection();\r\n        const txtData = selection?.anchorNode?.textContent;\r\n        const previousSiblingTxtData =\r\n          selection?.anchorNode?.previousSibling?.textContent;\r\n        if (\r\n          justifyRightOrCenterEnabled &&\r\n          txtData === '' &&\r\n          previousSiblingTxtData === ''\r\n        ) {\r\n          this.doc.execCommand('justifyLeft');\r\n        }\r\n      }\r\n    }\r\n\r\n    this.editorToolbar.triggerButtons();\r\n\r\n    let userSelection;\r\n    if (this.doc.getSelection) {\r\n      userSelection = this.doc.getSelection();\r\n      this.editorService.executeInNextQueueIteration(\r\n        this.editorService.saveSelection,\r\n      );\r\n    }\r\n\r\n    let a = userSelection.focusNode;\r\n    const els = [] as any[];\r\n\r\n    while (a && a.id !== 'editor') {\r\n      els.unshift(a);\r\n      a = a.parentNode;\r\n    }\r\n\r\n    if ($event && $event.type === 'keyup' && $event.key === ' ') {\r\n      this.textPatternCheck();\r\n    }\r\n\r\n    if (!['pre', 'div', 'default'].includes(this.editorToolbar.block)) {\r\n      this.deepRemoveAttribute('size', userSelection.focusNode);\r\n    }\r\n\r\n    this.runFontNameAndSizeCheck();\r\n    this.editorToolbar.triggerBlocks(els);\r\n  }\r\n\r\n  runFontNameAndSizeCheck() {\r\n    if (this.modeVisual) {\r\n      const currentSelection = this.editorService.getCurrentSelection();\r\n      const fontNameInEditor = this.currentFontNameInEditor();\r\n      const fontSizeInEditor = this.currentFontSizeInEditor();\r\n\r\n      if (\r\n        fontNameInEditor &&\r\n        this.editorService.currentFontName &&\r\n        currentSelection.collapsed\r\n      ) {\r\n        this.editorService.setFontName(this.editorService.currentFontName);\r\n      }\r\n\r\n      if (\r\n        !this.isCurrentSelectionHeader() &&\r\n        fontSizeInEditor &&\r\n        this.editorService.currentFontSize &&\r\n        fontSizeInEditor !== this.editorService.currentFontSize &&\r\n        fontSizeInEditor.replace(/\"/g, '') !==\r\n          this.editorService.currentFontSize &&\r\n        currentSelection.collapsed\r\n      ) {\r\n        this.editorService.setFontSize(this.editorService.currentFontSize);\r\n      }\r\n    }\r\n  }\r\n\r\n  private configure() {\r\n    this.editorService.uploadUrl = this.config.uploadUrl;\r\n    this.editorService.uploadWithCredentials =\r\n      this.config.uploadWithCredentials;\r\n    if (this.config.defaultParagraphSeparator) {\r\n      this.editorService.setDefaultParagraphSeparator(\r\n        this.config.defaultParagraphSeparator,\r\n      );\r\n    }\r\n  }\r\n\r\n  getFonts() {\r\n    const fonts = this.config.fonts\r\n      ? this.config.fonts\r\n      : angularEditorConfig.fonts;\r\n    return fonts?.map((x) => {\r\n      return { label: x.label || x.name, value: x.name };\r\n    });\r\n  }\r\n\r\n  getCustomTags() {\r\n    const tags = ['span'];\r\n    this.config.customClasses?.forEach((x) => {\r\n      if (x.tag !== undefined) {\r\n        if (!tags.includes(x.tag)) {\r\n          tags.push(x.tag);\r\n        }\r\n      }\r\n    });\r\n    return tags.join(',');\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.blurInstance) {\r\n      this.blurInstance();\r\n    }\r\n    if (this.focusInstance) {\r\n      this.focusInstance();\r\n    }\r\n  }\r\n\r\n  filterStyles(html: string): string {\r\n    html = html.replace('position: fixed;', '');\r\n    return html;\r\n  }\r\n\r\n  currentFontNameInEditor() {\r\n    let selectedText = this.doc.getSelection();\r\n\r\n    if (selectedText && selectedText.rangeCount > 0) {\r\n      let range = selectedText.getRangeAt(0);\r\n      let parentElement =\r\n        range.commonAncestorContainer.nodeType === 1\r\n          ? range.commonAncestorContainer\r\n          : range.commonAncestorContainer.parentNode;\r\n      if (!parentElement) {\r\n        return null;\r\n      }\r\n      let computedStyle = getComputedStyle(parentElement as Element);\r\n\r\n      const fontname = computedStyle.fontFamily;\r\n      return fontname;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  currentFontSizeInEditor() {\r\n    let selectedText = this.doc.getSelection();\r\n\r\n    if (selectedText.rangeCount > 0) {\r\n      let range = selectedText.getRangeAt(0);\r\n      let parentElement =\r\n        range.commonAncestorContainer.nodeType === 1\r\n          ? range.commonAncestorContainer\r\n          : range.commonAncestorContainer.parentNode;\r\n      let computedStyle = getComputedStyle(parentElement as Element);\r\n\r\n      return computedStyle.fontSize;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n","<div\r\n     class=\"angular-editor\"\r\n     #angularEditor\r\n     [style.width]=\"config.width\"\r\n     [style.minWidth]=\"config.minWidth\"\r\n>\r\n     <angular-editor-toolbar\r\n          *ngIf=\"config.toolbarPosition === 'top'\"\r\n          #editorToolbar\r\n          [id]=\"id\"\r\n          [uploadUrl]=\"config.uploadUrl\"\r\n          [upload]=\"config.upload\"\r\n          [showToolbar]=\"config.showToolbar !== undefined ? config.showToolbar : true\"\r\n          [fonts]=\"getFonts()\"\r\n          [customClasses]=\"config.customClasses\"\r\n          [defaultFontName]=\"config.defaultFontName\"\r\n          [defaultFontSize]=\"config.defaultFontSize\"\r\n          [hiddenButtons]=\"config.toolbarHiddenButtons\"\r\n          (execute)=\"executeCommand($event)\"\r\n     >\r\n       <ng-container\r\n         [ngTemplateOutlet]=\"customButtonsTemplateRef\"\r\n         [ngTemplateOutletContext]=\"{ executeCommandFn: this.executeCommandFn}\"\r\n       >\r\n       </ng-container>\r\n     </angular-editor-toolbar>\r\n\r\n     <div\r\n          class=\"angular-editor-wrapper\"\r\n          #editorWrapper\r\n     >\r\n          <div\r\n               #editor\r\n               class=\"angular-editor-textarea\"\r\n               [attr.contenteditable]=\"config.editable\"\r\n               [attr.tabindex]=\"disabled ? -1 : tabIndex\"\r\n               [attr.translate]=\"config.translate\"\r\n               [attr.spellcheck]=\"config.spellcheck\"\r\n               [style.height]=\"config.height\"\r\n               [style.minHeight]=\"config.minHeight\"\r\n               [style.maxHeight]=\"config.maxHeight\"\r\n               [style.backgroundColor]=\"config.textAreaBackgroundColor\"\r\n               [style.outline]=\"config.outline === false ? 'none': undefined\"\r\n               (input)=\"onContentChange($event?.target)\"\r\n               (focus)=\"onTextAreaFocus($event)\"\r\n               (blur)=\"onTextAreaBlur($event)\"\r\n               (click)=\"exec()\"\r\n               (keydown)=\"exec($event)\"\r\n               (keyup)=\"exec($event)\"\r\n               (mouseout)=\"onTextAreaMouseOut($event)\"\r\n               (paste)=\"onPaste($event)\"\r\n               (keydown.control.z)=\"ctrlZ($event)\"\r\n               (keydown.control.shift.z)=\"ctrlShiftZ($event)\"\r\n               (keyup.enter)=\"handleEnter($event)\"\r\n          >\r\n          </div>\r\n          <span class=\"angular-editor-placeholder\">{{ placeholder || config['placeholder'] }}</span>\r\n     </div>\r\n     <angular-editor-toolbar\r\n          *ngIf=\"config.toolbarPosition === 'bottom'\"\r\n          #editorToolbar\r\n          [id]=\"id\"\r\n          [uploadUrl]=\"config.uploadUrl\"\r\n          [upload]=\"config.upload\"\r\n          [showToolbar]=\"config.showToolbar !== undefined ? config.showToolbar : true\"\r\n          [fonts]=\"getFonts()\"\r\n          [customClasses]=\"config.customClasses\"\r\n          [defaultFontName]=\"config.defaultFontName\"\r\n          [defaultFontSize]=\"config.defaultFontSize\"\r\n          [hiddenButtons]=\"config.toolbarHiddenButtons\"\r\n          (execute)=\"executeCommand($event)\"\r\n     ></angular-editor-toolbar>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { AngularEditorComponent } from './angular-editor.component';\r\nimport { AngularEditorToolbarComponent } from './angular-editor-toolbar.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AeSelectComponent } from './ae-select/ae-select.component';\r\nimport { AeButtonComponent } from './ae-button/ae-button.component';\r\nimport { AeToolbarSetComponent } from './ae-toolbar-set/ae-toolbar-set.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule, ReactiveFormsModule],\r\n  declarations: [\r\n    AngularEditorComponent,\r\n    AngularEditorToolbarComponent,\r\n    AeSelectComponent,\r\n    AeButtonComponent,\r\n    AeToolbarSetComponent,\r\n  ],\r\n  exports: [\r\n    AngularEditorComponent,\r\n    AngularEditorToolbarComponent,\r\n    AeButtonComponent,\r\n    AeToolbarSetComponent,\r\n  ],\r\n})\r\nexport class AngularEditorModule {}\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { HttpClient, HttpEvent } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { CustomClass } from './config';\r\n\r\nexport interface UploadResponse {\r\n  imageUrl: string;\r\n}\r\n\r\n@Injectable()\r\nexport class AngularEditorService {\r\n  savedSelection: Range | null;\r\n  selectedText: string;\r\n  uploadUrl?: string;\r\n  uploadWithCredentials?: boolean;\r\n  currentFontName: string;\r\n  currentFontSize: string;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    // @ts-ignore\r\n    @Inject(DOCUMENT) private doc: Document,\r\n  ) {}\r\n\r\n  /**\r\n   * Executed command from editor header buttons exclude toggleEditorMode\r\n   * @param command string from triggerCommand\r\n   * @param value\r\n   */\r\n  executeCommand(command: string, value?: string) {\r\n    const commands = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p', 'pre'];\r\n    if (commands.includes(command)) {\r\n      this.doc.execCommand('formatBlock', false, command);\r\n      return;\r\n    }\r\n    this.doc.execCommand(command, false, value);\r\n  }\r\n\r\n  /**\r\n   * Create URL link\r\n   * @param url string from UI prompt\r\n   */\r\n  createLink(url: string) {\r\n    if (!url.includes('http')) {\r\n      this.doc.execCommand('createlink', false, url);\r\n    } else {\r\n      const newUrl =\r\n        '<a href=\"' + url + '\" target=\"_blank\">' + this.selectedText + '</a>';\r\n      this.insertHtml(newUrl);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * insert color either font or background\r\n   *\r\n   * @param color color to be inserted\r\n   * @param where where the color has to be inserted either text/background\r\n   */\r\n  insertColor(color: string, where: string): void {\r\n    const restored = this.restoreSelection();\r\n    if (restored) {\r\n      if (where === 'textColor') {\r\n        this.doc.execCommand('foreColor', false, color);\r\n      } else {\r\n        this.doc.execCommand('hiliteColor', false, color);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set font name\r\n   * @param fontName string\r\n   */\r\n  setFontName(fontName: string) {\r\n    this.doc.execCommand('fontName', false, fontName);\r\n    this.currentFontName = fontName;\r\n  }\r\n\r\n  /**\r\n   * Set font size\r\n   * @param fontSize string\r\n   */\r\n  setFontSize(fontSize: string) {\r\n    this.doc.execCommand('fontSize', false, fontSize);\r\n    this.currentFontSize = fontSize;\r\n  }\r\n\r\n  /**\r\n   * Create raw HTML\r\n   * @param html HTML string\r\n   */\r\n  insertHtml(html: string): void {\r\n    const isHTMLInserted = this.doc.execCommand('insertHTML', false, html);\r\n\r\n    if (!isHTMLInserted) {\r\n      throw new Error('Unable to perform the operation');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * save selection when the editor is focussed out\r\n   */\r\n  public saveSelection = (): void => {\r\n    const sel = this.doc.getSelection() as Selection;\r\n    if (sel) {\r\n      if (sel?.getRangeAt && sel?.rangeCount) {\r\n        this.savedSelection = sel.getRangeAt(0);\r\n        this.selectedText = sel.toString();\r\n      }\r\n    } else if (this.doc['getSelection'] && this.doc['createRange']) {\r\n      this.savedSelection = document.createRange();\r\n    } else {\r\n      this.savedSelection = null;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * restore selection when the editor is focused in\r\n   *\r\n   * saved selection when the editor is focused out\r\n   */\r\n  restoreSelection(): boolean | undefined {\r\n    if (this.savedSelection) {\r\n      if (this.doc.getSelection) {\r\n        const sel = this.doc.getSelection() as Selection;\r\n        sel.removeAllRanges();\r\n        sel.addRange(this.savedSelection);\r\n        return true;\r\n      } else if (this.doc['getSelection'] /*&& this.savedSelection.select*/) {\r\n        return true;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * setTimeout used for execute 'saveSelection' method in next event loop iteration\r\n   */\r\n  public executeInNextQueueIteration(\r\n    callbackFn: (...args: any[]) => any,\r\n    timeout = 1e2,\r\n  ): void {\r\n    setTimeout(callbackFn, timeout);\r\n  }\r\n\r\n  /**\r\n   * Upload file to uploadUrl\r\n   * @param file The file\r\n   */\r\n  uploadImage(file: File): Observable<HttpEvent<UploadResponse>> | undefined {\r\n    if (this.uploadUrl) {\r\n      const uploadData: FormData = new FormData();\r\n      uploadData.append('file', file, file.name);\r\n\r\n      return this.http.post<UploadResponse>(this.uploadUrl, uploadData, {\r\n        reportProgress: true,\r\n        observe: 'events',\r\n        withCredentials: this.uploadWithCredentials,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Insert image with Url\r\n   * @param imageUrl The imageUrl.\r\n   */\r\n  insertImage(imageUrl: string) {\r\n    this.doc.execCommand('insertHTML', false, `<img src=\"${imageUrl}\"/>`);\r\n  }\r\n\r\n  setDefaultParagraphSeparator(separator: string) {\r\n    this.doc.execCommand('defaultParagraphSeparator', false, separator);\r\n  }\r\n\r\n  createCustomClass(customClass: CustomClass) {\r\n    let newTag = this.selectedText;\r\n    if (customClass) {\r\n      const tagName = customClass.tag ? customClass.tag : 'div';\r\n      if (!this.selectedText) this.selectedText = '&nbsp;';\r\n      newTag +=\r\n        '<' +\r\n        tagName +\r\n        ' class=\"' +\r\n        customClass.class +\r\n        '\">' +\r\n        this.selectedText +\r\n        '</' +\r\n        tagName +\r\n        '>';\r\n    }\r\n    this.insertHtml(newTag);\r\n  }\r\n\r\n  insertVideo(videoUrl: string) {\r\n    if (videoUrl.match('www.youtube.com')) {\r\n      this.insertYouTubeVideoTag(videoUrl);\r\n    }\r\n    if (videoUrl.match('vimeo.com')) {\r\n      this.insertVimeoVideoTag(videoUrl);\r\n    }\r\n  }\r\n\r\n  private insertYouTubeVideoTag(videoUrl: string): void {\r\n    const id = videoUrl.split('v=')[1];\r\n    const imageUrl = `https://img.youtube.com/vi/${id}/0.jpg`;\r\n    const thumbnail = `\r\n      <div style='position: relative'>\r\n        <a href='${videoUrl}' target='_blank'>\r\n          <img src=\"${imageUrl}\" alt=\"click to watch\"/>\r\n          <img style='position: absolute; left:200px; top:140px'\r\n          src=\"https://img.icons8.com/color/96/000000/youtube-play.png\"/>\r\n        </a>\r\n      </div>`;\r\n    this.insertHtml(thumbnail);\r\n  }\r\n\r\n  private insertVimeoVideoTag(videoUrl: string): void {\r\n    const sub = this.http\r\n      .get<any>(`https://vimeo.com/api/oembed.json?url=${videoUrl}`)\r\n      .subscribe((data) => {\r\n        const imageUrl = data.thumbnail_url_with_play_button;\r\n        const thumbnail = `<div>\r\n        <a href='${videoUrl}' target='_blank'>\r\n          <img src=\"${imageUrl}\" alt=\"${data.title}\"/>\r\n        </a>\r\n      </div>`;\r\n        this.insertHtml(thumbnail);\r\n        sub.unsubscribe();\r\n      });\r\n  }\r\n\r\n  nextNode(node: any) {\r\n    if (node.hasChildNodes()) {\r\n      return node.firstChild;\r\n    } else {\r\n      while (node && !node.nextSibling) {\r\n        node = node.parentNode;\r\n      }\r\n      if (!node) {\r\n        return null;\r\n      }\r\n      return node.nextSibling;\r\n    }\r\n  }\r\n\r\n  getRangeSelectedNodes(range, includePartiallySelectedContainers) {\r\n    let node = range.startContainer;\r\n    const endNode = range.endContainer;\r\n    let rangeNodes = [] as any[];\r\n\r\n    // Special case for a range that is contained within a single node\r\n    if (node === endNode) {\r\n      rangeNodes = [node];\r\n    } else {\r\n      // Iterate nodes until we hit the end container\r\n      while (node && node !== endNode) {\r\n        rangeNodes.push((node = this.nextNode(node)));\r\n      }\r\n\r\n      // Add partially selected nodes at the start of the range\r\n      node = range.startContainer;\r\n      while (node && node !== range.commonAncestorContainer) {\r\n        rangeNodes.unshift(node);\r\n        node = node.parentNode;\r\n      }\r\n    }\r\n\r\n    // Add ancestors of the range container, if required\r\n    if (includePartiallySelectedContainers) {\r\n      node = range.commonAncestorContainer;\r\n      while (node) {\r\n        rangeNodes.push(node);\r\n        node = node.parentNode;\r\n      }\r\n    }\r\n\r\n    return rangeNodes;\r\n  }\r\n\r\n  getSelectedNodes() {\r\n    const nodes = [] as any[];\r\n    if (this.doc.getSelection) {\r\n      const sel = this.doc.getSelection() as Selection;\r\n      for (let i = 0, len = sel.rangeCount; i < len; ++i) {\r\n        nodes.push.apply(\r\n          nodes,\r\n          this.getRangeSelectedNodes(sel.getRangeAt(i), true),\r\n        );\r\n      }\r\n    }\r\n    return nodes;\r\n  }\r\n\r\n  replaceWithOwnChildren(el) {\r\n    const parent = el.parentNode;\r\n    while (el.hasChildNodes()) {\r\n      parent.insertBefore(el.firstChild, el);\r\n    }\r\n    parent.removeChild(el);\r\n  }\r\n\r\n  removeSelectedElements(tagNames) {\r\n    const tagNamesArray = tagNames.toLowerCase().split(',');\r\n    this.getSelectedNodes().forEach((node) => {\r\n      if (\r\n        node.nodeType === 1 &&\r\n        tagNamesArray.indexOf(node.tagName.toLowerCase()) > -1\r\n      ) {\r\n        this.replaceWithOwnChildren(node);\r\n      }\r\n    });\r\n  }\r\n\r\n  getInnerTextFromNode(node: HTMLElement): string | null {\r\n    if (!node) return null;\r\n    if (node.innerText) {\r\n      return node.innerText;\r\n    }\r\n    const text = [];\r\n    for (let child of Array.from(node.childNodes)) {\r\n      text.push(child.textContent);\r\n    }\r\n    return text.join('');\r\n  }\r\n\r\n  getInnerHTMLFromNode(node: HTMLElement): string | null {\r\n    if (!node) return null;\r\n    if (node.innerHTML) {\r\n      return node.innerHTML;\r\n    }\r\n    let combinedInnerHTML = '';\r\n    for (let i = 0; i < node.childNodes.length; i++) {\r\n      const childNode = node.childNodes[i] as HTMLElement;\r\n      if (childNode.nodeType === 1) {\r\n        combinedInnerHTML += childNode.innerHTML;\r\n      }\r\n    }\r\n    return combinedInnerHTML;\r\n  }\r\n\r\n  getFirstParentWithProperty(node: any, className: string) {\r\n    if (!node) return null;\r\n    if (node.classList?.contains(className)) {\r\n      return node;\r\n    }\r\n    return this.getFirstParentWithProperty(node.parentNode, className);\r\n  }\r\n\r\n  getCurrentSelection() {\r\n    const selection = this.doc.getSelection();\r\n    if (selection && selection.rangeCount > 0) {\r\n      return selection.getRangeAt(0);\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","import { UploadResponse } from './angular-editor.service';\r\nimport { HttpEvent } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport interface CustomClass {\r\n  name: string;\r\n  class: string;\r\n  tag?: string;\r\n}\r\n\r\nexport interface Font {\r\n  name: string;\r\n  class: string;\r\n  label?: string;\r\n}\r\n\r\nexport interface AngularEditorConfig {\r\n  editable?: boolean;\r\n  spellcheck?: boolean;\r\n  height?: 'auto' | string;\r\n  minHeight?: '0' | string;\r\n  maxHeight?: 'auto' | string;\r\n  /**\r\n   * @description background-color property of the editor textarea element\r\n   * @default 'white'\r\n   */\r\n  textAreaBackgroundColor?: string;\r\n  width?: 'auto' | string;\r\n  minWidth?: '0' | string;\r\n  translate?: 'yes' | 'now' | string;\r\n  enableToolbar?: boolean;\r\n  showToolbar?: boolean;\r\n  placeholder?: string;\r\n  defaultParagraphSeparator?: string;\r\n  defaultFontName?: string;\r\n  defaultFontSize?: '1' | '2' | '3' | '4' | '5' | '6' | '7' | string;\r\n  uploadUrl?: string;\r\n  upload?: (file: File) => Observable<HttpEvent<UploadResponse>>;\r\n  uploadWithCredentials?: boolean;\r\n  fonts?: Font[];\r\n  customClasses?: CustomClass[];\r\n  sanitize?: boolean;\r\n  toolbarPosition?: 'top' | 'bottom';\r\n  /**\r\n   * @description show outline on textarea when on focus\r\n   * @default true\r\n   */\r\n  outline?: boolean;\r\n  toolbarHiddenButtons?: string[][];\r\n  rawPaste?: boolean;\r\n  editHistoryLimit?: number;\r\n  /**\r\n   *  @description Number indicating how fast mouse drag will cause image to resize\r\n   *  @default 2\r\n   */\r\n  imageResizeSensitivity?: number;\r\n  /**\r\n   * @description Enable or disable text patter checks example '> ' and '* '\r\n   * @default true\r\n   */\r\n  textPatternsEnabled?: boolean;\r\n}\r\n\r\nexport const angularEditorConfig: AngularEditorConfig = {\r\n  editable: true,\r\n  spellcheck: true,\r\n  height: 'auto',\r\n  minHeight: '0',\r\n  maxHeight: 'auto',\r\n  textAreaBackgroundColor: 'white',\r\n  width: 'auto',\r\n  minWidth: '0',\r\n  translate: 'yes',\r\n  enableToolbar: true,\r\n  showToolbar: true,\r\n  placeholder: 'Enter text here...',\r\n  defaultParagraphSeparator: '',\r\n  defaultFontName: 'Arial',\r\n  defaultFontSize: '5',\r\n  fonts: [\r\n    { class: 'arial', name: 'Arial' },\r\n    { class: 'times-new-roman', name: 'Times New Roman' },\r\n    { class: 'calibri', name: 'Calibri' },\r\n    { class: 'comic-sans-ms', name: 'Comic Sans MS' },\r\n    { class: 'verdana', name: 'Verdana' },\r\n    { class: 'roboto-regular', name: 'Roboto' },\r\n  ],\r\n  // uploadUrl: 'v1/image',\r\n  uploadWithCredentials: false,\r\n  sanitize: true,\r\n  toolbarPosition: 'top',\r\n  outline: true,\r\n  /*toolbarHiddenButtons: [\r\n    ['bold', 'italic', 'underline', 'strikeThrough', 'superscript', 'subscript'],\r\n    ['heading', 'fontName', 'fontSize', 'color'],\r\n    ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull', 'indent', 'outdent'],\r\n    ['cut', 'copy', 'delete', 'removeFormat', 'undo', 'redo'],\r\n    ['paragraph', 'blockquote', 'removeBlockquote', 'horizontalLine', 'orderedList', 'unorderedList'],\r\n    ['link', 'unlink', 'image', 'video']\r\n  ]*/\r\n  editHistoryLimit: 50,\r\n  imageResizeSensitivity: 2,\r\n  textPatternsEnabled: true,\r\n};\r\n","export function isDefined(value: any) {\r\n  return value !== undefined && value !== null;\r\n}\r\n"],"sourceRoot":"webpack:///"}