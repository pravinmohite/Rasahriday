{"version":3,"sources":["webpack:///node_modules/ngx-pagination/__ivy_ngcc__/dist/ngx-pagination.js","webpack:///src/app/blogs/add-blogs/add-blogs.component.ts","webpack:///src/app/blogs/add-blogs/add-blogs.component.html","webpack:///src/app/blogs/blog-details/blog-details.component.ts","webpack:///src/app/blogs/blog-details/blog-details.component.html","webpack:///src/app/blogs/blogs-by-category/blogs-by-category.component.ts","webpack:///src/app/blogs/blogs-by-category/blogs-by-category.component.html","webpack:///src/app/blogs/blogs-routing.module.ts","webpack:///src/app/blogs/blogs.component.ts","webpack:///src/app/blogs/blogs.component.html","webpack:///src/app/blogs/blogs.module.ts","webpack:///src/app/services/blog/blog.service.ts","webpack:///src/lib/ae-button/ae-button.component.ts","webpack:///src/lib/ae-button/ae-button.component.html","webpack:///src/lib/ae-select/ae-select.component.ts","webpack:///src/lib/ae-select/ae-select.component.html","webpack:///src/lib/ae-toolbar-set/ae-toolbar-set.component.ts","webpack:///src/lib/ae-toolbar-set/ae-toolbar-set.component.html","webpack:///src/lib/angular-editor-toolbar.component.ts","webpack:///src/lib/angular-editor-toolbar.component.html","webpack:///src/lib/angular-editor.component.ts","webpack:///src/lib/angular-editor.component.html","webpack:///src/lib/angular-editor.module.ts","webpack:///src/lib/angular-editor.service.ts","webpack:///src/lib/config.ts","webpack:///src/lib/utils.ts"],"names":["PaginationControlsComponent_ul_2_li_1_a_1_Template","rf","ctx","_r8","PaginationControlsComponent_ul_2_li_1_a_1_Template_a_keyup_enter_0_listener","_r0","previous","PaginationControlsComponent_ul_2_li_1_a_1_Template_a_click_0_listener","ctx_r5","previousLabel","screenReaderPageLabel","PaginationControlsComponent_ul_2_li_1_span_2_Template","ctx_r6","PaginationControlsComponent_ul_2_li_1_Template","isFirstPage","getCurrent","PaginationControlsComponent_ul_2_li_4_a_1_Template","_r15","PaginationControlsComponent_ul_2_li_4_a_1_Template_a_keyup_enter_0_listener","page_r10","$implicit","setCurrent","value","PaginationControlsComponent_ul_2_li_4_a_1_Template_a_click_0_listener","ctx_r11","label","PaginationControlsComponent_ul_2_li_4_ng_container_2_Template","ctx_r12","screenReaderCurrentLabel","PaginationControlsComponent_ul_2_li_4_Template","PaginationControlsComponent_ul_2_li_5_a_1_Template","_r23","PaginationControlsComponent_ul_2_li_5_a_1_Template_a_keyup_enter_0_listener","next","PaginationControlsComponent_ul_2_li_5_a_1_Template_a_click_0_listener","ctx_r20","nextLabel","PaginationControlsComponent_ul_2_li_5_span_2_Template","ctx_r21","PaginationControlsComponent_ul_2_li_5_Template","isLastPage","PaginationControlsComponent_ul_2_Template","ctx_r1","responsive","screenReaderPaginationLabel","directionLinks","getLastPage","pages","trackByIndex","PaginationService","change","instances","DEFAULT_ID","prototype","defaultId","register","instance","id","updateInstance","changed","prop","getCurrentPage","currentPage","setCurrentPage","page","maxPage","Math","ceil","totalItems","itemsPerPage","emit","setTotalItems","setItemsPerPage","getInstance","clone","obj","target","i","hasOwnProperty","ɵfac","PaginationService_Factory","t","ɵprov","token","factory","__decorate$1","undefined","__decorate","decorators","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","defineProperty","__metadata","k","v","metadata","LARGE_NUMBER","Number","MAX_SAFE_INTEGER","PaginatePipe","service","state","transform","collection","args","Array","_id","slice","serverSideMode","createInstance","start","end","perPage","emitChange","isIdentical","stateIsIdentical","saveState","config","checkConfig","required","missing","filter","Error","join","size","isMetaDataIdentical","every","element","index","PaginatePipe_Factory","ɵpipe","name","type","pure","DEFAULT_TEMPLATE","DEFAULT_STYLES","__decorate$2","__metadata$1","coerceToBoolean","input","PaginationControlsComponent","maxSize","pageChange","pageBoundsCorrection","_directionLinks","_autoHide","_responsive","get","set","enumerable","configurable","String","Boolean","PaginationControlsComponent_Factory","ɵcmp","selectors","inputs","autoHide","outputs","decls","vars","consts","template","PaginationControlsComponent_Template","PaginationControlsComponent_Template_pagination_template_pageChange_0_listener","$event","PaginationControlsComponent_Template_pagination_template_pageBoundsCorrection_0_listener","directives","PaginationControlsDirective","pipes","styles","encapsulation","changeDetection","selector","OnPush","None","__decorate$3","__metadata$2","changeDetectorRef","_this","changeSub","subscribe","updatePageLinks","markForCheck","detectChanges","ngOnInit","ngOnChanges","changes","ngOnDestroy","unsubscribe","checkValidId","inst","getTotalItems","console","warn","correctedCurrentPage","outOfBoundCorrection","setTimeout","createPageArray","totalPages","paginationRange","max","halfWay","isStart","isEnd","isMiddle","ellipsesNeeded","pageNumber","calculatePageNumber","openingEllipsesNeeded","closingEllipsesNeeded","push","PaginationControlsDirective_Factory","ɵdir","exportAs","features","NgxPaginationModule","ɵmod","ɵinj","NgxPaginationModule_Factory","providers","imports","ngJitMode","declarations","exports","AddBlogsComponent","loaderService","notifierService","commonService","blogService","route","router","config1","editable","spellcheck","minHeight","maxHeight","placeholder","translate","sanitize","outline","defaultParagraphSeparator","customClasses","tag","toolbarHiddenButtons","editHistoryLimit","imageResizeSensitivity","editMode","urls","createForm","paramMap","params","blogId","getBlogDetail","blog","setValuesToBeEdited","blogForm","title","content","category","aboutAuthor","author","editedItem","setValue","display","valid","update","add","data","updateBlogs","updatedData","notify","handleCategoryChangeEvent","error","addBlogs","newData","navigate","event","submit","templateUrl","styleUrls","BlogDetailsComponent","blogSlug","BlogsByCategoryComponent","safeResourceUrl","formBuilder","productImages","currentlyUploadedImageSrc","htmlContent1","defaultFontName","defaultFontSize","preventDefault","dataTransfer","setData","currentTarget","getData","dropzone","appendChild","document","getElementById","e","files","reader","FileReader","readAsDataURL","onload","events","result","file","imgSrc","URL","createObjectURL","setCurrentlyUploadedImgArr","checkForImage","editor","images","getElementsByTagName","imageArray","from","image","classList","makeResizable","addEventListener","initialWidth","clientWidth","initialHeight","clientHeight","startX","clientX","startY","clientY","resize","width","height","style","stopResize","window","removeEventListener","onChange","onBlur","allowDrop","drop","drag","getFiles","routes","path","component","BlogsRoutingModule","forChild","BlogsComponent","p","status","isAdmin","categorySelectedObj","isAllCategorySelected","editIconTag","isCategoryOpen","isMobile","sideBarCloseStatus","deleteIconTag","isAllCategoryActive","activeIndex","refreshCategory","getBlogs","setPrivileges","userDetails","getBlogsList","blogs","refreshProductAndSetCategoriesGlobally","refreshProduct","setCategoriesGlobally","confirmAction","alert","deleteBlogs","BlogsModule","BlogService","http","confirmationText","finalBlogsUrl","pipe","response","map","item","div","createElement","innerHTML","firstImage","getAttribute","post","patch","providedIn","AeButtonComponent","iconClass","buttonClick","AeSelectComponent","elRef","options","disabled","optionId","opened","hidden","changeEvent","onTouched","selectedOption","isHidden","hide","option","stopPropagation","nativeElement","contains","close","selectedEl","find","el","fn","isDisabled","labelButton","action","_handleArrowDown","_handleArrowUp","_handleSpace","_handleEnter","_handleTab","_handleBackspace","optionSelect","provide","useExisting","multi","toggleOpen","AeToolbarSetComponent","AngularEditorToolbarComponent","editorService","er","doc","htmlMode","linkSelected","block","headings","fontSizes","customClassId","customClassList","tagMap","BLOCKQUOTE","A","select","buttons","fonts","execute","classes","_customClasses","x","toString","unshift","fontName","fontSize","selectedText","command","showToolbar","forEach","queryCommandState","elementById","addClass","removeClass","nodes","findIndex","nodeName","found","y","node","toLowerCase","Element","className","keys","foreColour","queryCommandValue","replace","backColor","url","selection","savedSelection","commonAncestorContainer","parentElement","parent","href","prompt","createLink","insertVideo","color","where","insertColor","foreColor","setFontName","setFontSize","m","toggleEditorModeButton","includes","upload","watchUploadImage","uploadUrl","uploadImage","fr","insertImage","body","imageUrl","srcElement","classId","createCustomClass","hiddenButtons","arr","AngularEditorComponent","sanitizer","cdRef","defaultTabIndex","autoFocus","modeVisual","showPlaceholder","focused","touched","mouseMoveEvtListener","currentSelectedImage","editSubject","editHistory","currentHistoryIndex","executeCommandFn","executeCommand","bind","viewMode","blurEvent","focusEvent","tabindex","resizeImage","currentSelected","renderer2","resizeSensitivity","currX","dx","ePos","nextWidth","setAttribute","parsedTabIndex","tabIndex","leading","trailing","html","addHistory","focus","unselectImage","tagName","addResizeWrapper","selectImage","onContentChange","textArea","runFontNameAndSizeCheck","toolbarPosition","textPatternsEnabled","currentFontName","currentFontSize","toStart","getSelection","removeAllRanges","range","createRange","parentNode","selectNode","collapse","addRange","setStyle","wrapper","insertBefore","removeChild","listen","wrappers","getElementsByClassName","replaceWithOwnChildren","removeResizeWrapper","rawPaste","text","clipboardData","execCommand","editableElement","oContent","createText","setProperty","oPre","oCode","focusInstance","onTextAreaFocus","blurInstance","onTextAreaBlur","setContentAsCode","sel","focusNode","quoteParent","getFirstParentWithProperty","previousSibling","previousSiblingInnerText","getInnerTextFromNode","trim","quoteParentInnerText","toggleEditorMode","removeSelectedElements","getCustomTags","exec","executeInNextQueueIteration","configure","saveSelection","relatedTarget","tagNames","hasParentTag","editorToolbar","rangeCount","edRange","getRangeAt","edNode","isHeader","attr","removeAttribute","sourceText","shift","addChangeToHistory","innerText","HTML","togglePlaceholder","refreshView","normalizedValue","editorWrapper","bToSource","selectNodeContents","firstChild","setEditorMode","txtData","anchorNode","textContent","textPatternsMap","offsets","patternDetected","anchorOffset","deleteContents","justifyRightOrCenterEnabled","previousSiblingTxtData","triggerButtons","userSelection","a","els","textPatternCheck","deepRemoveAttribute","triggerBlocks","currentSelection","getCurrentSelection","fontNameInEditor","currentFontNameInEditor","fontSizeInEditor","currentFontSizeInEditor","collapsed","isCurrentSelectionHeader","uploadWithCredentials","setDefaultParagraphSeparator","tags","nodeType","computedStyle","getComputedStyle","fontname","fontFamily","onTextAreaMouseOut","onPaste","ctrlZ","ctrlShiftZ","handleEnter","Document","AngularEditorModule","AngularEditorService","commands","newUrl","insertHtml","restored","restoreSelection","isHTMLInserted","callbackFn","timeout","uploadData","FormData","append","reportProgress","observe","withCredentials","separator","customClass","newTag","videoUrl","match","insertYouTubeVideoTag","insertVimeoVideoTag","split","thumbnail","sub","thumbnail_url_with_play_button","hasChildNodes","nextSibling","includePartiallySelectedContainers","startContainer","endNode","endContainer","rangeNodes","nextNode","len","apply","getRangeSelectedNodes","tagNamesArray","getSelectedNodes","indexOf","childNodes","child","combinedInnerHTML","childNode","angularEditorConfig","textAreaBackgroundColor","minWidth","enableToolbar","isDefined"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,aAASA,kDAAT,CAA4DC,EAA5D,EAAgEC,GAAhE,EAAqE;AAAE,UAAID,EAAE,GAAG,CAAT,EAAY;AAC/E,YAAIE,GAAG,GAAG,gEAAV;;AACA,qEAAsB,CAAtB,EAAyB,GAAzB,EAA8B,EAA9B;;AACA,iEAAkB,aAAlB,EAAiC,SAASC,2EAAT,GAAuF;AAAE,sEAAqBD,GAArB;;AAA2B,sEAAqB,CAArB;;AAAyB,cAAIE,GAAG,GAAG,0DAAmB,CAAnB,CAAV;;AAAiC,iBAAOA,GAAG,CAACC,QAAJ,EAAP;AAAwB,SAAvO,EAAyO,OAAzO,EAAkP,SAASC,qEAAT,GAAiF;AAAE,sEAAqBJ,GAArB;;AAA2B,sEAAqB,CAArB;;AAAyB,cAAIE,GAAG,GAAG,0DAAmB,CAAnB,CAAV;;AAAiC,iBAAOA,GAAG,CAACC,QAAJ,EAAP;AAAwB,SAAlb;;AACA,6DAAc,CAAd;;AACA,qEAAsB,CAAtB,EAAyB,MAAzB,EAAiC,EAAjC;;AACA,6DAAc,CAAd;;AACA;;AACA;AACH;;AAAC,UAAIL,EAAE,GAAG,CAAT,EAAY;AACV,YAAIO,MAAM,GAAG,4DAAqB,CAArB,CAAb;;AACA,kEAAmB,YAAnB,EAAiCA,MAAM,CAACC,aAAP,GAAuB,GAAvB,GAA6BD,MAAM,CAACE,qBAArE;;AACA,gEAAiB,CAAjB;;AACA,yEAA0B,GAA1B,EAA+BF,MAAM,CAACC,aAAtC,EAAqD,GAArD;;AACA,gEAAiB,CAAjB;;AACA,wEAAyBD,MAAM,CAACE,qBAAhC;AACH;AAAE;;AACH,aAASC,qDAAT,CAA+DV,EAA/D,EAAmEC,GAAnE,EAAwE;AAAE,UAAID,EAAE,GAAG,CAAT,EAAY;AAClF,qEAAsB,CAAtB,EAAyB,MAAzB;;AACA,6DAAc,CAAd;;AACA,qEAAsB,CAAtB,EAAyB,MAAzB,EAAiC,EAAjC;;AACA,6DAAc,CAAd;;AACA;;AACA;AACH;;AAAC,UAAIA,EAAE,GAAG,CAAT,EAAY;AACV,YAAIW,MAAM,GAAG,4DAAqB,CAArB,CAAb;;AACA,gEAAiB,CAAjB;;AACA,yEAA0B,GAA1B,EAA+BA,MAAM,CAACH,aAAtC,EAAqD,GAArD;;AACA,gEAAiB,CAAjB;;AACA,wEAAyBG,MAAM,CAACF,qBAAhC;AACH;AAAE;;AACH,aAASG,8CAAT,CAAwDZ,EAAxD,EAA4DC,GAA5D,EAAiE;AAAE,UAAID,EAAE,GAAG,CAAT,EAAY;AAC3E,qEAAsB,CAAtB,EAAyB,IAAzB,EAA+B,CAA/B;;AACA,iEAAkB,CAAlB,EAAqBD,kDAArB,EAAyE,CAAzE,EAA4E,CAA5E,EAA+E,GAA/E,EAAoF,CAApF;;AACA,iEAAkB,CAAlB,EAAqBW,qDAArB,EAA4E,CAA5E,EAA+E,CAA/E,EAAkF,MAAlF,EAA0F,EAA1F;;AACA;AACH;;AAAC,UAAIV,EAAE,GAAG,CAAT,EAAY;AACV,oEAAqB,CAArB;;AACA,YAAII,GAAG,GAAG,0DAAmB,CAAnB,CAAV;;AACA,kEAAmB,UAAnB,EAA+BA,GAAG,CAACS,WAAJ,EAA/B;;AACA,gEAAiB,CAAjB;;AACA,iEAAkB,MAAlB,EAA0B,IAAIT,GAAG,CAACU,UAAJ,EAA9B;;AACA,gEAAiB,CAAjB;;AACA,iEAAkB,MAAlB,EAA0BV,GAAG,CAACS,WAAJ,EAA1B;AACH;AAAE;;AACH,aAASE,kDAAT,CAA4Df,EAA5D,EAAgEC,GAAhE,EAAqE;AAAE,UAAID,EAAE,GAAG,CAAT,EAAY;AAC/E,YAAIgB,IAAI,GAAG,gEAAX;;AACA,qEAAsB,CAAtB,EAAyB,GAAzB,EAA8B,EAA9B;;AACA,iEAAkB,aAAlB,EAAiC,SAASC,2EAAT,GAAuF;AAAE,sEAAqBD,IAArB;;AAA4B,cAAIE,QAAQ,GAAG,8DAAuBC,SAAtC;;AAAiD,sEAAqB,CAArB;;AAAyB,cAAIf,GAAG,GAAG,0DAAmB,CAAnB,CAAV;;AAAiC,iBAAOA,GAAG,CAACgB,UAAJ,CAAeF,QAAQ,CAACG,KAAxB,CAAP;AAAwC,SAAzS,EAA2S,OAA3S,EAAoT,SAASC,qEAAT,GAAiF;AAAE,sEAAqBN,IAArB;;AAA4B,cAAIE,QAAQ,GAAG,8DAAuBC,SAAtC;;AAAiD,sEAAqB,CAArB;;AAAyB,cAAIf,GAAG,GAAG,0DAAmB,CAAnB,CAAV;;AAAiC,iBAAOA,GAAG,CAACgB,UAAJ,CAAeF,QAAQ,CAACG,KAAxB,CAAP;AAAwC,SAAtjB;;AACA,qEAAsB,CAAtB,EAAyB,MAAzB,EAAiC,EAAjC;;AACA,6DAAc,CAAd;;AACA;;AACA,qEAAsB,CAAtB,EAAyB,MAAzB;;AACA,6DAAc,CAAd;;AACA,6DAAc,CAAd,EAAiB,QAAjB;;AACA;;AACA;AACH;;AAAC,UAAIrB,EAAE,GAAG,CAAT,EAAY;AACV,YAAIkB,QAAQ,GAAG,8DAAuBC,SAAtC;;AACA,YAAII,OAAO,GAAG,4DAAqB,CAArB,CAAd;;AACA,gEAAiB,CAAjB;;AACA,yEAA0B,EAA1B,EAA8BA,OAAO,CAACd,qBAAtC,EAA6D,GAA7D;;AACA,gEAAiB,CAAjB;;AACA,wEAAyBS,QAAQ,CAACM,KAAT,KAAmB,KAAnB,GAA2BN,QAAQ,CAACM,KAApC,GAA4C,0DAAmB,CAAnB,EAAsB,CAAtB,EAAyBN,QAAQ,CAACM,KAAlC,EAAyC,EAAzC,CAArE;AACH;AAAE;;AACH,aAASC,6DAAT,CAAuEzB,EAAvE,EAA2EC,GAA3E,EAAgF;AAAE,UAAID,EAAE,GAAG,CAAT,EAAY;AAC1F,8EAA+B,CAA/B;;AACA,qEAAsB,CAAtB,EAAyB,MAAzB,EAAiC,EAAjC;;AACA,6DAAc,CAAd;;AACA;;AACA,qEAAsB,CAAtB,EAAyB,MAAzB;;AACA,6DAAc,CAAd;;AACA,6DAAc,CAAd,EAAiB,QAAjB;;AACA;;AACA;AACH;;AAAC,UAAIA,EAAE,GAAG,CAAT,EAAY;AACV,YAAIkB,QAAQ,GAAG,8DAAuBC,SAAtC;;AACA,YAAIO,OAAO,GAAG,4DAAqB,CAArB,CAAd;;AACA,gEAAiB,CAAjB;;AACA,yEAA0B,EAA1B,EAA8BA,OAAO,CAACC,wBAAtC,EAAgE,GAAhE;;AACA,gEAAiB,CAAjB;;AACA,wEAAyBT,QAAQ,CAACM,KAAT,KAAmB,KAAnB,GAA2BN,QAAQ,CAACM,KAApC,GAA4C,0DAAmB,CAAnB,EAAsB,CAAtB,EAAyBN,QAAQ,CAACM,KAAlC,EAAyC,EAAzC,CAArE;AACH;AAAE;;AACH,aAASI,8CAAT,CAAwD5B,EAAxD,EAA4DC,GAA5D,EAAiE;AAAE,UAAID,EAAE,GAAG,CAAT,EAAY;AAC3E,qEAAsB,CAAtB,EAAyB,IAAzB;;AACA,iEAAkB,CAAlB,EAAqBe,kDAArB,EAAyE,CAAzE,EAA4E,CAA5E,EAA+E,GAA/E,EAAoF,CAApF;;AACA,iEAAkB,CAAlB,EAAqBU,6DAArB,EAAoF,CAApF,EAAuF,CAAvF,EAA0F,cAA1F,EAA0G,EAA1G;;AACA;AACH;;AAAC,UAAIzB,EAAE,GAAG,CAAT,EAAY;AACV,YAAIkB,QAAQ,GAAGjB,GAAG,CAACkB,SAAnB;;AACA,oEAAqB,CAArB;;AACA,YAAIf,GAAG,GAAG,0DAAmB,CAAnB,CAAV;;AACA,kEAAmB,SAAnB,EAA8BA,GAAG,CAACU,UAAJ,OAAqBI,QAAQ,CAACG,KAA5D,EAAmE,UAAnE,EAA+EH,QAAQ,CAACM,KAAT,KAAmB,KAAlG;;AACA,gEAAiB,CAAjB;;AACA,iEAAkB,MAAlB,EAA0BpB,GAAG,CAACU,UAAJ,OAAqBI,QAAQ,CAACG,KAAxD;;AACA,gEAAiB,CAAjB;;AACA,iEAAkB,MAAlB,EAA0BjB,GAAG,CAACU,UAAJ,OAAqBI,QAAQ,CAACG,KAAxD;AACH;AAAE;;AACH,aAASQ,kDAAT,CAA4D7B,EAA5D,EAAgEC,GAAhE,EAAqE;AAAE,UAAID,EAAE,GAAG,CAAT,EAAY;AAC/E,YAAI8B,IAAI,GAAG,gEAAX;;AACA,qEAAsB,CAAtB,EAAyB,GAAzB,EAA8B,EAA9B;;AACA,iEAAkB,aAAlB,EAAiC,SAASC,2EAAT,GAAuF;AAAE,sEAAqBD,IAArB;;AAA4B,sEAAqB,CAArB;;AAAyB,cAAI1B,GAAG,GAAG,0DAAmB,CAAnB,CAAV;;AAAiC,iBAAOA,GAAG,CAAC4B,IAAJ,EAAP;AAAoB,SAApO,EAAsO,OAAtO,EAA+O,SAASC,qEAAT,GAAiF;AAAE,sEAAqBH,IAArB;;AAA4B,sEAAqB,CAArB;;AAAyB,cAAI1B,GAAG,GAAG,0DAAmB,CAAnB,CAAV;;AAAiC,iBAAOA,GAAG,CAAC4B,IAAJ,EAAP;AAAoB,SAA5a;;AACA,6DAAc,CAAd;;AACA,qEAAsB,CAAtB,EAAyB,MAAzB,EAAiC,EAAjC;;AACA,6DAAc,CAAd;;AACA;;AACA;AACH;;AAAC,UAAIhC,EAAE,GAAG,CAAT,EAAY;AACV,YAAIkC,OAAO,GAAG,4DAAqB,CAArB,CAAd;;AACA,kEAAmB,YAAnB,EAAiCA,OAAO,CAACC,SAAR,GAAoB,GAApB,GAA0BD,OAAO,CAACzB,qBAAnE;;AACA,gEAAiB,CAAjB;;AACA,yEAA0B,GAA1B,EAA+ByB,OAAO,CAACC,SAAvC,EAAkD,GAAlD;;AACA,gEAAiB,CAAjB;;AACA,wEAAyBD,OAAO,CAACzB,qBAAjC;AACH;AAAE;;AACH,aAAS2B,qDAAT,CAA+DpC,EAA/D,EAAmEC,GAAnE,EAAwE;AAAE,UAAID,EAAE,GAAG,CAAT,EAAY;AAClF,qEAAsB,CAAtB,EAAyB,MAAzB;;AACA,6DAAc,CAAd;;AACA,qEAAsB,CAAtB,EAAyB,MAAzB,EAAiC,EAAjC;;AACA,6DAAc,CAAd;;AACA;;AACA;AACH;;AAAC,UAAIA,EAAE,GAAG,CAAT,EAAY;AACV,YAAIqC,OAAO,GAAG,4DAAqB,CAArB,CAAd;;AACA,gEAAiB,CAAjB;;AACA,yEAA0B,GAA1B,EAA+BA,OAAO,CAACF,SAAvC,EAAkD,GAAlD;;AACA,gEAAiB,CAAjB;;AACA,wEAAyBE,OAAO,CAAC5B,qBAAjC;AACH;AAAE;;AACH,aAAS6B,8CAAT,CAAwDtC,EAAxD,EAA4DC,GAA5D,EAAiE;AAAE,UAAID,EAAE,GAAG,CAAT,EAAY;AAC3E,qEAAsB,CAAtB,EAAyB,IAAzB,EAA+B,EAA/B;;AACA,iEAAkB,CAAlB,EAAqB6B,kDAArB,EAAyE,CAAzE,EAA4E,CAA5E,EAA+E,GAA/E,EAAoF,CAApF;;AACA,iEAAkB,CAAlB,EAAqBO,qDAArB,EAA4E,CAA5E,EAA+E,CAA/E,EAAkF,MAAlF,EAA0F,EAA1F;;AACA;AACH;;AAAC,UAAIpC,EAAE,GAAG,CAAT,EAAY;AACV,oEAAqB,CAArB;;AACA,YAAII,GAAG,GAAG,0DAAmB,CAAnB,CAAV;;AACA,kEAAmB,UAAnB,EAA+BA,GAAG,CAACmC,UAAJ,EAA/B;;AACA,gEAAiB,CAAjB;;AACA,iEAAkB,MAAlB,EAA0B,CAACnC,GAAG,CAACmC,UAAJ,EAA3B;;AACA,gEAAiB,CAAjB;;AACA,iEAAkB,MAAlB,EAA0BnC,GAAG,CAACmC,UAAJ,EAA1B;AACH;AAAE;;AACH,aAASC,yCAAT,CAAmDxC,EAAnD,EAAuDC,GAAvD,EAA4D;AAAE,UAAID,EAAE,GAAG,CAAT,EAAY;AACtE,qEAAsB,CAAtB,EAAyB,IAAzB,EAA+B,CAA/B;;AACA,iEAAkB,CAAlB,EAAqBY,8CAArB,EAAqE,CAArE,EAAwE,CAAxE,EAA2E,IAA3E,EAAiF,CAAjF;;AACA,qEAAsB,CAAtB,EAAyB,IAAzB,EAA+B,CAA/B;;AACA,6DAAc,CAAd;;AACA;;AACA,iEAAkB,CAAlB,EAAqBgB,8CAArB,EAAqE,CAArE,EAAwE,CAAxE,EAA2E,IAA3E,EAAiF,CAAjF;;AACA,iEAAkB,CAAlB,EAAqBU,8CAArB,EAAqE,CAArE,EAAwE,CAAxE,EAA2E,IAA3E,EAAiF,CAAjF;;AACA;AACH;;AAAC,UAAItC,EAAE,GAAG,CAAT,EAAY;AACV,YAAIyC,MAAM,GAAG,6DAAb;;AACA,YAAIrC,GAAG,GAAG,0DAAmB,CAAnB,CAAV;;AACA,kEAAmB,YAAnB,EAAiCqC,MAAM,CAACC,UAAxC;;AACA,kEAAmB,YAAnB,EAAiCD,MAAM,CAACE,2BAAxC;;AACA,gEAAiB,CAAjB;;AACA,iEAAkB,MAAlB,EAA0BF,MAAM,CAACG,cAAjC;;AACA,gEAAiB,CAAjB;;AACA,yEAA0B,GAA1B,EAA+BxC,GAAG,CAACU,UAAJ,EAA/B,EAAiD,KAAjD,EAAwDV,GAAG,CAACyC,WAAJ,EAAxD,EAA2E,GAA3E;;AACA,gEAAiB,CAAjB;;AACA,iEAAkB,SAAlB,EAA6BzC,GAAG,CAAC0C,KAAjC,EAAwC,cAAxC,EAAwDL,MAAM,CAACM,YAA/D;;AACA,gEAAiB,CAAjB;;AACA,iEAAkB,MAAlB,EAA0BN,MAAM,CAACG,cAAjC;AACH;AAAE;;AACH,QAAII,iBAAiB;AAAG;AAAe,gBAAY;AAC/C,eAASA,iBAAT,GAA6B;AACzB,aAAKC,MAAL,GAAc,IAAI,0DAAJ,EAAd;AACA,aAAKC,SAAL,GAAiB,EAAjB;AACA,aAAKC,UAAL,GAAkB,uBAAlB;AACH;;AACDH,uBAAiB,CAACI,SAAlB,CAA4BC,SAA5B,GAAwC,YAAY;AAAE,eAAO,KAAKF,UAAZ;AAAyB,OAA/E;AACA;;;;;;;AAKAH,uBAAiB,CAACI,SAAlB,CAA4BE,QAA5B,GAAuC,UAAUC,QAAV,EAAoB;AACvD,YAAIA,QAAQ,CAACC,EAAT,IAAe,IAAnB,EAAyB;AACrBD,kBAAQ,CAACC,EAAT,GAAc,KAAKL,UAAnB;AACH;;AACD,YAAI,CAAC,KAAKD,SAAL,CAAeK,QAAQ,CAACC,EAAxB,CAAL,EAAkC;AAC9B,eAAKN,SAAL,CAAeK,QAAQ,CAACC,EAAxB,IAA8BD,QAA9B;AACA,iBAAO,IAAP;AACH,SAHD,MAIK;AACD,iBAAO,KAAKE,cAAL,CAAoBF,QAApB,CAAP;AACH;AACJ,OAXD;AAYA;;;;;;AAIAP,uBAAiB,CAACI,SAAlB,CAA4BK,cAA5B,GAA6C,UAAUF,QAAV,EAAoB;AAC7D,YAAIG,OAAO,GAAG,KAAd;;AACA,aAAK,IAAIC,IAAT,IAAiB,KAAKT,SAAL,CAAeK,QAAQ,CAACC,EAAxB,CAAjB,EAA8C;AAC1C,cAAID,QAAQ,CAACI,IAAD,CAAR,KAAmB,KAAKT,SAAL,CAAeK,QAAQ,CAACC,EAAxB,EAA4BG,IAA5B,CAAvB,EAA0D;AACtD,iBAAKT,SAAL,CAAeK,QAAQ,CAACC,EAAxB,EAA4BG,IAA5B,IAAoCJ,QAAQ,CAACI,IAAD,CAA5C;AACAD,mBAAO,GAAG,IAAV;AACH;AACJ;;AACD,eAAOA,OAAP;AACH,OATD;AAUA;;;;;AAGAV,uBAAiB,CAACI,SAAlB,CAA4BQ,cAA5B,GAA6C,UAAUJ,EAAV,EAAc;AACvD,YAAI,KAAKN,SAAL,CAAeM,EAAf,CAAJ,EAAwB;AACpB,iBAAO,KAAKN,SAAL,CAAeM,EAAf,EAAmBK,WAA1B;AACH;AACJ,OAJD;AAKA;;;;;AAGAb,uBAAiB,CAACI,SAAlB,CAA4BU,cAA5B,GAA6C,UAAUN,EAAV,EAAcO,IAAd,EAAoB;AAC7D,YAAI,KAAKb,SAAL,CAAeM,EAAf,CAAJ,EAAwB;AACpB,cAAID,QAAQ,GAAG,KAAKL,SAAL,CAAeM,EAAf,CAAf;AACA,cAAIQ,OAAO,GAAGC,IAAI,CAACC,IAAL,CAAUX,QAAQ,CAACY,UAAT,GAAsBZ,QAAQ,CAACa,YAAzC,CAAd;;AACA,cAAIL,IAAI,IAAIC,OAAR,IAAmB,KAAKD,IAA5B,EAAkC;AAC9B,iBAAKb,SAAL,CAAeM,EAAf,EAAmBK,WAAnB,GAAiCE,IAAjC;AACA,iBAAKd,MAAL,CAAYoB,IAAZ,CAAiBb,EAAjB;AACH;AACJ;AACJ,OATD;AAUA;;;;;AAGAR,uBAAiB,CAACI,SAAlB,CAA4BkB,aAA5B,GAA4C,UAAUd,EAAV,EAAcW,UAAd,EAA0B;AAClE,YAAI,KAAKjB,SAAL,CAAeM,EAAf,KAAsB,KAAKW,UAA/B,EAA2C;AACvC,eAAKjB,SAAL,CAAeM,EAAf,EAAmBW,UAAnB,GAAgCA,UAAhC;AACA,eAAKlB,MAAL,CAAYoB,IAAZ,CAAiBb,EAAjB;AACH;AACJ,OALD;AAMA;;;;;AAGAR,uBAAiB,CAACI,SAAlB,CAA4BmB,eAA5B,GAA8C,UAAUf,EAAV,EAAcY,YAAd,EAA4B;AACtE,YAAI,KAAKlB,SAAL,CAAeM,EAAf,CAAJ,EAAwB;AACpB,eAAKN,SAAL,CAAeM,EAAf,EAAmBY,YAAnB,GAAkCA,YAAlC;AACA,eAAKnB,MAAL,CAAYoB,IAAZ,CAAiBb,EAAjB;AACH;AACJ,OALD;AAMA;;;;;;AAIAR,uBAAiB,CAACI,SAAlB,CAA4BoB,WAA5B,GAA0C,UAAUhB,EAAV,EAAc;AACpD,YAAIA,EAAE,KAAK,KAAK,CAAhB,EAAmB;AAAEA,YAAE,GAAG,KAAKL,UAAV;AAAuB;;AAC5C,YAAI,KAAKD,SAAL,CAAeM,EAAf,CAAJ,EAAwB;AACpB,iBAAO,KAAKiB,KAAL,CAAW,KAAKvB,SAAL,CAAeM,EAAf,CAAX,CAAP;AACH;;AACD,eAAO,EAAP;AACH,OAND;AAOA;;;;;AAGAR,uBAAiB,CAACI,SAAlB,CAA4BqB,KAA5B,GAAoC,UAAUC,GAAV,EAAe;AAC/C,YAAIC,MAAM,GAAG,EAAb;;AACA,aAAK,IAAIC,CAAT,IAAcF,GAAd,EAAmB;AACf,cAAIA,GAAG,CAACG,cAAJ,CAAmBD,CAAnB,CAAJ,EAA2B;AACvBD,kBAAM,CAACC,CAAD,CAAN,GAAYF,GAAG,CAACE,CAAD,CAAf;AACH;AACJ;;AACD,eAAOD,MAAP;AACH,OARD;;AASJ3B,uBAAiB,CAAC8B,IAAlB,GAAyB,SAASC,yBAAT,CAAmCC,CAAnC,EAAsC;AAAE,eAAO,KAAKA,CAAC,IAAIhC,iBAAV,GAAP;AAAwC,OAAzG;;AACAA,uBAAiB,CAACiC,KAAlB,GAA0B,iEAA0B;AAAEC,aAAK,EAAElC,iBAAT;AAA4BmC,eAAO,EAAE,iBAAUH,CAAV,EAAa;AAAE,iBAAOhC,iBAAiB,CAAC8B,IAAlB,CAAuBE,CAAvB,CAAP;AAAmC;AAAvF,OAA1B,CAA1B;AAEI,aAAOhC,iBAAP;AACH,KAxGsC,EAAvC;;AA0GA,QAAIoC,YAAY,GAAIC,SAAS,IAAIA,SAAS,CAACC,UAAxB,IAAuC,UAAUC,UAAV,EAAsBZ,MAAtB,EAA8Ba,GAA9B,EAAmCC,IAAnC,EAAyC;AAC/F,UAAIC,CAAC,GAAGC,SAAS,CAACC,MAAlB;AAAA,UAA0BC,CAAC,GAAGH,CAAC,GAAG,CAAJ,GAAQf,MAAR,GAAiBc,IAAI,KAAK,IAAT,GAAgBA,IAAI,GAAGK,MAAM,CAACC,wBAAP,CAAgCpB,MAAhC,EAAwCa,GAAxC,CAAvB,GAAsEC,IAArH;AAAA,UAA2HO,CAA3H;AACA,UAAI,OAAOC,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAO,CAACC,QAAf,KAA4B,UAA/D,EAA2EL,CAAC,GAAGI,OAAO,CAACC,QAAR,CAAiBX,UAAjB,EAA6BZ,MAA7B,EAAqCa,GAArC,EAA0CC,IAA1C,CAAJ,CAA3E,KACK,KAAK,IAAIb,CAAC,GAAGW,UAAU,CAACK,MAAX,GAAoB,CAAjC,EAAoChB,CAAC,IAAI,CAAzC,EAA4CA,CAAC,EAA7C,EAAiD,IAAIoB,CAAC,GAAGT,UAAU,CAACX,CAAD,CAAlB,EAAuBiB,CAAC,GAAG,CAACH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACH,CAAD,CAAT,GAAeH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACrB,MAAD,EAASa,GAAT,EAAcK,CAAd,CAAT,GAA4BG,CAAC,CAACrB,MAAD,EAASa,GAAT,CAA7C,KAA+DK,CAAnE;AAC7E,aAAOH,CAAC,GAAG,CAAJ,IAASG,CAAT,IAAcC,MAAM,CAACK,cAAP,CAAsBxB,MAAtB,EAA8Ba,GAA9B,EAAmCK,CAAnC,CAAd,EAAqDA,CAA5D;AACH,KALD;;AAMA,QAAIO,UAAU,GAAIf,SAAS,IAAIA,SAAS,CAACe,UAAxB,IAAuC,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACpE,UAAI,OAAOL,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAO,CAACM,QAAf,KAA4B,UAA/D,EAA2E,OAAON,OAAO,CAACM,QAAR,CAAiBF,CAAjB,EAAoBC,CAApB,CAAP;AAC9E,KAFD;;AAGA,QAAIE,YAAY,GAAGC,MAAM,CAACC,gBAA1B;;AACA,QAAIC,YAAY;AAAG;AAAe,gBAAY;AAC1C,eAASA,YAAT,CAAsBC,OAAtB,EAA+B;AAC3B,aAAKA,OAAL,GAAeA,OAAf,CAD2B,CAE3B;;AACA,aAAKC,KAAL,GAAa,EAAb;AACH;;AACDF,kBAAY,CAACvD,SAAb,CAAuB0D,SAAvB,GAAmC,UAAUC,UAAV,EAAsBC,IAAtB,EAA4B;AAC3D;AACA;AACA;AACA;AACA,YAAI,EAAED,UAAU,YAAYE,KAAxB,CAAJ,EAAoC;AAChC,cAAIC,GAAG,GAAGF,IAAI,CAACxD,EAAL,IAAW,KAAKoD,OAAL,CAAavD,SAAb,EAArB;;AACA,cAAI,KAAKwD,KAAL,CAAWK,GAAX,CAAJ,EAAqB;AACjB,mBAAO,KAAKL,KAAL,CAAWK,GAAX,EAAgBC,KAAvB;AACH,WAFD,MAGK;AACD,mBAAOJ,UAAP;AACH;AACJ;;AACD,YAAIK,cAAc,GAAGJ,IAAI,CAAC7C,UAAL,IAAmB6C,IAAI,CAAC7C,UAAL,KAAoB4C,UAAU,CAACnB,MAAvE;AACA,YAAIrC,QAAQ,GAAG,KAAK8D,cAAL,CAAoBN,UAApB,EAAgCC,IAAhC,CAAf;AACA,YAAIxD,EAAE,GAAGD,QAAQ,CAACC,EAAlB;AACA,YAAI8D,KAAJ,EAAWC,GAAX;AACA,YAAIC,OAAO,GAAGjE,QAAQ,CAACa,YAAvB;AACA,YAAIqD,UAAU,GAAG,KAAKb,OAAL,CAAatD,QAAb,CAAsBC,QAAtB,CAAjB;;AACA,YAAI,CAAC6D,cAAD,IAAmBL,UAAU,YAAYE,KAA7C,EAAoD;AAChDO,iBAAO,GAAG,CAACA,OAAD,IAAYhB,YAAtB;AACAc,eAAK,GAAG,CAAC/D,QAAQ,CAACM,WAAT,GAAuB,CAAxB,IAA6B2D,OAArC;AACAD,aAAG,GAAGD,KAAK,GAAGE,OAAd;AACA,cAAIE,WAAW,GAAG,KAAKC,gBAAL,CAAsBnE,EAAtB,EAA0BuD,UAA1B,EAAsCO,KAAtC,EAA6CC,GAA7C,CAAlB;;AACA,cAAIG,WAAJ,EAAiB;AACb,mBAAO,KAAKb,KAAL,CAAWrD,EAAX,EAAe2D,KAAtB;AACH,WAFD,MAGK;AACD,gBAAIA,KAAK,GAAGJ,UAAU,CAACI,KAAX,CAAiBG,KAAjB,EAAwBC,GAAxB,CAAZ;AACA,iBAAKK,SAAL,CAAepE,EAAf,EAAmBuD,UAAnB,EAA+BI,KAA/B,EAAsCG,KAAtC,EAA6CC,GAA7C;AACA,iBAAKX,OAAL,CAAa3D,MAAb,CAAoBoB,IAApB,CAAyBb,EAAzB;AACA,mBAAO2D,KAAP;AACH;AACJ,SAdD,MAeK;AACD,cAAIM,UAAJ,EAAgB;AACZ,iBAAKb,OAAL,CAAa3D,MAAb,CAAoBoB,IAApB,CAAyBb,EAAzB;AACH,WAHA,CAID;AACA;;;AACA,eAAKoE,SAAL,CAAepE,EAAf,EAAmBuD,UAAnB,EAA+BA,UAA/B,EAA2CO,KAA3C,EAAkDC,GAAlD;AACA,iBAAOR,UAAP;AACH;AACJ,OA5CD;AA6CA;;;;;AAGAJ,kBAAY,CAACvD,SAAb,CAAuBiE,cAAvB,GAAwC,UAAUN,UAAV,EAAsBc,MAAtB,EAA8B;AAClE,aAAKC,WAAL,CAAiBD,MAAjB;AACA,eAAO;AACHrE,YAAE,EAAEqE,MAAM,CAACrE,EAAP,IAAa,IAAb,GAAoBqE,MAAM,CAACrE,EAA3B,GAAgC,KAAKoD,OAAL,CAAavD,SAAb,EADjC;AAEHe,sBAAY,EAAE,CAACyD,MAAM,CAACzD,YAAR,IAAwB,CAFnC;AAGHP,qBAAW,EAAE,CAACgE,MAAM,CAAChE,WAAR,IAAuB,CAHjC;AAIHM,oBAAU,EAAE,CAAC0D,MAAM,CAAC1D,UAAR,IAAsB4C,UAAU,CAACnB;AAJ1C,SAAP;AAMH,OARD;AASA;;;;;AAGAe,kBAAY,CAACvD,SAAb,CAAuB0E,WAAvB,GAAqC,UAAUD,MAAV,EAAkB;AACnD,YAAIE,QAAQ,GAAG,CAAC,cAAD,EAAiB,aAAjB,CAAf;AACA,YAAIC,OAAO,GAAGD,QAAQ,CAACE,MAAT,CAAgB,UAAUtE,IAAV,EAAgB;AAAE,iBAAO,EAAEA,IAAI,IAAIkE,MAAV,CAAP;AAA2B,SAA7D,CAAd;;AACA,YAAI,IAAIG,OAAO,CAACpC,MAAhB,EAAwB;AACpB,gBAAM,IAAIsC,KAAJ,CAAU,0EAA0EF,OAAO,CAACG,IAAR,CAAa,IAAb,CAApF,CAAN;AACH;AACJ,OAND;AAOA;;;;;;;;AAMAxB,kBAAY,CAACvD,SAAb,CAAuBwE,SAAvB,GAAmC,UAAUpE,EAAV,EAAcuD,UAAd,EAA0BI,KAA1B,EAAiCG,KAAjC,EAAwCC,GAAxC,EAA6C;AAC5E,aAAKV,KAAL,CAAWrD,EAAX,IAAiB;AACbuD,oBAAU,EAAEA,UADC;AAEbqB,cAAI,EAAErB,UAAU,CAACnB,MAFJ;AAGbuB,eAAK,EAAEA,KAHM;AAIbG,eAAK,EAAEA,KAJM;AAKbC,aAAG,EAAEA;AALQ,SAAjB;AAOH,OARD;AASA;;;;;AAGAZ,kBAAY,CAACvD,SAAb,CAAuBuE,gBAAvB,GAA0C,UAAUnE,EAAV,EAAcuD,UAAd,EAA0BO,KAA1B,EAAiCC,GAAjC,EAAsC;AAC5E,YAAIV,KAAK,GAAG,KAAKA,KAAL,CAAWrD,EAAX,CAAZ;;AACA,YAAI,CAACqD,KAAL,EAAY;AACR,iBAAO,KAAP;AACH;;AACD,YAAIwB,mBAAmB,GAAGxB,KAAK,CAACuB,IAAN,KAAerB,UAAU,CAACnB,MAA1B,IACtBiB,KAAK,CAACS,KAAN,KAAgBA,KADM,IAEtBT,KAAK,CAACU,GAAN,KAAcA,GAFlB;;AAGA,YAAI,CAACc,mBAAL,EAA0B;AACtB,iBAAO,KAAP;AACH;;AACD,eAAOxB,KAAK,CAACM,KAAN,CAAYmB,KAAZ,CAAkB,UAAUC,OAAV,EAAmBC,KAAnB,EAA0B;AAAE,iBAAOD,OAAO,KAAKxB,UAAU,CAACO,KAAK,GAAGkB,KAAT,CAA7B;AAA+C,SAA7F,CAAP;AACH,OAZD;;AAaA7B,kBAAY,GAAGvB,YAAY,CAAC,CAAEgB,UAAU,CAAC,mBAAD,EAAsB,CAACpD,iBAAD,CAAtB,CAAZ,CAAD,EACxB2D,YADwB,CAA3B;;AAEJA,kBAAY,CAAC7B,IAAb,GAAoB,SAAS2D,oBAAT,CAA8BzD,CAA9B,EAAiC;AAAE,eAAO,KAAKA,CAAC,IAAI2B,YAAV,EAAwB,gEAAyB3D,iBAAzB,CAAxB,CAAP;AAA8E,OAArI;;AACA2D,kBAAY,CAAC+B,KAAb,GAAqB,2DAAoB;AAAEC,YAAI,EAAE,UAAR;AAAoBC,YAAI,EAAEjC,YAA1B;AAAwCkC,YAAI,EAAE;AAA9C,OAApB,CAArB;AACA;;AAAc,OAAC,YAAY;AAAE,wEAAyBlC,YAAzB,EAAuC,CAAC;AAC7DiC,cAAI,EAAE,kDADuD;AAE7D5B,cAAI,EAAE,CAAC;AACC2B,gBAAI,EAAE,UADP;AAECE,gBAAI,EAAE;AAFP,WAAD;AAFuD,SAAD,CAAvC,EAMrB,YAAY;AAAE,iBAAO,CAAC;AAAED,gBAAI,EAAE5F;AAAR,WAAD,CAAP;AAAuC,SANhC,EAMkC,IANlC;AAM0C,OANzD;;AAOV,aAAO2D,YAAP;AACH,KApHiC,EAAlC;AAsHA;;;;;;AAIA,QAAImC,gBAAgB,GAAG,0kFAAvB;AACA,QAAIC,cAAc,GAAG,+0DAArB;;AAEA,QAAIC,YAAY,GAAI3D,SAAS,IAAIA,SAAS,CAACC,UAAxB,IAAuC,UAAUC,UAAV,EAAsBZ,MAAtB,EAA8Ba,GAA9B,EAAmCC,IAAnC,EAAyC;AAC/F,UAAIC,CAAC,GAAGC,SAAS,CAACC,MAAlB;AAAA,UAA0BC,CAAC,GAAGH,CAAC,GAAG,CAAJ,GAAQf,MAAR,GAAiBc,IAAI,KAAK,IAAT,GAAgBA,IAAI,GAAGK,MAAM,CAACC,wBAAP,CAAgCpB,MAAhC,EAAwCa,GAAxC,CAAvB,GAAsEC,IAArH;AAAA,UAA2HO,CAA3H;AACA,UAAI,OAAOC,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAO,CAACC,QAAf,KAA4B,UAA/D,EAA2EL,CAAC,GAAGI,OAAO,CAACC,QAAR,CAAiBX,UAAjB,EAA6BZ,MAA7B,EAAqCa,GAArC,EAA0CC,IAA1C,CAAJ,CAA3E,KACK,KAAK,IAAIb,CAAC,GAAGW,UAAU,CAACK,MAAX,GAAoB,CAAjC,EAAoChB,CAAC,IAAI,CAAzC,EAA4CA,CAAC,EAA7C,EAAiD,IAAIoB,CAAC,GAAGT,UAAU,CAACX,CAAD,CAAlB,EAAuBiB,CAAC,GAAG,CAACH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACH,CAAD,CAAT,GAAeH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACrB,MAAD,EAASa,GAAT,EAAcK,CAAd,CAAT,GAA4BG,CAAC,CAACrB,MAAD,EAASa,GAAT,CAA7C,KAA+DK,CAAnE;AAC7E,aAAOH,CAAC,GAAG,CAAJ,IAASG,CAAT,IAAcC,MAAM,CAACK,cAAP,CAAsBxB,MAAtB,EAA8Ba,GAA9B,EAAmCK,CAAnC,CAAd,EAAqDA,CAA5D;AACH,KALD;;AAMA,QAAIoD,YAAY,GAAI5D,SAAS,IAAIA,SAAS,CAACe,UAAxB,IAAuC,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACtE,UAAI,OAAOL,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAO,CAACM,QAAf,KAA4B,UAA/D,EAA2E,OAAON,OAAO,CAACM,QAAR,CAAiBF,CAAjB,EAAoBC,CAApB,CAAP;AAC9E,KAFD;;AAGA,aAAS4C,eAAT,CAAyBC,KAAzB,EAAgC;AAC5B,aAAO,CAAC,CAACA,KAAF,IAAWA,KAAK,KAAK,OAA5B;AACH;AACD;;;;;AAGA,QAAIC,2BAA2B;AAAG;AAAe,gBAAY;AACzD,eAASA,2BAAT,GAAuC;AACnC,aAAKC,OAAL,GAAe,CAAf;AACA,aAAK7I,aAAL,GAAqB,UAArB;AACA,aAAK2B,SAAL,GAAiB,MAAjB;AACA,aAAKQ,2BAAL,GAAmC,YAAnC;AACA,aAAKlC,qBAAL,GAA6B,MAA7B;AACA,aAAKkB,wBAAL,GAAgC,gBAAhC;AACA,aAAK2H,UAAL,GAAkB,IAAI,0DAAJ,EAAlB;AACA,aAAKC,oBAAL,GAA4B,IAAI,0DAAJ,EAA5B;AACA,aAAKC,eAAL,GAAuB,IAAvB;AACA,aAAKC,SAAL,GAAiB,KAAjB;AACA,aAAKC,WAAL,GAAmB,KAAnB;AACH;;AACD5D,YAAM,CAACK,cAAP,CAAsBiD,2BAA2B,CAAChG,SAAlD,EAA6D,gBAA7D,EAA+E;AAC3EuG,WAAG,EAAE,eAAY;AACb,iBAAO,KAAKH,eAAZ;AACH,SAH0E;AAI3EI,WAAG,EAAE,aAAUvI,KAAV,EAAiB;AAClB,eAAKmI,eAAL,GAAuBN,eAAe,CAAC7H,KAAD,CAAtC;AACH,SAN0E;AAO3EwI,kBAAU,EAAE,IAP+D;AAQ3EC,oBAAY,EAAE;AAR6D,OAA/E;AAUAhE,YAAM,CAACK,cAAP,CAAsBiD,2BAA2B,CAAChG,SAAlD,EAA6D,UAA7D,EAAyE;AACrEuG,WAAG,EAAE,eAAY;AACb,iBAAO,KAAKF,SAAZ;AACH,SAHoE;AAIrEG,WAAG,EAAE,aAAUvI,KAAV,EAAiB;AAClB,eAAKoI,SAAL,GAAiBP,eAAe,CAAC7H,KAAD,CAAhC;AACH,SANoE;AAOrEwI,kBAAU,EAAE,IAPyD;AAQrEC,oBAAY,EAAE;AARuD,OAAzE;AAUAhE,YAAM,CAACK,cAAP,CAAsBiD,2BAA2B,CAAChG,SAAlD,EAA6D,YAA7D,EAA2E;AACvEuG,WAAG,EAAE,eAAY;AACb,iBAAO,KAAKD,WAAZ;AACH,SAHsE;AAIvEE,WAAG,EAAE,aAAUvI,KAAV,EAAiB;AAClB,eAAKqI,WAAL,GAAmBR,eAAe,CAAC7H,KAAD,CAAlC;AACH,SANsE;AAOvEwI,kBAAU,EAAE,IAP2D;AAQvEC,oBAAY,EAAE;AARyD,OAA3E;;AAUAV,iCAA2B,CAAChG,SAA5B,CAAsCL,YAAtC,GAAqD,UAAUyF,KAAV,EAAiB;AAClE,eAAOA,KAAP;AACH,OAFD;;AAGAQ,kBAAY,CAAC,CACT,6DADS,EAETC,YAAY,CAAC,aAAD,EAAgBc,MAAhB,CAFH,CAAD,EAGTX,2BAA2B,CAAChG,SAHnB,EAG8B,IAH9B,EAGoC,KAAK,CAHzC,CAAZ;;AAIA4F,kBAAY,CAAC,CACT,6DADS,EAETC,YAAY,CAAC,aAAD,EAAgBxC,MAAhB,CAFH,CAAD,EAGT2C,2BAA2B,CAAChG,SAHnB,EAG8B,SAH9B,EAGyC,KAAK,CAH9C,CAAZ;;AAIA4F,kBAAY,CAAC,CACT,6DADS,EAETC,YAAY,CAAC,aAAD,EAAgBe,OAAhB,CAFH,EAGTf,YAAY,CAAC,mBAAD,EAAsB,CAACe,OAAD,CAAtB,CAHH,CAAD,EAITZ,2BAA2B,CAAChG,SAJnB,EAI8B,gBAJ9B,EAIgD,IAJhD,CAAZ;;AAKA4F,kBAAY,CAAC,CACT,6DADS,EAETC,YAAY,CAAC,aAAD,EAAgBe,OAAhB,CAFH,EAGTf,YAAY,CAAC,mBAAD,EAAsB,CAACe,OAAD,CAAtB,CAHH,CAAD,EAITZ,2BAA2B,CAAChG,SAJnB,EAI8B,UAJ9B,EAI0C,IAJ1C,CAAZ;;AAKA4F,kBAAY,CAAC,CACT,6DADS,EAETC,YAAY,CAAC,aAAD,EAAgBe,OAAhB,CAFH,EAGTf,YAAY,CAAC,mBAAD,EAAsB,CAACe,OAAD,CAAtB,CAHH,CAAD,EAITZ,2BAA2B,CAAChG,SAJnB,EAI8B,YAJ9B,EAI4C,IAJ5C,CAAZ;;AAKA4F,kBAAY,CAAC,CACT,6DADS,EAETC,YAAY,CAAC,aAAD,EAAgBc,MAAhB,CAFH,CAAD,EAGTX,2BAA2B,CAAChG,SAHnB,EAG8B,eAH9B,EAG+C,KAAK,CAHpD,CAAZ;;AAIA4F,kBAAY,CAAC,CACT,6DADS,EAETC,YAAY,CAAC,aAAD,EAAgBc,MAAhB,CAFH,CAAD,EAGTX,2BAA2B,CAAChG,SAHnB,EAG8B,WAH9B,EAG2C,KAAK,CAHhD,CAAZ;;AAIA4F,kBAAY,CAAC,CACT,6DADS,EAETC,YAAY,CAAC,aAAD,EAAgBc,MAAhB,CAFH,CAAD,EAGTX,2BAA2B,CAAChG,SAHnB,EAG8B,6BAH9B,EAG6D,KAAK,CAHlE,CAAZ;;AAIA4F,kBAAY,CAAC,CACT,6DADS,EAETC,YAAY,CAAC,aAAD,EAAgBc,MAAhB,CAFH,CAAD,EAGTX,2BAA2B,CAAChG,SAHnB,EAG8B,uBAH9B,EAGuD,KAAK,CAH5D,CAAZ;;AAIA4F,kBAAY,CAAC,CACT,6DADS,EAETC,YAAY,CAAC,aAAD,EAAgBc,MAAhB,CAFH,CAAD,EAGTX,2BAA2B,CAAChG,SAHnB,EAG8B,0BAH9B,EAG0D,KAAK,CAH/D,CAAZ;;AAIA4F,kBAAY,CAAC,CACT,8DADS,EAETC,YAAY,CAAC,aAAD,EAAgB,0DAAhB,CAFH,CAAD,EAGTG,2BAA2B,CAAChG,SAHnB,EAG8B,YAH9B,EAG4C,KAAK,CAHjD,CAAZ;;AAIA4F,kBAAY,CAAC,CACT,8DADS,EAETC,YAAY,CAAC,aAAD,EAAgB,0DAAhB,CAFH,CAAD,EAGTG,2BAA2B,CAAChG,SAHnB,EAG8B,sBAH9B,EAGsD,KAAK,CAH3D,CAAZ;;AAIJgG,iCAA2B,CAACtE,IAA5B,GAAmC,SAASmF,mCAAT,CAA6CjF,CAA7C,EAAgD;AAAE,eAAO,KAAKA,CAAC,IAAIoE,2BAAV,GAAP;AAAkD,OAAvI;;AACAA,iCAA2B,CAACc,IAA5B,GAAmC,gEAAyB;AAAEtB,YAAI,EAAEQ,2BAAR;AAAqCe,iBAAS,EAAE,CAAC,CAAC,qBAAD,CAAD,CAAhD;AAA2EC,cAAM,EAAE;AAAEf,iBAAO,EAAE,SAAX;AAAsB7I,uBAAa,EAAE,eAArC;AAAsD2B,mBAAS,EAAE,WAAjE;AAA8EQ,qCAA2B,EAAE,6BAA3G;AAA0IlC,+BAAqB,EAAE,uBAAjK;AAA0LkB,kCAAwB,EAAE,0BAApN;AAAgPiB,wBAAc,EAAE,gBAAhQ;AAAkRyH,kBAAQ,EAAE,UAA5R;AAAwS3H,oBAAU,EAAE,YAApT;AAAkUc,YAAE,EAAE;AAAtU,SAAnF;AAAia8G,eAAO,EAAE;AAAEhB,oBAAU,EAAE,YAAd;AAA4BC,8BAAoB,EAAE;AAAlD,SAA1a;AAAsfgB,aAAK,EAAE,CAA7f;AAAggBC,YAAI,EAAE,CAAtgB;AAAygBC,cAAM,EAAE,CAAC,CAAC,CAAD,EAAI,IAAJ,EAAU,SAAV,EAAqB,YAArB,EAAmC,sBAAnC,CAAD,EAA6D,CAAC,GAAD,EAAM,eAAN,CAA7D,EAAqF,CAAC,OAAD,EAAU,gBAAV,EAA4B,CAA5B,EAA+B,YAA/B,EAA6C,CAA7C,EAAgD,MAAhD,CAArF,EAA8I,CAAC,CAAD,EAAI,gBAAJ,CAA9I,EAAqK,CAAC,OAAD,EAAU,qBAAV,EAAiC,CAAjC,EAAoC,UAApC,EAAgD,CAAhD,EAAmD,MAAnD,CAArK,EAAiO,CAAC,CAAD,EAAI,cAAJ,CAAjO,EAAsP,CAAC,CAAD,EAAI,SAAJ,EAAe,UAAf,EAA2B,CAA3B,EAA8B,OAA9B,EAAuC,SAAvC,EAAkD,cAAlD,CAAtP,EAAyT,CAAC,OAAD,EAAU,iBAAV,EAA6B,CAA7B,EAAgC,UAAhC,EAA4C,CAA5C,EAA+C,MAA/C,CAAzT,EAAiX,CAAC,CAAD,EAAI,qBAAJ,CAAjX,EAA6Y,CAAC,UAAD,EAAa,GAAb,EAAkB,CAAlB,EAAqB,aAArB,EAAoC,OAApC,EAA6C,CAA7C,EAAgD,MAAhD,CAA7Y,EAAsc,CAAC,CAAD,EAAI,MAAJ,CAAtc,EAAmd,CAAC,UAAD,EAAa,GAAb,EAAkB,CAAlB,EAAqB,aAArB,EAAoC,OAApC,CAAnd,EAAigB,CAAC,CAAD,EAAI,aAAJ,CAAjgB,EAAqhB,CAAC,CAAD,EAAI,iBAAJ,CAArhB,CAAjhB;AAA+jCC,gBAAQ,EAAE,SAASC,oCAAT,CAA8C3K,EAA9C,EAAkDC,GAAlD,EAAuD;AAAE,cAAID,EAAE,GAAG,CAAT,EAAY;AAClsC,yEAAsB,CAAtB,EAAyB,qBAAzB,EAAgD,CAAhD,EAAmD,CAAnD;;AACA,qEAAkB,YAAlB,EAAgC,SAAS4K,8EAAT,CAAwFC,MAAxF,EAAgG;AAAE,qBAAO5K,GAAG,CAACqJ,UAAJ,CAAejF,IAAf,CAAoBwG,MAApB,CAAP;AAAqC,aAAvK,EAAyK,sBAAzK,EAAiM,SAASC,wFAAT,CAAkGD,MAAlG,EAA0G;AAAE,qBAAO5K,GAAG,CAACsJ,oBAAJ,CAAyBlF,IAAzB,CAA8BwG,MAA9B,CAAP;AAA+C,aAA5V;;AACA,qEAAkB,CAAlB,EAAqBrI,yCAArB,EAAgE,CAAhE,EAAmE,CAAnE,EAAsE,IAAtE,EAA4E,CAA5E;;AACA;AACH;;AAAC,cAAIxC,EAAE,GAAG,CAAT,EAAY;AACV,gBAAII,GAAG,GAAG,0DAAmB,CAAnB,CAAV;;AACA,qEAAkB,IAAlB,EAAwBH,GAAG,CAACuD,EAA5B,EAAgC,SAAhC,EAA2CvD,GAAG,CAACoJ,OAA/C;;AACA,oEAAiB,CAAjB;;AACA,qEAAkB,MAAlB,EAA0B,EAAEpJ,GAAG,CAACoK,QAAJ,IAAgBjK,GAAG,CAAC0C,KAAJ,CAAU8C,MAAV,IAAoB,CAAtC,CAA1B;AACH;AAAE,SAVqD;AAUnDmF,kBAAU,EAAE,sBAAY;AAAE,iBAAO,CAACC,2BAAD,EAA8B,oDAA9B,EAA2C,uDAA3C,CAAP;AAAoE,SAV3C;AAU6CC,aAAK,EAAE,iBAAY;AAAE,iBAAO,CAAC,2DAAD,CAAP;AAA8B,SAVhG;AAUkGC,cAAM,EAAE,CAAC,+0DAAD,CAV1G;AAUi8DC,qBAAa,EAAE,CAVh9D;AAUm9DC,uBAAe,EAAE;AAVp+D,OAAzB,CAAnC;AAWA;;AAAc,OAAC,YAAY;AAAE,wEAAyBhC,2BAAzB,EAAsD,CAAC;AAC5ER,cAAI,EAAE,uDADsE;AAE5E5B,cAAI,EAAE,CAAC;AACCqE,oBAAQ,EAAE,qBADX;AAECX,oBAAQ,EAAE5B,gBAFX;AAGCoC,kBAAM,EAAE,CAACnC,cAAD,CAHT;AAICqC,2BAAe,EAAE,sEAAwBE,MAJ1C;AAKCH,yBAAa,EAAE,gEAAkBI;AALlC,WAAD;AAFsE,SAAD,CAAtD,EASrB,YAAY;AAAE,iBAAO,EAAP;AAAY,SATL,EASO;AAAElC,iBAAO,EAAE,CAAC;AACpCT,gBAAI,EAAE;AAD8B,WAAD,CAAX;AAExBpI,uBAAa,EAAE,CAAC;AAChBoI,gBAAI,EAAE;AADU,WAAD,CAFS;AAIxBzG,mBAAS,EAAE,CAAC;AACZyG,gBAAI,EAAE;AADM,WAAD,CAJa;AAMxBjG,qCAA2B,EAAE,CAAC;AAC9BiG,gBAAI,EAAE;AADwB,WAAD,CANL;AAQxBnI,+BAAqB,EAAE,CAAC;AACxBmI,gBAAI,EAAE;AADkB,WAAD,CARC;AAUxBjH,kCAAwB,EAAE,CAAC;AAC3BiH,gBAAI,EAAE;AADqB,WAAD,CAVF;AAYxBU,oBAAU,EAAE,CAAC;AACbV,gBAAI,EAAE;AADO,WAAD,CAZY;AAcxBW,8BAAoB,EAAE,CAAC;AACvBX,gBAAI,EAAE;AADiB,WAAD,CAdE;AAgBxBhG,wBAAc,EAAE,CAAC;AACjBgG,gBAAI,EAAE;AADW,WAAD,CAhBQ;AAkBxByB,kBAAQ,EAAE,CAAC;AACXzB,gBAAI,EAAE;AADK,WAAD,CAlBc;AAoBxBlG,oBAAU,EAAE,CAAC;AACbkG,gBAAI,EAAE;AADO,WAAD,CApBY;AAsBxBpF,YAAE,EAAE,CAAC;AACLoF,gBAAI,EAAE;AADD,WAAD;AAtBoB,SATP;AAiCb,OAjCF;;AAkCV,aAAOQ,2BAAP;AACH,KAjJgD,EAAjD;;AAmJA,QAAIoC,YAAY,GAAInG,SAAS,IAAIA,SAAS,CAACC,UAAxB,IAAuC,UAAUC,UAAV,EAAsBZ,MAAtB,EAA8Ba,GAA9B,EAAmCC,IAAnC,EAAyC;AAC/F,UAAIC,CAAC,GAAGC,SAAS,CAACC,MAAlB;AAAA,UAA0BC,CAAC,GAAGH,CAAC,GAAG,CAAJ,GAAQf,MAAR,GAAiBc,IAAI,KAAK,IAAT,GAAgBA,IAAI,GAAGK,MAAM,CAACC,wBAAP,CAAgCpB,MAAhC,EAAwCa,GAAxC,CAAvB,GAAsEC,IAArH;AAAA,UAA2HO,CAA3H;AACA,UAAI,OAAOC,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAO,CAACC,QAAf,KAA4B,UAA/D,EAA2EL,CAAC,GAAGI,OAAO,CAACC,QAAR,CAAiBX,UAAjB,EAA6BZ,MAA7B,EAAqCa,GAArC,EAA0CC,IAA1C,CAAJ,CAA3E,KACK,KAAK,IAAIb,CAAC,GAAGW,UAAU,CAACK,MAAX,GAAoB,CAAjC,EAAoChB,CAAC,IAAI,CAAzC,EAA4CA,CAAC,EAA7C,EAAiD,IAAIoB,CAAC,GAAGT,UAAU,CAACX,CAAD,CAAlB,EAAuBiB,CAAC,GAAG,CAACH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACH,CAAD,CAAT,GAAeH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACrB,MAAD,EAASa,GAAT,EAAcK,CAAd,CAAT,GAA4BG,CAAC,CAACrB,MAAD,EAASa,GAAT,CAA7C,KAA+DK,CAAnE;AAC7E,aAAOH,CAAC,GAAG,CAAJ,IAASG,CAAT,IAAcC,MAAM,CAACK,cAAP,CAAsBxB,MAAtB,EAA8Ba,GAA9B,EAAmCK,CAAnC,CAAd,EAAqDA,CAA5D;AACH,KALD;;AAMA,QAAI4F,YAAY,GAAIpG,SAAS,IAAIA,SAAS,CAACe,UAAxB,IAAuC,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACtE,UAAI,OAAOL,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAO,CAACM,QAAf,KAA4B,UAA/D,EAA2E,OAAON,OAAO,CAACM,QAAR,CAAiBF,CAAjB,EAAoBC,CAApB,CAAP;AAC9E,KAFD;AAGA;;;;;;;AAKA,QAAI0E,2BAA2B;AAAG;AAAe,gBAAY;AACzD,eAASA,2BAAT,CAAqCpE,OAArC,EAA8C8E,iBAA9C,EAAiE;AAC7D,YAAIC,KAAK,GAAG,IAAZ;;AACA,aAAK/E,OAAL,GAAeA,OAAf;AACA,aAAK8E,iBAAL,GAAyBA,iBAAzB;AACA,aAAKrC,OAAL,GAAe,CAAf;AACA,aAAKC,UAAL,GAAkB,IAAI,0DAAJ,EAAlB;AACA,aAAKC,oBAAL,GAA4B,IAAI,0DAAJ,EAA5B;AACA,aAAKzG,KAAL,GAAa,EAAb;AACA,aAAK8I,SAAL,GAAiB,KAAKhF,OAAL,CAAa3D,MAAb,CACZ4I,SADY,CACF,UAAUrI,EAAV,EAAc;AACzB,cAAImI,KAAK,CAACnI,EAAN,KAAaA,EAAjB,EAAqB;AACjBmI,iBAAK,CAACG,eAAN;;AACAH,iBAAK,CAACD,iBAAN,CAAwBK,YAAxB;;AACAJ,iBAAK,CAACD,iBAAN,CAAwBM,aAAxB;AACH;AACJ,SAPgB,CAAjB;AAQH;;AACDhB,iCAA2B,CAAC5H,SAA5B,CAAsC6I,QAAtC,GAAiD,YAAY;AACzD,YAAI,KAAKzI,EAAL,KAAY6B,SAAhB,EAA2B;AACvB,eAAK7B,EAAL,GAAU,KAAKoD,OAAL,CAAavD,SAAb,EAAV;AACH;;AACD,aAAKyI,eAAL;AACH,OALD;;AAMAd,iCAA2B,CAAC5H,SAA5B,CAAsC8I,WAAtC,GAAoD,UAAUC,OAAV,EAAmB;AACnE,aAAKL,eAAL;AACH,OAFD;;AAGAd,iCAA2B,CAAC5H,SAA5B,CAAsCgJ,WAAtC,GAAoD,YAAY;AAC5D,aAAKR,SAAL,CAAeS,WAAf;AACH,OAFD;AAGA;;;;;AAGArB,iCAA2B,CAAC5H,SAA5B,CAAsC/C,QAAtC,GAAiD,YAAY;AACzD,aAAKiM,YAAL;AACA,aAAKlL,UAAL,CAAgB,KAAKN,UAAL,KAAoB,CAApC;AACH,OAHD;AAIA;;;;;AAGAkK,iCAA2B,CAAC5H,SAA5B,CAAsCpB,IAAtC,GAA6C,YAAY;AACrD,aAAKsK,YAAL;AACA,aAAKlL,UAAL,CAAgB,KAAKN,UAAL,KAAoB,CAApC;AACH,OAHD;AAIA;;;;;AAGAkK,iCAA2B,CAAC5H,SAA5B,CAAsCvC,WAAtC,GAAoD,YAAY;AAC5D,eAAO,KAAKC,UAAL,OAAsB,CAA7B;AACH,OAFD;AAGA;;;;;AAGAkK,iCAA2B,CAAC5H,SAA5B,CAAsCb,UAAtC,GAAmD,YAAY;AAC3D,eAAO,KAAKM,WAAL,OAAuB,KAAK/B,UAAL,EAA9B;AACH,OAFD;AAGA;;;;;AAGAkK,iCAA2B,CAAC5H,SAA5B,CAAsChC,UAAtC,GAAmD,UAAU2C,IAAV,EAAgB;AAC/D,aAAKuF,UAAL,CAAgBjF,IAAhB,CAAqBN,IAArB;AACH,OAFD;AAGA;;;;;AAGAiH,iCAA2B,CAAC5H,SAA5B,CAAsCtC,UAAtC,GAAmD,YAAY;AAC3D,eAAO,KAAK8F,OAAL,CAAahD,cAAb,CAA4B,KAAKJ,EAAjC,CAAP;AACH,OAFD;AAGA;;;;;AAGAwH,iCAA2B,CAAC5H,SAA5B,CAAsCP,WAAtC,GAAoD,YAAY;AAC5D,YAAI0J,IAAI,GAAG,KAAK3F,OAAL,CAAapC,WAAb,CAAyB,KAAKhB,EAA9B,CAAX;;AACA,YAAI+I,IAAI,CAACpI,UAAL,GAAkB,CAAtB,EAAyB;AACrB;AACA;AACA,iBAAO,CAAP;AACH;;AACD,eAAOF,IAAI,CAACC,IAAL,CAAUqI,IAAI,CAACpI,UAAL,GAAkBoI,IAAI,CAACnI,YAAjC,CAAP;AACH,OARD;;AASA4G,iCAA2B,CAAC5H,SAA5B,CAAsCoJ,aAAtC,GAAsD,YAAY;AAC9D,eAAO,KAAK5F,OAAL,CAAapC,WAAb,CAAyB,KAAKhB,EAA9B,EAAkCW,UAAzC;AACH,OAFD;;AAGA6G,iCAA2B,CAAC5H,SAA5B,CAAsCkJ,YAAtC,GAAqD,YAAY;AAC7D,YAAI,KAAK1F,OAAL,CAAapC,WAAb,CAAyB,KAAKhB,EAA9B,EAAkCA,EAAlC,IAAwC,IAA5C,EAAkD;AAC9CiJ,iBAAO,CAACC,IAAR,CAAa,qDAAqD,KAAKlJ,EAA1D,GAA+D,qDAA5E;AACH;AACJ,OAJD;AAKA;;;;;;;AAKAwH,iCAA2B,CAAC5H,SAA5B,CAAsC0I,eAAtC,GAAwD,YAAY;AAChE,YAAIH,KAAK,GAAG,IAAZ;;AACA,YAAIY,IAAI,GAAG,KAAK3F,OAAL,CAAapC,WAAb,CAAyB,KAAKhB,EAA9B,CAAX;AACA,YAAImJ,oBAAoB,GAAG,KAAKC,oBAAL,CAA0BL,IAA1B,CAA3B;;AACA,YAAII,oBAAoB,KAAKJ,IAAI,CAAC1I,WAAlC,EAA+C;AAC3CgJ,oBAAU,CAAC,YAAY;AACnBlB,iBAAK,CAACpC,oBAAN,CAA2BlF,IAA3B,CAAgCsI,oBAAhC;;AACAhB,iBAAK,CAAC7I,KAAN,GAAc6I,KAAK,CAACmB,eAAN,CAAsBP,IAAI,CAAC1I,WAA3B,EAAwC0I,IAAI,CAACnI,YAA7C,EAA2DmI,IAAI,CAACpI,UAAhE,EAA4EwH,KAAK,CAACtC,OAAlF,CAAd;AACH,WAHS,CAAV;AAIH,SALD,MAMK;AACD,eAAKvG,KAAL,GAAa,KAAKgK,eAAL,CAAqBP,IAAI,CAAC1I,WAA1B,EAAuC0I,IAAI,CAACnI,YAA5C,EAA0DmI,IAAI,CAACpI,UAA/D,EAA2E,KAAKkF,OAAhF,CAAb;AACH;AACJ,OAbD;AAcA;;;;;;AAIA2B,iCAA2B,CAAC5H,SAA5B,CAAsCwJ,oBAAtC,GAA6D,UAAUrJ,QAAV,EAAoB;AAC7E,YAAIwJ,UAAU,GAAG9I,IAAI,CAACC,IAAL,CAAUX,QAAQ,CAACY,UAAT,GAAsBZ,QAAQ,CAACa,YAAzC,CAAjB;;AACA,YAAI2I,UAAU,GAAGxJ,QAAQ,CAACM,WAAtB,IAAqC,IAAIkJ,UAA7C,EAAyD;AACrD,iBAAOA,UAAP;AACH,SAFD,MAGK,IAAIxJ,QAAQ,CAACM,WAAT,GAAuB,CAA3B,EAA8B;AAC/B,iBAAO,CAAP;AACH;;AACD,eAAON,QAAQ,CAACM,WAAhB;AACH,OATD;AAUA;;;;;AAGAmH,iCAA2B,CAAC5H,SAA5B,CAAsC0J,eAAtC,GAAwD,UAAUjJ,WAAV,EAAuBO,YAAvB,EAAqCD,UAArC,EAAiD6I,eAAjD,EAAkE;AACtH;AACAA,uBAAe,GAAG,CAACA,eAAnB;AACA,YAAIlK,KAAK,GAAG,EAAZ,CAHsH,CAItH;AACA;;AACA,YAAIiK,UAAU,GAAG9I,IAAI,CAACgJ,GAAL,CAAShJ,IAAI,CAACC,IAAL,CAAUC,UAAU,GAAGC,YAAvB,CAAT,EAA+C,CAA/C,CAAjB;AACA,YAAI8I,OAAO,GAAGjJ,IAAI,CAACC,IAAL,CAAU8I,eAAe,GAAG,CAA5B,CAAd;AACA,YAAIG,OAAO,GAAGtJ,WAAW,IAAIqJ,OAA7B;AACA,YAAIE,KAAK,GAAGL,UAAU,GAAGG,OAAb,GAAuBrJ,WAAnC;AACA,YAAIwJ,QAAQ,GAAG,CAACF,OAAD,IAAY,CAACC,KAA5B;AACA,YAAIE,cAAc,GAAGN,eAAe,GAAGD,UAAvC;AACA,YAAInI,CAAC,GAAG,CAAR;;AACA,eAAOA,CAAC,IAAImI,UAAL,IAAmBnI,CAAC,IAAIoI,eAA/B,EAAgD;AAC5C,cAAIxL,KAAK,GAAG,KAAK,CAAjB;AACA,cAAI+L,UAAU,GAAG,KAAKC,mBAAL,CAAyB5I,CAAzB,EAA4Bf,WAA5B,EAAyCmJ,eAAzC,EAA0DD,UAA1D,CAAjB;AACA,cAAIU,qBAAqB,GAAI7I,CAAC,KAAK,CAAN,KAAYyI,QAAQ,IAAID,KAAxB,CAA7B;AACA,cAAIM,qBAAqB,GAAI9I,CAAC,KAAKoI,eAAe,GAAG,CAAxB,KAA8BK,QAAQ,IAAIF,OAA1C,CAA7B;;AACA,cAAIG,cAAc,KAAKG,qBAAqB,IAAIC,qBAA9B,CAAlB,EAAwE;AACpElM,iBAAK,GAAG,KAAR;AACH,WAFD,MAGK;AACDA,iBAAK,GAAG+L,UAAR;AACH;;AACDzK,eAAK,CAAC6K,IAAN,CAAW;AACPnM,iBAAK,EAAEA,KADA;AAEPH,iBAAK,EAAEkM;AAFA,WAAX;AAIA3I,WAAC;AACJ;;AACD,eAAO9B,KAAP;AACH,OA/BD;AAgCA;;;;;;AAIAkI,iCAA2B,CAAC5H,SAA5B,CAAsCoK,mBAAtC,GAA4D,UAAU5I,CAAV,EAAaf,WAAb,EAA0BmJ,eAA1B,EAA2CD,UAA3C,EAAuD;AAC/G,YAAIG,OAAO,GAAGjJ,IAAI,CAACC,IAAL,CAAU8I,eAAe,GAAG,CAA5B,CAAd;;AACA,YAAIpI,CAAC,KAAKoI,eAAV,EAA2B;AACvB,iBAAOD,UAAP;AACH,SAFD,MAGK,IAAInI,CAAC,KAAK,CAAV,EAAa;AACd,iBAAOA,CAAP;AACH,SAFI,MAGA,IAAIoI,eAAe,GAAGD,UAAtB,EAAkC;AACnC,cAAIA,UAAU,GAAGG,OAAb,GAAuBrJ,WAA3B,EAAwC;AACpC,mBAAOkJ,UAAU,GAAGC,eAAb,GAA+BpI,CAAtC;AACH,WAFD,MAGK,IAAIsI,OAAO,GAAGrJ,WAAd,EAA2B;AAC5B,mBAAOA,WAAW,GAAGqJ,OAAd,GAAwBtI,CAA/B;AACH,WAFI,MAGA;AACD,mBAAOA,CAAP;AACH;AACJ,SAVI,MAWA;AACD,iBAAOA,CAAP;AACH;AACJ,OAtBD;;AAuBA4G,kBAAY,CAAC,CACT,6DADS,EAETC,YAAY,CAAC,aAAD,EAAgB1B,MAAhB,CAFH,CAAD,EAGTiB,2BAA2B,CAAC5H,SAHnB,EAG8B,IAH9B,EAGoC,KAAK,CAHzC,CAAZ;;AAIAoI,kBAAY,CAAC,CACT,6DADS,EAETC,YAAY,CAAC,aAAD,EAAgBhF,MAAhB,CAFH,CAAD,EAGTuE,2BAA2B,CAAC5H,SAHnB,EAG8B,SAH9B,EAGyC,KAAK,CAH9C,CAAZ;;AAIAoI,kBAAY,CAAC,CACT,8DADS,EAETC,YAAY,CAAC,aAAD,EAAgB,0DAAhB,CAFH,CAAD,EAGTT,2BAA2B,CAAC5H,SAHnB,EAG8B,YAH9B,EAG4C,KAAK,CAHjD,CAAZ;;AAIAoI,kBAAY,CAAC,CACT,8DADS,EAETC,YAAY,CAAC,aAAD,EAAgB,0DAAhB,CAFH,CAAD,EAGTT,2BAA2B,CAAC5H,SAHnB,EAG8B,sBAH9B,EAGsD,KAAK,CAH3D,CAAZ;;AAIA4H,iCAA2B,GAAGQ,YAAY,CAAC,CAAEC,YAAY,CAAC,mBAAD,EAAsB,CAACzI,iBAAD,EACvE,+DADuE,CAAtB,CAAd,CAAD,EAEvCgI,2BAFuC,CAA1C;;AAGJA,iCAA2B,CAAClG,IAA5B,GAAmC,SAAS8I,mCAAT,CAA6C5I,CAA7C,EAAgD;AAAE,eAAO,KAAKA,CAAC,IAAIgG,2BAAV,EAAuC,gEAAyBhI,iBAAzB,CAAvC,EAAoF,gEAAyB,+DAAzB,CAApF,CAAP;AAAiJ,OAAtO;;AACAgI,iCAA2B,CAAC6C,IAA5B,GAAmC,gEAAyB;AAAEjF,YAAI,EAAEoC,2BAAR;AAAqCb,iBAAS,EAAE,CAAC,CAAC,qBAAD,CAAD,EAA0B,CAAC,EAAD,EAAK,qBAAL,EAA4B,EAA5B,CAA1B,CAAhD;AAA4GC,cAAM,EAAE;AAAEf,iBAAO,EAAE,SAAX;AAAsB7F,YAAE,EAAE;AAA1B,SAApH;AAAsJ8G,eAAO,EAAE;AAAEhB,oBAAU,EAAE,YAAd;AAA4BC,8BAAoB,EAAE;AAAlD,SAA/J;AAA2OuE,gBAAQ,EAAE,CAAC,eAAD,CAArP;AAAwQC,gBAAQ,EAAE,CAAC,kEAAD;AAAlR,OAAzB,CAAnC;AACA;;AAAc,OAAC,YAAY;AAAE,wEAAyB/C,2BAAzB,EAAsD,CAAC;AAC5EpC,cAAI,EAAE,uDADsE;AAE5E5B,cAAI,EAAE,CAAC;AACCqE,oBAAQ,EAAE,2CADX;AAECyC,oBAAQ,EAAE;AAFX,WAAD;AAFsE,SAAD,CAAtD,EAMrB,YAAY;AAAE,iBAAO,CAAC;AAAElF,gBAAI,EAAE5F;AAAR,WAAD,EAA8B;AAAE4F,gBAAI,EAAE;AAAR,WAA9B,CAAP;AAA2E,SANpE,EAMsE;AAAES,iBAAO,EAAE,CAAC;AACnGT,gBAAI,EAAE;AAD6F,WAAD,CAAX;AAEvFU,oBAAU,EAAE,CAAC;AACbV,gBAAI,EAAE;AADO,WAAD,CAF2E;AAIvFW,8BAAoB,EAAE,CAAC;AACvBX,gBAAI,EAAE;AADiB,WAAD,CAJiE;AAMvFpF,YAAE,EAAE,CAAC;AACLoF,gBAAI,EAAE;AADD,WAAD;AANmF,SANtE;AAcb,OAdF;;AAeV,aAAOoC,2BAAP;AACH,KA5NgD,EAAjD;;AA8NA,QAAI1F,UAAU,GAAID,SAAS,IAAIA,SAAS,CAACC,UAAxB,IAAuC,UAAUC,UAAV,EAAsBZ,MAAtB,EAA8Ba,GAA9B,EAAmCC,IAAnC,EAAyC;AAC7F,UAAIC,CAAC,GAAGC,SAAS,CAACC,MAAlB;AAAA,UAA0BC,CAAC,GAAGH,CAAC,GAAG,CAAJ,GAAQf,MAAR,GAAiBc,IAAI,KAAK,IAAT,GAAgBA,IAAI,GAAGK,MAAM,CAACC,wBAAP,CAAgCpB,MAAhC,EAAwCa,GAAxC,CAAvB,GAAsEC,IAArH;AAAA,UAA2HO,CAA3H;AACA,UAAI,OAAOC,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAO,CAACC,QAAf,KAA4B,UAA/D,EAA2EL,CAAC,GAAGI,OAAO,CAACC,QAAR,CAAiBX,UAAjB,EAA6BZ,MAA7B,EAAqCa,GAArC,EAA0CC,IAA1C,CAAJ,CAA3E,KACK,KAAK,IAAIb,CAAC,GAAGW,UAAU,CAACK,MAAX,GAAoB,CAAjC,EAAoChB,CAAC,IAAI,CAAzC,EAA4CA,CAAC,EAA7C,EAAiD,IAAIoB,CAAC,GAAGT,UAAU,CAACX,CAAD,CAAlB,EAAuBiB,CAAC,GAAG,CAACH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACH,CAAD,CAAT,GAAeH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACrB,MAAD,EAASa,GAAT,EAAcK,CAAd,CAAT,GAA4BG,CAAC,CAACrB,MAAD,EAASa,GAAT,CAA7C,KAA+DK,CAAnE;AAC7E,aAAOH,CAAC,GAAG,CAAJ,IAASG,CAAT,IAAcC,MAAM,CAACK,cAAP,CAAsBxB,MAAtB,EAA8Ba,GAA9B,EAAmCK,CAAnC,CAAd,EAAqDA,CAA5D;AACH,KALD;;AAMA,QAAImI,mBAAmB;AAAG;AAAe,gBAAY;AACjD,eAASA,mBAAT,GAA+B,CAC9B;;AACLA,yBAAmB,CAACC,IAApB,GAA2B,+DAAwB;AAAErF,YAAI,EAAEoF;AAAR,OAAxB,CAA3B;AACAA,yBAAmB,CAACE,IAApB,GAA2B,+DAAwB;AAAE/I,eAAO,EAAE,SAASgJ,2BAAT,CAAqCnJ,CAArC,EAAwC;AAAE,iBAAO,KAAKA,CAAC,IAAIgJ,mBAAV,GAAP;AAA0C,SAA/F;AAAiGI,iBAAS,EAAE,CAACpL,iBAAD,CAA5G;AAAiIqL,eAAO,EAAE,CAAC,CAAC,4DAAD,CAAD;AAA1I,OAAxB,CAA3B;;AACA,OAAC,YAAY;AAAE,SAAC,OAAOC,SAAP,KAAqB,WAArB,IAAoCA,SAArC,KAAmD,iEAA0BN,mBAA1B,EAA+C;AAAEO,sBAAY,EAAE,wBAAY;AAAE,mBAAO,CAAC5H,YAAD,EAC9IyC,2BAD8I,EAE9I4B,2BAF8I,CAAP;AAExG,WAF0E;AAExEqD,iBAAO,EAAE,mBAAY;AAAE,mBAAO,CAAC,4DAAD,CAAP;AAAwB,WAFyB;AAEvBG,iBAAO,EAAE,mBAAY;AAAE,mBAAO,CAAC7H,YAAD,EAChHyC,2BADgH,EAEhH4B,2BAFgH,CAAP;AAE1E;AAJ0E,SAA/C,CAAnD;AAI8B,OAJ7C;AAKA;;;AAAc,OAAC,YAAY;AAAE,wEAAyBgD,mBAAzB,EAA8C,CAAC;AACpEpF,cAAI,EAAE,sDAD8D;AAEpE5B,cAAI,EAAE,CAAC;AACCqH,mBAAO,EAAE,CAAC,4DAAD,CADV;AAECE,wBAAY,EAAE,CACV5H,YADU,EAEVyC,2BAFU,EAGV4B,2BAHU,CAFf;AAOCoD,qBAAS,EAAE,CAACpL,iBAAD,CAPZ;AAQCwL,mBAAO,EAAE,CAAC7H,YAAD,EAAeyC,2BAAf,EAA4C4B,2BAA5C;AARV,WAAD;AAF8D,SAAD,CAA9C,EAYrB,YAAY;AAAE,iBAAO,EAAP;AAAY,SAZL,EAYO,IAZP;AAYe,OAZ9B;;AAaV,aAAOgD,mBAAP;AACH,KAxBwC,EAAzC;AA0BA;;;AAMA;;;;;;;;;;;;;;;;;;ACj1BA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAgBaS,iB;AA4DX,iCACUC,aADV,EAEUC,eAFV,EAGUC,aAHV,EAIUC,WAJV,EAKUC,KALV,EAMUC,MANV,EAMwB;AAAA;;AALd,aAAAL,aAAA,GAAAA,aAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AACA,aAAAC,aAAA,GAAAA,aAAA;AACA,aAAAC,WAAA,GAAAA,WAAA;AACA,aAAAC,KAAA,GAAAA,KAAA;AACA,aAAAC,MAAA,GAAAA,MAAA;AA/DV,aAAAC,OAAA,GAA+B;AAC7BC,kBAAQ,EAAE,IADmB;AAE7BC,oBAAU,EAAE,IAFiB;AAG7BC,mBAAS,EAAE,OAHkB;AAI7BC,mBAAS,EAAE,MAJkB;AAK7BC,qBAAW,EAAE,eALgB;AAM7BC,mBAAS,EAAE,IANkB;AAO7BC,kBAAQ,EAAE,KAPmB;AAQ7B;AACAC,iBAAO,EAAE,IAToB;AAU7B;AACA;AACA;AACAC,mCAAyB,EAAE,GAbE;AAc7BC,uBAAa,EAAE,CACb;AACE/G,gBAAI,EAAE,OADR;AAEE,qBAAO;AAFT,WADa,EAKb;AACEA,gBAAI,EAAE,SADR;AAEE,qBAAO;AAFT,WALa,EASb;AACEA,gBAAI,EAAE,aADR;AAEE,qBAAO;AAFT,WATa,EAab;AACEA,gBAAI,EAAE,YADR;AAEE,qBAAO;AAFT,WAba,EAiBb;AACEA,gBAAI,EAAE,YADR;AAEE,qBAAO;AAFT,WAjBa,EAqBb;AACEA,gBAAI,EAAE,WADR;AAEE,qBAAO;AAFT,WArBa,EAyBb;AACEA,gBAAI,EAAE,WADR;AAEE,qBAAO,WAFT;AAGEgH,eAAG,EAAE;AAHP,WAzBa,CAdc;AA6C7BC,8BAAoB,EAAE,CACpB;AACA;AAFoB,WA7CO;AAiD3BC,0BAAgB,EAAE,CAjDS;AAkD7BC,gCAAsB,EAAE;AAlDK,SAA/B;AAuDA,aAAAC,QAAA,GAAqB,KAArB;AAYA,aAAAC,IAAA,GAAO,EAAP;AAFC;;;;eAGD,oBAAQ;AAAA;;AAEN,eAAKC,UAAL;AAEA,eAAKnB,KAAL,CAAWoB,QAAX,CAAoBrE,SAApB,CAA8B,UAACsE,MAAD,EAAY;AACxC,kBAAI,CAACC,MAAL,GAAcD,MAAM,CAACxG,GAAP,CAAW,QAAX,CAAd;;AACA,gBAAI,MAAI,CAACyG,MAAT,EAAiB;AACf,oBAAI,CAACL,QAAL,GAAgB,IAAhB;;AACA,oBAAI,CAACM,aAAL,CAAmB,MAAI,CAACD,MAAxB;AACD;AACF,WAND;AASD;;;eAED,uBAAcA,MAAd,EAA4B;AAAA;;AAC1B,eAAKvB,WAAL,CAAiBwB,aAAjB,CAA+BD,MAA/B,EAAuCvE,SAAvC,CAAiD,UAACyE,IAAD,EAAU;AACzD,kBAAI,CAACC,mBAAL,CAAyBD,IAAzB;AACD,WAFD;AAGD;;;eAED,sBAAU;AACR,eAAKE,QAAL,GAAgB,IAAI,wDAAJ,CAAc;AAC5BC,iBAAK,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,0DAAW1I,QAA/B,CADqB;AAE5B2I,mBAAO,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,0DAAW3I,QAA/B,CAFmB;AAG5B4I,oBAAQ,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,0DAAW5I,QAA/B,CAHkB;AAI5B6I,uBAAW,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,0DAAW7I,QAA/B,CAJe;AAK5B8I,kBAAM,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,0DAAW9I,QAA/B;AALoB,WAAd,CAAhB;AAOD;;;eAED,6BAAoB+I,UAApB,EAAgC;AAC9B,eAAKV,MAAL,GAAcU,UAAU,CAAC5J,GAAzB;AACA,eAAKsJ,QAAL,CAAcO,QAAd,CAAuB;AACrBN,iBAAK,EAAEK,UAAU,CAACL,KADG;AAErBC,mBAAO,EAAEI,UAAU,CAACJ,OAFC;AAGrBC,oBAAQ,EAAEG,UAAU,CAACH,QAHA;AAIrBE,kBAAM,EAAEC,UAAU,CAACD,MAJE;AAKrBD,uBAAW,EAAEE,UAAU,CAACF,WAAX,IAA0B;AALlB,WAAvB;AAQD;;;eAED,kBAAM;AACJ,eAAKlC,aAAL,CAAmBsC,OAAnB,CAA2B,IAA3B;;AACA,cAAI,CAAC,KAAKR,QAAL,CAAcS,KAAnB,EAA0B;AACxB;AACD;;AAED,cAAI,KAAKlB,QAAT,EAAmB;AACjB,iBAAKmB,MAAL,CAAY,KAAKV,QAAL,CAAcnP,KAA1B,EADiB,CACiB;AACnC,WAFD,MAEO;AACL,iBAAK8P,GAAL,CAAS,KAAKX,QAAL,CAAcnP,KAAvB,EADK,CAC0B;AAChC;AACF;;;eAED,gBAAO+P,IAAP,EAAW;AAAA;;AACT,eAAK1C,aAAL,CAAmBsC,OAAnB,CAA2B,IAA3B;AACA,eAAKnC,WAAL,CAAiBwC,WAAjB,CAA6B,KAAKjB,MAAlC,EAA0CgB,IAA1C,EAAgDvF,SAAhD,CAA0D,UAAAyF,WAAW,EAAI;AAEvE,kBAAI,CAAC5C,aAAL,CAAmBsC,OAAnB,CAA2B,KAA3B;;AACA,kBAAI,CAACrC,eAAL,CAAqB4C,MAArB,CAA4B,SAA5B,EAAuC,4BAAvC;;AACA,kBAAI,CAACC,yBAAL,CAA+BF,WAA/B;AACD,WALD,EAKG,UAACG,KAAD,EAAW,CAEb,CAPD;AAQD;;;eAED,aAAIL,IAAJ,EAAQ;AAAA;;AACN,eAAKvC,WAAL,CAAiB6C,QAAjB,CAA0BN,IAA1B,EAAgCvF,SAAhC,CAA0C,UAAA8F,OAAO,EAAI;AACnD,kBAAI,CAACjD,aAAL,CAAmBsC,OAAnB,CAA2B,KAA3B;;AACA,kBAAI,CAACrC,eAAL,CAAqB4C,MAArB,CAA4B,SAA5B,EAAuC,0BAAvC;;AACA,kBAAI,CAACC,yBAAL,CAA+BG,OAA/B;AACD,WAJD;AAKD;;;eAED,mCAA0BP,IAA1B,EAAgC;AAC9B;AACA,eAAKrC,MAAL,CAAY6C,QAAZ,CAAqB,CAAC,QAAD,CAArB,EAF8B,CAG9B;AACA;AACD;;;eAED,kBAASC,KAAT,EAAgB,CAAE;;;eAClB,gBAAOA,KAAP,EAAc,CAAE;;;;;;;uBA3JLpD,iB,EAAiB,6J,EAAA,iI,EAAA,6J,EAAA,+I,EAAA,+H,EAAA,uH;AAAA,K;;;YAAjBA,iB;AAAiB,oC;AAAA;AAAA;oEACjB,oF,EAAsB,I;;;;;;;;;;;;;;ACjBnC;;AACI;;AACI;;AAA6C;;AAAQ;;AACzD;;AAEA;;AACG;;AAEK;;AACI;;AACI;;AAEI;;AAAsB;;AAAK;;AAC3B;;AACI;;AACJ;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AAAsB;;AAAQ;;AAC9B;;AACI;;AACJ;;AACJ;;AAEA;;AACI;;AAAsB;;AAAM;;AAC5B;;AACI;;AACJ;;AACJ;;AACA;;AACI;;AAAsB;;AAAY;;AAClC;;AACI;;AACA;;AAAA;;AACJ;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AAAsB;;AAAO;;AAC7B;;AACI;;AAWJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AAA8D;AAAA,mBAAW,IAAAqD,MAAA,EAAX;AAAmB,WAAnB;;AAAkD;;AAAI;;AACpH;;AACoB;;AAAM;;AAC9B;;AACJ;;AACJ;;AACJ;;AAEJ;;AACJ;;;;AArEa;;AAAA;;AAgDe;;AAAA;;AAY+E;;AAAA;;;;;;;;;sEDlD9FrD,iB,EAAiB;cAN7B,uDAM6B;eANnB;AACTpD,kBAAQ,EAAE,eADD;AAET0G,qBAAW,EAAE,4BAFJ;AAGTC,mBAAS,EAAE,CAAC,4BAAD;AAHF,S;AAMmB,Q;;;;;;;;;;;;;;;;gBAC3B,uD;iBAAU,oF;;;;;;;;;;;;;;;;;;;;AEjBb;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACmBY;;AACI;;AAAsB;;AAAY;;AAClC;;AACJ;;;;;;AADI;;AAAA;;;;QDZHC,oB;AAMX,oCACUnD,KADV,EAEUD,WAFV,EAEkC;AAAA;;AADxB,aAAAC,KAAA,GAAAA,KAAA;AACA,aAAAD,WAAA,GAAAA,WAAA;AANV,aAAAuB,MAAA,GAAiB,EAAjB;AACA,aAAA8B,QAAA,GAAmB,EAAnB;AACA,aAAA5B,IAAA,GAAY,EAAZ;AAKK;;;;eAEL,oBAAQ;AAAA;;AACN,eAAKxB,KAAL,CAAWoB,QAAX,CAAoBrE,SAApB,CAA8B,UAACsE,MAAD,EAAY;AACxC,kBAAI,CAACC,MAAL,GAAcD,MAAM,CAACxG,GAAP,CAAW,QAAX,CAAd;AACA,kBAAI,CAACuI,QAAL,GAAgB/B,MAAM,CAACxG,GAAP,CAAW,UAAX,CAAhB;;AACA,gBAAI,MAAI,CAACyG,MAAT,EAAiB;AACf,oBAAI,CAACC,aAAL,CAAmB,MAAI,CAACD,MAAxB;AACD;AACF,WAND;AAOD;;;eAED,uBAAcA,MAAd,EAA4B;AAAA;;AAC1B,eAAKvB,WAAL,CAAiBwB,aAAjB,CAA+BD,MAA/B,EAAuCvE,SAAvC,CAAiD,UAACyE,IAAD,EAAU;AAEzD,kBAAI,CAACA,IAAL,GAAYA,IAAZ;AACD,WAHD;AAID;;;;;;;uBA1BU2B,oB,EAAoB,+H,EAAA,+I;AAAA,K;;;YAApBA,oB;AAAoB,uC;AAAA,e;AAAA,a;AAAA,0a;AAAA;AAAA;ACTjC;;AACI;;AACI;;AAAwC;;AAAe;;AAC3D;;AACA;;AACA;;AACI;;AACI;;AACI;;AACI;;AAAwB;;AAAS;;AAAQ;;AAC7C;;AACA;;AACI;;AAAwB;;AAAO;;AAAQ;;AAC3C;;AACJ;;AAIA;;AACA;;AAIJ;;AACJ;;AACJ;;;;AAvBgD;;AAAA;;AAOa;;AAAA;;AAGF;;AAAA;;AAMe;;AAAA;;AACzD;;AAAA;;;;;;;;;sEDVJA,oB,EAAoB;cALhC,uDAKgC;eALtB;AACT5G,kBAAQ,EAAE,kBADD;AAET0G,qBAAW,EAAE,+BAFJ;AAGTC,mBAAS,EAAE,CAAC,+BAAD;AAHF,S;AAKsB,Q;;;;;;;;;;;;;;;;;;;;;;;;AETjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;AC6LgC;;AAEI;;AAAsB;AAAA;;AAAA;;AAAA;AAAA;;;;AAAtB;;AAEJ;;;;;;;;;AAHwD;;AAEhD;;AAAA;;;;QDlL3BG,wB;AAIX,wCACUC,eADV,EAEUC,WAFV,EAEkC;AAAA;;AADxB,aAAAD,eAAA,GAAAA,eAAA;AACA,aAAAC,WAAA,GAAAA,WAAA;AALV,aAAAC,aAAA,GAAgB,EAAhB;AACA,aAAAC,yBAAA,GAA4B,EAA5B;AAOA,aAAAvC,IAAA,GAAO,EAAP;AAiDA,aAAAwC,YAAA,GAAe,EAAf;AAEA,aAAAxD,OAAA,GAA+B;AAC7BC,kBAAQ,EAAE,IADmB;AAE7BC,oBAAU,EAAE,IAFiB;AAG7BC,mBAAS,EAAE,MAHkB;AAI7BC,mBAAS,EAAE,MAJkB;AAK7BC,qBAAW,EAAE,oBALgB;AAM7BC,mBAAS,EAAE,IANkB;AAO7BC,kBAAQ,EAAE,KAPmB;AAQ7B;AACAC,iBAAO,EAAE,IAToB;AAU7BiD,yBAAe,EAAE,eAVY;AAW7BC,yBAAe,EAAE,GAXY;AAY7B;AACAjD,mCAAyB,EAAE,GAbE;AAc7BC,uBAAa,EAAE,CACb;AACE/G,gBAAI,EAAE,OADR;AAEE,qBAAO;AAFT,WADa,EAKb;AACEA,gBAAI,EAAE,SADR;AAEE,qBAAO;AAFT,WALa,EASb;AACEA,gBAAI,EAAE,WADR;AAEE,qBAAO,WAFT;AAGEgH,eAAG,EAAE;AAHP,WATa,CAdc;AA6B7BC,8BAAoB,EAAE,CACpB,CAAC,MAAD,EAAS,QAAT,CADoB,EAEpB,CAAC,UAAD,CAFoB;AA7BO,SAA/B;AArDK;;;;eAIL,mBAAUiC,KAAV,EAAwB;AACtBA,eAAK,CAACc,cAAN;AACD;;;eAED,cAAKd,KAAL,EAAuB;AACrBA,eAAK,CAACe,YAAN,CAAoBC,OAApB,CAA4B,MAA5B,EAAqChB,KAAK,CAACiB,aAAN,CAAoB,eAApB,EAAqDtP,EAA1F;AACD;;;eAED,cAAKqO,KAAL,EAAuB;AACrBA,eAAK,CAACc,cAAN;AACA,cAAMvB,IAAI,GAAGS,KAAK,CAACe,YAAN,CAAoBG,OAApB,CAA4B,MAA5B,CAAb;AACA,cAAMC,QAAQ,GAAGnB,KAAK,CAAClN,MAAvB;AACAqO,kBAAQ,CAACC,WAAT,CAAqBC,QAAQ,CAACC,cAAT,CAAwB/B,IAAxB,CAArB;AACD,S,CAED;;;;eACA,sBAAagC,CAAb,EAAqB;AAAA;;AACnB,cAAIA,CAAC,CAACzO,MAAF,CAAS0O,KAAb,EAAoB;AAClB,iBAAK,IAAIzO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwO,CAAC,CAACzO,MAAF,CAAS0O,KAAT,CAAezN,MAAnC,EAA2ChB,CAAC,EAA5C,EAAgD;AAC9C,kBAAI0O,MAAM,GAAG,IAAIC,UAAJ,EAAb;AACAD,oBAAM,CAACE,aAAP,CAAqBJ,CAAC,CAACzO,MAAF,CAAS0O,KAAT,CAAezO,CAAf,CAArB;;AACA0O,oBAAM,CAACG,MAAP,GAAgB,UAACC,MAAD,EAAiB;AAC/B,sBAAI,CAAC1D,IAAL,CAAUrC,IAAV,CAAe+F,MAAM,CAAC/O,MAAP,CAAcgP,MAA7B;AACD,eAFD;AAGD;AACF;AACF;;;eAED,oCAA2BC,IAA3B,EAAiC;AAC/B,cAAIC,MAAM,GAAGC,GAAG,CAACC,eAAJ,CAAoBH,IAApB,CAAb;AACA,eAAKrB,yBAAL,CAA+B5E,IAA/B,CAAoCkG,MAApC;AACD;;;eAED,kBAAShC,KAAT,EAAgB;AACd,eAAKS,aAAL,GAAqB,EAArB;;AACA,eAAK,IAAI1N,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiN,KAAK,CAAClN,MAAN,CAAa0O,KAAb,CAAmBzN,MAAvC,EAA+ChB,CAAC,EAAhD,EAAoD;AAClD,iBAAK0N,aAAL,CAAmB3E,IAAnB,CAAwBkE,KAAK,CAAClN,MAAN,CAAa0O,KAAb,CAAmBzO,CAAnB,CAAxB;AACA,iBAAKoP,0BAAL,CAAgCnC,KAAK,CAAClN,MAAN,CAAa0O,KAAb,CAAmBzO,CAAnB,CAAhC,EAFkD,CAGlD;AACD;AACF;;;eA4CD,oBAAQ,CAEP;;;eAED,kBAASiN,KAAT,EAAgB;AAEd,eAAKoC,aAAL,GAFc,CAEQ;AACvB;;;eAED,gBAAOpC,KAAP,EAAc,CAEb;;;eAED,yBAAgB;AAGd,cAAMqC,MAAM,GAAGhB,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAf;AAGA,cAAMgB,MAAM,GAAGD,MAAM,CAACE,oBAAP,CAA4B,KAA5B,CAAf;AAGA,cAAMC,UAAU,GAAGpN,KAAK,CAACqN,IAAN,CAAWH,MAAX,CAAnB;;AAEA,yCAAoBE,UAApB,iCAAgC;AAA3B,gBAAME,KAAK,kBAAX;AACHA,iBAAK,CAACC,SAAN,CAAgBrD,GAAhB,CAAoB,qBAApB;AACA,iBAAKsD,aAAL,CAAmBF,KAAnB,EAF8B,CAEH;AAC5B;AACF;;;eAED,uBAAcA,KAAd,EAAuC;AACrC;AACAA,eAAK,CAACG,gBAAN,CAAuB,WAAvB,EAAoC,UAACtB,CAAD,EAAO;AACzCA,aAAC,CAACT,cAAF;AACA,gBAAMgC,YAAY,GAAGJ,KAAK,CAACK,WAA3B;AACA,gBAAMC,aAAa,GAAGN,KAAK,CAACO,YAA5B;AACA,gBAAMC,MAAM,GAAG3B,CAAC,CAAC4B,OAAjB;AACA,gBAAMC,MAAM,GAAG7B,CAAC,CAAC8B,OAAjB;;AAEA,gBAAMC,MAAM,GAAG,SAATA,MAAS,CAAC/B,CAAD,EAAO;AACpB,kBAAMgC,KAAK,GAAGT,YAAY,GAAGvB,CAAC,CAAC4B,OAAjB,GAA2BD,MAAzC;AACA,kBAAMM,MAAM,GAAGR,aAAa,GAAGzB,CAAC,CAAC8B,OAAlB,GAA4BD,MAA3C;AACAV,mBAAK,CAACe,KAAN,CAAYF,KAAZ,aAAuBA,KAAvB;AACAb,mBAAK,CAACe,KAAN,CAAYD,MAAZ,aAAwBA,MAAxB;AACD,aALD;;AAOA,gBAAME,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBC,oBAAM,CAACC,mBAAP,CAA2B,WAA3B,EAAwCN,MAAxC;AACAK,oBAAM,CAACC,mBAAP,CAA2B,SAA3B,EAAsCF,UAAtC;AACD,aAHD;;AAKAC,kBAAM,CAACd,gBAAP,CAAwB,WAAxB,EAAqCS,MAArC;AACAK,kBAAM,CAACd,gBAAP,CAAwB,SAAxB,EAAmCa,UAAnC;AACD,WArBD;AAsBD;;;;;;;uBArJUpD,wB,EAAwB,yJ,EAAA,2H;AAAA,K;;;YAAxBA,wB;AAAwB,4C;AAAA,kFAFxB,CAAC,wFAAD,CAEwB,E;AAFH,gB;AAAA,a;AAAA,+mF;AAAA;AAAA;ACZlC;;AACI;;AACI;;AACI;;AACI;;AAAyB;;AAAK;;AAClC;;AAEA;;AACI;;AAEI;;AACI;;AAA6B;AAAA;AAAA,aAA0B,eAA1B,EAA0B;AAAA,mBAClC,IAAAuD,QAAA,QADkC;AAClB,WADR,EAA0B,MAA1B,EAA0B;AAAA,mBACR,IAAAC,MAAA,QADQ;AACM,WADhC;;AAE7B;;AACA;;AACI;;AACJ;;AACJ;;AAIA;;AAAsC;AAAA,mBAAY,IAAAC,SAAA,QAAZ;AAA6B,WAA7B,EAA8B,MAA9B,EAA8B;AAAA,mBAAS,IAAAC,IAAA,QAAT;AAAqB,WAAnD;;AAClC;;AACqB;AAAA,mBAAa,IAAAC,IAAA,QAAb;AAAyB,WAAzB;;AACjB;;AACJ;;AAEA;;AACI;;AAIJ;;AACA;;AACI;;AAA2B;;AAA3B;;AACA;;AACI;;AAA+B;;AAAY;;AAD/C;;AAGA;;AACI;;AAA+B;;AAAmC;;AAElE;;AAAkC;;AAkBvB;;AAEX;;AAAwB;;AAA0B;;AAClD;;AACI;;AACqB;AAAA,mBAAa,IAAAA,IAAA,QAAb;AAAyB,WAAzB;;AACjB;;AAEJ;;AAEA;;AAA2B;;AAgBoC;;AACnE;;AAEA;;AACI;;AAAwB;;AAAsB;;AAC9C;;AAA2B;;AAgBoC;;AACnE;;AAEA;;AACI;;AAAwB;;AAAuB;;AAE/C;;AACqB;AAAA,mBAAa,IAAAA,IAAA,QAAb;AAAyB,WAAzB;;AACjB;;AAEJ;;AAEA;;AAA2B;;AAUc;;AAEzC;;AAA+B;;AAAqB;;AACpD;;AACI;;AAAI;;AAA8B;;AAClC;;AAAI;;AAAkD;;AACtD;;AAAI;;AAAc;;AAClB;;AAAI;;AAAoB;;AAC5B;;AACJ;;AAEA;;AACI;;AAAwB;;AAAsC;;AAC9D;;AAA2B;;AACmD;;AAE9E;;AAA+B;;AAAW;;AAAsB;;AAAI;;AAEpE;;AACqB;AAAA,mBAAa,IAAAA,IAAA,QAAb;AAAyB,WAAzB;;AACjB;;AAEJ;;AAEA;;AAA2B;;AAeqC;;AAEpE;;AACJ;;AACJ;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AAAG;;AAAS;;AAChB;;AACA;;AACI;;AACI;;AAAmB;AAAA,mBAAU,IAAAC,QAAA,QAAV;AAA0B,WAA1B;;AAAnB;;AACA;;AACJ;;AACJ;;AACA;;AACI;;AAGA;;AAKJ;;AACJ;;AACJ;;AAEJ;;AAGA;;AACI;;AACI;;AAA2B;;AAAgB;;AAC3C;;AACI;;AAAI;;AAAoC;;AAAoB;;AAAI;;AAChE;;AAAI;;AAAoC;;AAA2B;;AAAI;;AACvE;;AAAI;;AAAoC;;AAAuB;;AAAI;;AACnE;;AAAI;;AAAoC;;AAA2B;;AAAI;;AACvE;;AAAI;;AAAoC;;AAAa;;AAAI;;AAC7D;;AACJ;;AAEA;;AAA2B;;AAAY;;AACvC;;AACI;;AACI;;AACI;;AAEJ;;AACJ;;AACA;;AACI;;AAAsB;;AAA2D;;AAEjF;;AAAuC;;AAAY;;AACvD;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AAEJ;;AACJ;;AACA;;AACI;;AAAsB;;AAAyD;;AAE/E;;AAAuC;;AAAY;;AACvD;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AAEJ;;AACJ;;AACA;;AACI;;AAAsB;;AAA0D;;AAEhF;;AAAuC;;AAAY;;AACvD;;AACJ;;AAEA;;AACI;;AACI;;AACI;;AAEJ;;AACJ;;AACA;;AACI;;AAAsB;;AAA2D;;AAEjF;;AAAuC;;AAAY;;AACvD;;AACJ;;AAEJ;;AACJ;;AACJ;;AAEJ;;AAEJ;;;;AAzQqD;;AAAA,gGAA0B,QAA1B,EAA0B,WAA1B;;AAIzB;;AAAA;;AA2KI;;AAAA;;AAII;;AAAA;;;;;;;;;;sEDhLvB5D,wB,EAAwB;cANpC,uDAMoC;eAN1B;AACT9G,kBAAQ,EAAE,uBADD;AAET0G,qBAAW,EAAE,oCAFJ;AAGTC,mBAAS,EAAE,CAAC,oCAAD,CAHF;AAIT5D,mBAAS,EAAE,CAAC,wFAAD;AAJF,S;AAM0B,Q;;;;;;;;;;;;;;;;;;;;;;;;AEdrC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAQA,QAAM4H,MAAM,GAAW,CACrB;AAAEC,UAAI,EAAE,EAAR;AAAYC,eAAS,EAAE;AAAvB,KADqB,EAErB;AAAED,UAAI,EAAE,KAAR;AAAeC,eAAS,EAAE;AAA1B,KAFqB,EAGrB;AAAED,UAAI,EAAE,cAAR;AAAwBC,eAAS,EAAE;AAAnC,KAHqB,EAIrB;AAAED,UAAI,EAAE,UAAR;AAAoBC,eAAS,EAAE;AAA/B,KAJqB,EAKrB;AAAED,UAAI,EAAE,mBAAR;AAA6BC,eAAS,EAAE;AAAxC,KALqB,CAAvB;;QAYaC,kB;;;;;YAAAA;;;;yBAAAA,kB;AAAkB,O;AAAA,gBAHpB,CAAC,6DAAaC,QAAb,CAAsBJ,MAAtB,CAAD,CAGoB,EAFnB,4DAEmB;;;;0HAAlBG,kB,EAAkB;AAAA;AAAA,kBAFnB,4DAEmB;AAAA,O;AAFP,K;;;;;sEAEXA,kB,EAAkB;cAJ9B,sDAI8B;eAJrB;AACR9H,iBAAO,EAAE,CAAC,6DAAa+H,QAAb,CAAsBJ,MAAtB,CAAD,CADD;AAERxH,iBAAO,EAAE,CAAC,4DAAD;AAFD,S;AAIqB,Q;;;;;;;;;;;;;;;;;;ACpB/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACEI;;AACI;;AACI;;AAAmF;;AAC1E;;AACb;;AACJ;;;;;;;;AAsBwB;;AAEI;;AAAA;;AAAK;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAED;;AAEJ;;AACA;;AAAA;;AAEA;;AAAA;;AAAK;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAID;;AAGJ;;AAEJ;;;;;;;;;;AAnChB;;AACI;;AACI;;AAEA;;AACI;;AAA8G;;AAAc;;AAC5H;;AACI;;AACI;;AACJ;;AACA;;AACI;;AACJ;;AACJ;;AAGA;;AACI;;AAmBA;;AAAyG;;AAAS;;AACtH;;AACJ;;AACJ;;AACJ;;;;;;;;AAtC8D;;AAAA;;AAAjD;;AAGsF;;AAAA,6FAAAiC,KAAA;;AAAjD;;AAAwE;;AAAA;;AAGtG;;AAAA;;AAGA;;AAAA;;AAKH;;AAAA;;AACK;;AAAA;;AAmBH;;AAAA;;;;;;;;;;;QDtClB4F,c;AAqBX,8BACUzH,aADV,EAEUF,aAFV,EAGUG,WAHV,EAIUE,MAJV,EAIwB;AAAA;;AAHd,aAAAH,aAAA,GAAAA,aAAA;AACA,aAAAF,aAAA,GAAAA,aAAA;AACA,aAAAG,WAAA,GAAAA,WAAA;AACA,aAAAE,MAAA,GAAAA,MAAA;AAvBV,aAAAuH,CAAA,GAAY,CAAZ;AAEA,aAAAvG,QAAA,GAAW;AACTwG,gBAAM,EAAE,KADC;AAETzF,oBAAU,EAAE;AAFH,SAAX;AAKA,aAAA0F,OAAA,GAAmB,KAAnB;AACA,aAAAC,mBAAA,GAAsB;AAEpBC,+BAAqB,EAAE;AAFH,SAAtB;AAIA,aAAAC,WAAA,GAAc,KAAd;AACA,aAAAC,cAAA,GAAiB,KAAjB;AACA,aAAAC,QAAA,GAAW,KAAX;AACA,aAAAC,kBAAA,GAAqB,OAArB;AACA,aAAAC,aAAA,GAAgB,MAAhB;AACA,aAAAC,mBAAA,GAAsB,IAAtB;AACA,aAAAC,WAAA,GAAc,CAAC,CAAf;AAMK;;;;eAEL,oBAAQ;AAAA;;AACN,eAAKrI,aAAL,CAAmBsI,eAAnB,CAAmCrL,SAAnC,CAA6C,UAACuF,IAAD,EAAU;AACrD,kBAAI,CAAC+F,QAAL;AACD,WAFD;AAIA,eAAKA,QAAL;AACA,eAAKC,aAAL;AACD;;;eAED,yBAAgB;AACd,eAAKZ,OAAL,GAAe,KAAK5H,aAAL,CAAmByI,WAAnB,CAA+Bb,OAA9C;AACD;;;eAED,oBAAW;AAAA;;AACT,eAAK9H,aAAL,CAAmBsC,OAAnB,CAA2B,IAA3B;AACA,eAAKnC,WAAL,CAAiByI,YAAjB,GAAgCzL,SAAhC,CAA0C,UAAAuF,IAAI,EAAI;AAChD,mBAAI,CAACmG,KAAL,GAAanG,IAAb;;AACA,mBAAI,CAACoG,sCAAL,CAA4CpG,IAA5C;;AACA,mBAAI,CAAC1C,aAAL,CAAmBsC,OAAnB,CAA2B,KAA3B;AACD,WAJD;AAKD;;;eAED,gDAAuCI,IAAvC,EAA6C;AAC3C,eAAKxC,aAAL,CAAmB6I,cAAnB,CAAkCzV,IAAlC,CAAuC,KAAKyU,mBAA5C;AACA,eAAK7H,aAAL,CAAmB8I,qBAAnB,CAAyCtG,IAAzC;AACD;;;eAED,uBAAc5N,EAAd,EAAkB;AAAA;;AAChB,cAAImQ,MAAM,GAAG,KAAK/E,aAAL,CAAmB+I,aAAnB,EAAb;;AACA,cAAIhE,MAAJ,EAAY;AACV,iBAAKjF,aAAL,CAAmBsC,OAAnB,CAA2B,IAA3B;AACA4G,iBAAK,CAAC,qCAAD,CAAL;AACA,iBAAK/I,WAAL,CAAiBgJ,WAAjB,CAA6BrU,EAA7B,EAAiCqI,SAAjC,CAA2C,UAAAuF,IAAI,EAAI;AACjD,qBAAI,CAAC+F,QAAL;;AACA,qBAAI,CAACzI,aAAL,CAAmBsC,OAAnB,CAA2B,KAA3B;AACD,aAHD;AAKD;AACF;;;eAED,qBAAYxN,EAAZ,EAAgB;AACd,eAAKuL,MAAL,CAAY6C,QAAZ,CAAqB,CAAC,QAAD,EAAW,MAAX,EAAmBpO,EAAnB,CAArB;AACD;;;;;;;uBAtEU6S,c,EAAc,6J,EAAA,6J,EAAA,+I,EAAA,uH;AAAA,K;;;YAAdA,c;AAAc,gC;AAAA;AAAA;AAAA,O;AAAA,e;AAAA,a;AAAA,68D;AAAA;AAAA;ACV3B;;AAAwC;;AAAK;;AAC7C;;AACI;;AAMA;;AAEA;;AACI;;AACI;;;;AAyCJ;;AACA;;AAA4C;AAAA;AAAA;;AAA0B;;AAC1E;;AAMJ;;;;AA3D2C;;AAAA;;AAUgB;;AAAA;;;;;;;;;;sEDF9CA,c,EAAc;cAL1B,uDAK0B;eALhB;AACThL,kBAAQ,EAAE,WADD;AAET0G,qBAAW,EAAE,wBAFJ;AAGTC,mBAAS,EAAE,CAAC,wBAAD;AAHF,S;AAKgB,Q;;;;;;;;;;;;gBACxB;;;;;;;;;;;;;;;;;;;;AEXH;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAiCa8F,W;;;;;YAAAA;;;;yBAAAA,W;AAAW,O;AAAA,gBAXb,CACP,0DADO,EAEP,kEAFO,EAGP,4DAHO,EAIP,wEAJO,EAKP,yEALO,EAMP,8EANO,EAOP,qEAPO,EAQP,mEARO,CAWa;;;;0HAAXA,W,EAAW;AAAA,uBAhBpB,uGAgBoB,EAfpB,+DAeoB,EAdpB,gFAcoB,EAbpB,0FAaoB;AAbA,kBAGpB,0DAHoB,EAIpB,kEAJoB,EAKpB,4DALoB,EAMpB,wEANoB,EAOpB,yEAPoB,EAQpB,8EARoB,EASpB,qEAToB,EAUpB,mEAVoB;AAaA,O;AAHD,K;;;;;sEAGVA,W,EAAW;cAlBvB,sDAkBuB;eAlBd;AACRvJ,sBAAY,EAAE,CACZ,uGADY,EAEZ,+DAFY,EAGZ,gFAHY,EAIZ,0FAJY,CADN;AAORF,iBAAO,EAAE,CACP,0DADO,EAEP,kEAFO,EAGP,4DAHO,EAIP,wEAJO,EAKP,yEALO,EAMP,8EANO,EAOP,qEAPO,EAQP,mEARO;AAPD,S;AAkBc,Q;;;;;;;;;;;;;;;;;;ACjCxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAUa0J,W;AAKX,2BACUC,IADV,EAEUpJ,aAFV,EAEsC;AAAA;;AAD5B,aAAAoJ,IAAA,GAAAA,IAAA;AACA,aAAApJ,aAAA,GAAAA,aAAA;AALV,aAAAqJ,gBAAA,GAAmB,iCAAnB;AAOE,aAAKC,aAAL,GAAqB,KAAKtJ,aAAL,CAAmBsJ,aAAxC;AACD;AAEA;;;;;eAEA,wBAAe;AACd,iBAAO,KAAKF,IAAL,CACNrO,GADM,CACF,KAAKuO,aADH,EAENC,IAFM,CAGL,2DAAI,UAACC,QAAD,EAA0B;AAC5B,mBAAOA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,GAAQ,MAAR,GAAAA,QAAQ,CAAEC,GAAV,CAAc,UAACC,IAAD,EAAU;AAC7B,kBAAIC,GAAG,GAAGrF,QAAQ,CAACsF,aAAT,CAAuB,KAAvB,CAAV;AACAD,iBAAG,CAACE,SAAJ,GAAgBH,IAAI,CAAC5H,OAArB;AACA,kBAAIgI,UAAU,GAAGH,GAAG,CAACnE,oBAAJ,CAAyB,KAAzB,EAAgC,CAAhC,CAAjB;AACAkE,kBAAI,CAAC/D,KAAL,GAAamE,UAAU,GAAGA,UAAU,CAACC,YAAX,CAAwB,KAAxB,CAAH,GAAoC,4CAA3D;AACA,qBAAOL,IAAP;AACD,aANM,CAAP;AAOD,WARD,CAHK,CAAP;AAaD;;;eAED,kBAASlH,IAAT,EAAe;AACb,iBAAO,KAAK4G,IAAL,CAAUY,IAAV,CAAe,KAAKV,aAApB,EAAmC9G,IAAnC,CAAP;AACD;;;eAED,qBAAY5N,EAAZ,EAAgB;AACd,iBAAO,KAAKwU,IAAL,WAAiB,KAAKE,aAAL,GAAqB,GAArB,GAA2B1U,EAA5C,CAAP;AACD;;;eAED,qBAAY4M,MAAZ,EAAoBgB,IAApB,EAA0B;AACxB,iBAAO,KAAK4G,IAAL,CAAUa,KAAV,CAAgB,KAAKX,aAAL,GAAqB,GAArB,GAA2B9H,MAA3C,EAAmDgB,IAAnD,CAAP;AACD;;;eAED,uBAAchB,MAAd,EAAsB;AACpB,iBAAO,KAAK4H,IAAL,CAAUrO,GAAV,CAAc,KAAKuO,aAAL,GAAqB,GAArB,GAA2B9H,MAAzC,EACN+H,IADM,CAEL,2DAAI,UAAC7H,IAAD,EAAe;AACjB,gBAAIiI,GAAG,GAAGrF,QAAQ,CAACsF,aAAT,CAAuB,KAAvB,CAAV;AACAD,eAAG,CAACE,SAAJ,GAAgBnI,IAAI,CAACI,OAArB;AACA,gBAAIgI,UAAU,GAAGH,GAAG,CAACnE,oBAAJ,CAAyB,KAAzB,EAAgC,CAAhC,CAAjB;AACA9D,gBAAI,CAACiE,KAAL,GAAamE,UAAU,GAAGA,UAAU,CAACC,YAAX,CAAwB,KAAxB,CAAH,GAAoC,4CAA3D;AACA,mBAAOrI,IAAP;AACD,WAND,CAFK,CAAP;AAUD;;;;;;;uBArDUyH,W,EAAW,uH,EAAA,oI;AAAA,K;;;aAAXA,W;AAAW,eAAXA,WAAW,K;AAAA,kBAFV;;;;;sEAEDA,W,EAAW;cAHvB,wDAGuB;eAHZ;AACVe,oBAAU,EAAE;AADF,S;AAGY,Q;;;;;;;;;;;;;;;;;;;;;;;;ACVxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAcaC,iB,6BAKX,6BAAc;AAAA;;AAJL,WAAAC,SAAA,GAAY,EAAZ;AACA,WAAAvI,KAAA,GAAQ,EAAR;AACC,WAAAwI,WAAA,GAAc,IAAI,0DAAJ,EAAd;AAEM,K;;;uBALLF,iB;AAAiB,K;;;YAAjBA,iB;AAAiB,gC;AAAA;AAAA;AAAA;AAAA,O;AAAA;AAAA;AAAA,O;AAAA,c;AAAA,a;AAAA,qG;AAAA;AAAA;ACd9B;;AAAoE;AAAA,mBAAS,IAAAE,WAAA,OAAT;AAA2B,WAA3B;;AAA2C;;AACnF;;;;AADN;;AAClB;;AAAA;;;;;;;;;sEDaSF,iB,EAAiB;cAN7B,uDAM6B;eANnB;AACT1N,kBAAQ,EAAE,WADD;AAET0G,qBAAW,EAAE,4BAFJ;AAGTC,mBAAS,EAAE,CAAC,4BAAD,CAHF;AAIT7G,uBAAa,EAAE,gEAAkBI;AAJxB,S;AAMmB,Q;;;;gBAC3B;;;gBACA;;;gBACA;;;;;;;;;;;;;;;;;;;;AEjBH;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;ACQI;;AAGM;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACA;;AACN;;;;;;;;;AAHM;;AAEA;;AAAA;;;;;;AAEN;;AAAoD;;AAAmB;;;;;;;;;;QDsB9D2N,iB;AA4BX,iCACUC,KADV,EAEUtT,CAFV,EAEsB;AAAA;;AADZ,aAAAsT,KAAA,GAAAA,KAAA;AACA,aAAAtT,CAAA,GAAAA,CAAA;AA7BD,aAAAuT,OAAA,GAA0B,EAA1B;AAKT,aAAAC,QAAA,GAAW,KAAX;AACA,aAAAC,QAAA,GAAW,CAAX;AAQA,aAAAC,MAAA,GAAS,KAAT;AAM8B,aAAAC,MAAA,GAAS,cAAT,CASR,CAPtB;;AACkB,aAAAC,WAAA,GAAc,IAAI,0DAAJ,EAAd;;AAuElB,aAAA/D,QAAA,GAAgB,YAAM,CAAE,CAAxB;;AACA,aAAAgE,SAAA,GAAiB,YAAM,CAAE,CAAzB;AAjEI;;;;aAtBJ,eAAS;AACP,iBAAO,KAAKC,cAAL,IAAuB,KAAKA,cAAL,CAAoB9U,cAApB,CAAmC,OAAnC,CAAvB,GACH,KAAK8U,cAAL,CAAoBnY,KADjB,GAEH,QAFJ;AAGD;;;aAID,eAAS;AACP,iBAAO,KAAKmY,cAAL,CAAoBtY,KAA3B;AACD;;;eAcD,oBAAW;AACT,eAAKsY,cAAL,GAAsB,KAAKP,OAAL,CAAa,CAAb,CAAtB;;AACA,cAAI,yDAAU,KAAKQ,QAAf,KAA4B,KAAKA,QAArC,EAA+C;AAC7C,iBAAKC,IAAL;AACD;AACF;;;eAED,gBAAO;AACL,eAAKL,MAAL,GAAc,MAAd;AACD;;;eAED,sBAAaM,MAAb,EAAmCjI,KAAnC,EAAsD;AACpDA,eAAK,CAACkI,eAAN;AACA,eAAKhJ,QAAL,CAAc+I,MAAM,CAACzY,KAArB;AACA,eAAKqU,QAAL,CAAc,KAAKiE,cAAL,CAAoBtY,KAAlC;AACA,eAAKoY,WAAL,CAAiBpV,IAAjB,CAAsB,KAAKsV,cAAL,CAAoBtY,KAA1C;AACA,eAAKqY,SAAL;AACA,eAAKH,MAAL,GAAc,KAAd;AACD;;;eAED,oBAAW1H,KAAX,EAA8B;AAC5B;AACA,cAAI,KAAKwH,QAAT,EAAmB;AACjB;AACD;;AACD,eAAKE,MAAL,GAAc,CAAC,KAAKA,MAApB;AACD;;;eAGD,iBAAQ1O,MAAR,EAA4B;AAC1B,cAAI,CAAC,KAAKsO,KAAL,CAAWa,aAAX,CAAyBC,QAAzB,CAAkCpP,MAAM,CAAClG,MAAzC,CAAL,EAAuD;AACrD,iBAAKuV,KAAL;AACD;AACF;;;eAED,iBAAQ;AACN,eAAKX,MAAL,GAAc,KAAd;AACD;;;aAED,eAAU;AACR,iBAAO,KAAKA,MAAZ;AACD;;;eAED,oBAAWlY,KAAX,EAAkB;AAChB,cAAI,CAACA,KAAD,IAAU,OAAOA,KAAP,KAAiB,QAA/B,EAAyC;AACvC;AACD;;AACD,eAAK0P,QAAL,CAAc1P,KAAd;AACD;;;eAED,kBAASA,KAAT,EAAgB;AACd,cAAImH,KAAK,GAAG,CAAZ;AACA,cAAM2R,UAAU,GAAG,KAAKf,OAAL,CAAagB,IAAb,CAAkB,UAACC,EAAD,EAAKzV,CAAL,EAAW;AAC9C4D,iBAAK,GAAG5D,CAAR;AACA,mBAAOyV,EAAE,CAAChZ,KAAH,KAAaA,KAApB;AACD,WAHkB,CAAnB;;AAIA,cAAI8Y,UAAJ,EAAgB;AACd,iBAAKR,cAAL,GAAsBQ,UAAtB;AACA,iBAAKb,QAAL,GAAgB9Q,KAAhB;AACD;AACF;;;eAKD,0BAAiB8R,EAAjB,EAAqB;AACnB,eAAK5E,QAAL,GAAgB4E,EAAhB;AACD;;;eAED,2BAAkBA,EAAlB,EAAsB;AACpB,eAAKZ,SAAL,GAAiBY,EAAjB;AACD;;;eAED,0BAAiBC,UAAjB,EAAoC;AAClC,eAAKC,WAAL,CAAiBR,aAAjB,CAA+BX,QAA/B,GAA0CkB,UAA1C;AACA,cAAMhC,GAAG,GAAG,KAAKiC,WAAL,CAAiBR,aAA7B;AACA,cAAMS,MAAM,GAAGF,UAAU,GAAG,UAAH,GAAgB,aAAzC;AACA,eAAK1U,CAAL,CAAO4U,MAAP,EAAelC,GAAf,EAAoB,UAApB;AACA,eAAKc,QAAL,GAAgBkB,UAAhB;AACD;;;eAGD,uBAAc1P,MAAd,EAAqC;AACnC,cAAI,CAAC,KAAK0O,MAAV,EAAkB;AAChB;AACD;;AACD,kBAAQ1O,MAAM,CAACrF,GAAf;AACE,iBAAK,WAAL;AACE,mBAAKkV,gBAAL,CAAsB7P,MAAtB;;AACA;;AACF,iBAAK,SAAL;AACE,mBAAK8P,cAAL,CAAoB9P,MAApB;;AACA;;AACF,iBAAK,OAAL;AACE,mBAAK+P,YAAL,CAAkB/P,MAAlB;;AACA;;AACF,iBAAK,OAAL;AACE,mBAAKgQ,YAAL,CAAkBhQ,MAAlB;;AACA;;AACF,iBAAK,KAAL;AACE,mBAAKiQ,UAAL,CAAgBjQ,MAAhB;;AACA;;AACF,iBAAK,QAAL;AACE,mBAAKqP,KAAL;AACArP,oBAAM,CAAC8H,cAAP;AACA;;AACF,iBAAK,WAAL;AACE,mBAAKoI,gBAAL;;AACA;AAtBJ;AAwBD;;;eAED,0BAAiBlQ,MAAjB,EAAyB;AACvB,cAAI,KAAKyO,QAAL,GAAgB,KAAKF,OAAL,CAAaxT,MAAb,GAAsB,CAA1C,EAA6C;AAC3C,iBAAK0T,QAAL;AACD;AACF;;;eAED,wBAAezO,MAAf,EAAuB;AACrB,cAAI,KAAKyO,QAAL,IAAiB,CAArB,EAAwB;AACtB,iBAAKA,QAAL;AACD;AACF;;;eAED,sBAAazO,MAAb,EAAqB,CAAE;;;eAEvB,sBAAaA,MAAb,EAAqB;AACnB,eAAKmQ,YAAL,CAAkB,KAAK5B,OAAL,CAAa,KAAKE,QAAlB,CAAlB,EAA+CzO,MAA/C;AACD;;;eAED,oBAAWA,MAAX,EAAmB,CAAE;;;eAErB,4BAAmB,CAAE;;;;;;;uBArKVqO,iB,EAAiB,yH,EAAA,wH;AAAA,K;;;YAAjBA,iB;AAAiB,gC;AAAA;AAAA;;;;;;;;;;;;;;mBAAjB,mB;AAAe,W,EAAA,K,EAAA,+D,EAAA,S,EAAA;AAAA,mBAAf,yBAAe;AAAM,W;;;;;;;;;;;;;;kFARrB,CACT;AACE+B,eAAO,EAAE,gEADX;AAEEC,mBAAW,EAAE,iEAAW;AAAA,iBAAMhC,iBAAN;AAAA,SAAX,CAFf;AAGEiC,aAAK,EAAE;AAHT,OADS,C;AAMV,e;AAAA,a;AAAA,6mB;AAAA;AAAA;AClCH;;AACE;;AAAsG;AAAA,mBAAS,IAAAC,UAAA,QAAT;AAA2B,WAA3B;;AAA8B;;AAClI;;AAAA;;AACE;;AACA;;AACF;;AACF;;AACA;;AAAA;;AACE;;AAMA;;AACF;;AACF;;;;AAhBgC;;AACtB;;AAAA;;AAA4H;;AAAA;;AAQ5H;;AAAA;;AAKsB;;AAAA;;;;;;;;;;sEDsBnBlC,iB,EAAiB;cAb7B,uDAa6B;eAbnB;AACT7N,kBAAQ,EAAE,WADD;AAET0G,qBAAW,EAAE,4BAFJ;AAGTC,mBAAS,EAAE,CAAC,4BAAD,CAHF;AAIT7G,uBAAa,EAAE,gEAAkBI,IAJxB;AAKT6C,mBAAS,EAAE,CACT;AACE6M,mBAAO,EAAE,gEADX;AAEEC,uBAAW,EAAE,iEAAW;AAAA,qBAAMhC,iBAAN;AAAA,aAAX,CAFf;AAGEiC,iBAAK,EAAE;AAHT,WADS;AALF,S;AAamB,Q;;;;;;;;gBAC3B;;;gBAEA,mD;iBAAM,Q;;;gBAkBN,yD;iBAAY,e;;;gBAGZ,oD;iBAAO,Q;;;gBAEP,uD;iBAAU,a,EAAe;AAAE,sBAAQ;AAAV,W;;;gBAmCzB,0D;iBAAa,gB,EAAkB,CAAC,QAAD,C;;;gBAqD/B,0D;iBAAa,S,EAAW,CAAC,QAAD,C;;;;;;;;;;;;;;;;;;;;AEtJ3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;QAQaE,qB,6BACX,iCAAc;AAAA;AAAE,K;;;uBADLA,qB;AAAqB,K;;;YAArBA,qB;AAAqB,qC;AAAA,6B;AAAA,c;AAAA,a;AAAA,iD;AAAA;AAAA;;;ACRlC;;AACE;;AACF;;;;;;;;;sEDMaA,qB,EAAqB;cANjC,uDAMiC;eANvB;AACThQ,kBAAQ,EAAE,gBADD;AAET0G,qBAAW,EAAE,iCAFJ;AAGTC,mBAAS,EAAE,CAAC,iCAAD,CAHF;AAIT7G,uBAAa,EAAE,gEAAkBI;AAJxB,S;AAMuB,Q;;;;;;;;;;;;;;;;;;;;AERlC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;ACqHE;;AACE;;AACW;AAAA;;AAAA;;AAAA;AAAA,WAA2B,QAA3B,EAA2B;AAAA;;AAAA;;AAAA;AAAA,SAA3B;;AAIc;;AAC3B;;;;;;AANyC;;AAAA,oGAA2B,SAA3B,EAA2B,oBAA3B,EAA2B,UAA3B,EAA2B,eAA3B,EAA2B,QAA3B,EAA2B,sCAA3B;;;;;;;;AAtH3C;;AACE;;AACE;;AAAiE;AAAA;;AAAA;;AAAA,uCAAwB,MAAxB;AAA8B,SAA9B;;AACT;;AAC/B;;AACzB;;AAAiE;AAAA;;AAAA;;AAAA,wCAAwB,MAAxB;AAA8B,SAA9B;;AACT;;AAC7B;;AAC7B;;AACA;;AACE;;AAAmF;AAAA;;AAAA;;AAAA,wCAAwB,MAAxB;AAA8B,SAA9B;;AACL;;AAA0B;;AACxG;;AACQ;AAAA;;AAAA;;AAAA,wCAAwB,QAAxB;AAAgC,SAAhC;;AACwE;;AAChF;;AACA;;AACQ;AAAA;;AAAA;;AAAA,wCAAwB,WAAxB;AAAmC,SAAnC;;AACc;;AAA+B;;AACrD;;AACQ;AAAA;;AAAA;;AAAA,wCAAwB,eAAxB;AAAuC,SAAvC;;AACc;;AAAmC;;AACzD;;AACQ;AAAA;;AAAA;;AAAA,wCAAwB,WAAxB;AAAmC,SAAnC;;AACc;;AAA+B;;AACrD;;AACQ;AAAA;;AAAA;;AAAA,wCAAwB,aAAxB;AAAqC,SAArC;;AACc;;AAAiC;;AACzD;;AACA;;AACE;;AACQ;AAAA;;AAAA;;AAAA,wCAAwB,aAAxB;AAAqC,SAArC;;AACc;;AACS;;AAC/B;;AACQ;AAAA;;AAAA;;AAAA,wCAAwB,eAAxB;AAAuC,SAAvC;;AACc;;AACW;;AACjC;;AACQ;AAAA;;AAAA;;AAAA,wCAAwB,cAAxB;AAAsC,SAAtC;;AAEN;;AAAiC;;AACnC;;AACQ;AAAA;;AAAA;;AAAA,wCAAwB,aAAxB;AAAqC,SAArC;;AACc;;AACY;;AACpC;;AACA;;AACE;;AACQ;AAAA;;AAAA;;AAAA,wCAAwB,QAAxB;AAAgC,SAAhC;;AACwE;;AACrD;;AAC3B;;AACQ;AAAA;;AAAA;;AAAA,wCAAwB,SAAxB;AAAiC,SAAjC;;AACyE;;AACrD;;AAC9B;;AACA;;AACE;;AACQ;AAAA;;AAAA;;AAAA,wCAAwB,qBAAxB;AAA6C,SAA7C;;AAC+D;;AAC3C;;AAC5B;;AACQ;AAAA;;AAAA;;AAAA,wCAAwB,mBAAxB;AAA2C,SAA3C;;AAC6D;;AACzC;;AAC9B;;AACA;;AAEE;;AACW;AAAA;;AAAA;;AAAA;AAAA,WAAmB,QAAnB,EAAmB;AAAA;;AAAA;;AAAA;AAAA,SAAnB;;AAIc;;AAC3B;;AACA;;AAEE;;AACW;AAAA;;AAAA;;AAAA;AAAA,WAAsB,QAAtB,EAAsB;AAAA;;AAAA;;AAAA;AAAA,SAAtB;;AAKoB;;AACjC;;AACA;;AAEE;;AACW;AAAA;;AAAA;;AAAA;AAAA,WAAsB,QAAtB,EAAsB;AAAA;;AAAA;;AAAA;AAAA,SAAtB;;AAMX;;AACF;;AACA;;AACE;;AAEe;AAAA;;AAAA;;AAAA;;AAAA,gDAAqC,WAArC;AAAgD,SAAhD;;AAFf;;AAIA;;AAAuF;AAAA;;AAAA;;AAAA;;AAAA;AAAA,iBAAoB,WAApB;AAAmC,SAAnC;;AAEJ;;AAClD;;AAA0B;;AAC3D;;AACA;;AAEe;AAAA;;AAAA;;AAAA;;AAAA,gDAAqC,iBAArC;AAAsD,SAAtD;;AAFf;;AAIA;;AAAuF;AAAA;;AAAA;;AAAA;;AAAA;AAAA,iBAAoB,WAApB;AAAmC,SAAnC;;AAEE;;AACxD;;AAA0B;;AAC3D;;AACF;;AACA;;AAQA;;AACE;;AAAsE;AAAA;;AAAA;;AAAA;AAAA;;AAEpE;;AACF;;AACA;;AAAwE;AAAA;;AAAA;;AAAA,wCAAwB,QAAxB;AAAgC,SAAhC;;AAEtE;;AACF;;AACA;;AAGc;AAAA;;AAAA;;AAAA;AAAA;;AAHd;;AAKA;;AAA6E;AAAA;;AAAA;;AAAA;;AAAA;AAAA,iBAAkB,WAAlB;AAAmC,SAAnC;;AAEQ;;AACrF;;AACA;;AACQ;AAAA;;AAAA;;AAAA;AAAA;;AACc;;AACW;;AACjC;;AACQ;AAAA;;AAAA;;AAAA,wCAAwB,sBAAxB;AAA8C,SAA9C;;AACgE;;AAC9C;;AAC5B;;AACA;;AACE;;AACQ;AAAA;;AAAA;;AAAA,wCAAwB,cAAxB;AAAsC,SAAtC;;AACc;;AACtB;;AACF;;AACA;;AACE;;AACQ;AAAA;;AAAA;;AAAA,wCAAwB,kBAAxB;AAA0C,SAA1C;;AAAyG;;AACxF;;AAC3B;;AACA;;AACF;;;;;;AAjKY;;AAAA;;AAGA;;AAAA;;AAIA;;AAAA,4FAAiB,UAAjB,EAAiB,eAAjB,EAAiB,QAAjB,EAAiB,6BAAjB;;AAEA;;AAAA,8FAAmB,UAAnB,EAAmB,eAAnB,EAAmB,QAAnB,EAAmB,+BAAnB;;AAIA;;AAAA,iGAAsB,UAAtB,EAAsB,eAAtB,EAAsB,QAAtB,EAAsB,kCAAtB;;AAGA;;AAAA,qGAA0B,UAA1B,EAA0B,eAA1B,EAA0B,QAA1B,EAA0B,sCAA1B;;AAGA;;AAAA,iGAAsB,UAAtB,EAAsB,eAAtB,EAAsB,QAAtB,EAAsB,kCAAtB;;AAGA;;AAAA,mGAAwB,UAAxB,EAAwB,eAAxB,EAAwB,QAAxB,EAAwB,oCAAxB;;AAKA;;AAAA,mGAAwB,UAAxB,EAAwB,eAAxB,EAAwB,QAAxB,EAAwB,oCAAxB;;AAIA;;AAAA,qGAA0B,UAA1B,EAA0B,eAA1B,EAA0B,QAA1B,EAA0B,sCAA1B;;AAIA;;AAAA,oGAAyB,UAAzB,EAAyB,eAAzB,EAAyB,QAAzB,EAAyB,qCAAzB;;AAIA;;AAAA,mGAAwB,UAAxB,EAAwB,eAAxB,EAAwB,QAAxB,EAAwB,oCAAxB;;AAMA;;AAAA,8FAAmB,UAAnB,EAAmB,eAAnB,EAAmB,QAAnB,EAAmB,+BAAnB;;AAIA;;AAAA,+FAAoB,UAApB,EAAoB,eAApB,EAAoB,QAApB,EAAoB,gCAApB;;AAMA;;AAAA,2GAAgC,UAAhC,EAAgC,eAAhC,EAAgC,QAAhC,EAAgC,4CAAhC;;AAIA;;AAAA,yGAA8B,UAA9B,EAA8B,eAA9B,EAA8B,QAA9B,EAA8B,0CAA9B;;AAO0B;;AAAA,6FAAoB,SAApB,EAAoB,YAApB,EAAoB,UAApB,EAAoB,eAApB,EAAoB,QAApB,EAAoB,gCAApB;;AASH;;AAAA,0FAAiB,SAAjB,EAAiB,eAAjB,EAAiB,UAAjB,EAAiB,eAAjB,EAAiB,QAAjB,EAAiB,iCAAjB;;AAUK;;AAAA,8FAAqB,SAArB,EAAqB,eAArB,EAAqB,UAArB,EAAqB,eAArB,EAAqB,QAArB,EAAqB,iCAArB;;AAc5B;;AAAA,6GAAkC,UAAlC,EAAkC,eAAlC,EAAkC,QAAlC,EAAkC,kCAAlC;;AASA;;AAAA,6GAAkC,UAAlC,EAAkC,eAAlC,EAAkC,QAAlC,EAAkC,wCAAlC;;AAML;;AAAA;;AASK;;AAAA,4FAAiB,UAAjB,EAAiB,2BAAjB,EAAiB,QAAjB,EAAiB,6BAAjB;;AAIA;;AAAA,8FAAmB,UAAnB,EAAmB,uCAAnB,EAAmB,QAAnB,EAAmB,+BAAnB;;AASA;;AAAA,mGAAwB,UAAxB,EAAwB,eAAxB,EAAwB,QAAxB,EAAwB,oCAAxB;;AAIA;;AAAA,mGAAwB,UAAxB,EAAwB,eAAxB,EAAwB,QAAxB,EAAwB,oCAAxB;;AAIA;;AAAA,4GAAiC,UAAjC,EAAiC,eAAjC,EAAiC,QAAjC,EAAiC,6CAAjC;;AAMA;;AAAA,uGAA4B,UAA5B,EAA4B,eAA5B,EAA4B,QAA5B,EAA4B,qCAA5B;;AAMA;;AAAA,wGAA6B,QAA7B,EAA6B,yCAA7B;;;;;;QDvIC+P,6B;AA0JX,6CACUzV,CADV,EAEU0V,aAFV,EAGUC,EAHV,EAIE;AAC0BC,SAL5B,EAKoC;AAAA;;AAJ1B,aAAA5V,CAAA,GAAAA,CAAA;AACA,aAAA0V,aAAA,GAAAA,aAAA;AACA,aAAAC,EAAA,GAAAA,EAAA;AAEkB,aAAAC,GAAA,GAAAA,GAAA;AA9J5B,aAAAC,QAAA,GAAW,KAAX;AACA,aAAAC,YAAA,GAAe,KAAf;AACA,aAAAC,KAAA,GAAQ,SAAR;AAMA,aAAAC,QAAA,GAA2B,CACzB;AACEra,eAAK,EAAE,WADT;AAEEH,eAAK,EAAE;AAFT,SADyB,EAKzB;AACEG,eAAK,EAAE,WADT;AAEEH,eAAK,EAAE;AAFT,SALyB,EASzB;AACEG,eAAK,EAAE,WADT;AAEEH,eAAK,EAAE;AAFT,SATyB,EAazB;AACEG,eAAK,EAAE,WADT;AAEEH,eAAK,EAAE;AAFT,SAbyB,EAiBzB;AACEG,eAAK,EAAE,WADT;AAEEH,eAAK,EAAE;AAFT,SAjByB,EAqBzB;AACEG,eAAK,EAAE,WADT;AAEEH,eAAK,EAAE;AAFT,SArByB,EAyBzB;AACEG,eAAK,EAAE,WADT;AAEEH,eAAK,EAAE;AAFT,SAzByB,EA6BzB;AACEG,eAAK,EAAE,YADT;AAEEH,eAAK,EAAE;AAFT,SA7ByB,EAiCzB;AACEG,eAAK,EAAE,UADT;AAEEH,eAAK,EAAE;AAFT,SAjCyB,EAqCzB;AACEG,eAAK,EAAE,SADT;AAEEH,eAAK,EAAE;AAFT,SArCyB,CAA3B;AA2CA,aAAAya,SAAA,GAA4B,CAC1B;AACEta,eAAK,EAAE,GADT;AAEEH,eAAK,EAAE;AAFT,SAD0B,EAK1B;AACEG,eAAK,EAAE,GADT;AAEEH,eAAK,EAAE;AAFT,SAL0B,EAS1B;AACEG,eAAK,EAAE,GADT;AAEEH,eAAK,EAAE;AAFT,SAT0B,EAa1B;AACEG,eAAK,EAAE,GADT;AAEEH,eAAK,EAAE;AAFT,SAb0B,EAiB1B;AACEG,eAAK,EAAE,GADT;AAEEH,eAAK,EAAE;AAFT,SAjB0B,EAqB1B;AACEG,eAAK,EAAE,GADT;AAEEH,eAAK,EAAE;AAFT,SArB0B,EAyB1B;AACEG,eAAK,EAAE,GADT;AAEEH,eAAK,EAAE;AAFT,SAzB0B,CAA5B;AA+BA,aAAA0a,aAAA,GAAgB,IAAhB;AAEA,aAAAC,eAAA,GAAkC,CAAC;AAAExa,eAAK,EAAE,EAAT;AAAaH,eAAK,EAAE;AAApB,SAAD,CAAlC;AAEA,aAAA4a,MAAA,GAAS;AACPC,oBAAU,EAAE,QADL;AAEPC,WAAC,EAAE;AAFI,SAAT;AAKA,aAAAC,MAAA,GAAS,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,GAArC,EAA0C,KAA1C,EAAiD,KAAjD,CAAT;AAEA,aAAAC,OAAA,GAAU,CACR,MADQ,EAER,QAFQ,EAGR,WAHQ,EAIR,eAJQ,EAKR,WALQ,EAMR,aANQ,EAOR,aAPQ,EAQR,eARQ,EASR,cATQ,EAUR,aAVQ,EAWR,QAXQ,EAYR,SAZQ,EAaR,qBAbQ,EAcR,mBAdQ,EAeR,MAfQ,CAAV;AAsBS,aAAAC,KAAA,GAAwB,CAAC;AAAE9a,eAAK,EAAE,EAAT;AAAaH,eAAK,EAAE;AAApB,SAAD,CAAxB;AA8BC,aAAAkb,OAAA,GAAgC,IAAI,0DAAJ,EAAhC;AAcN;;;;aA1CJ,aACkBC,OADlB,EAC0C;AACxC,cAAIA,OAAJ,EAAa;AACX,iBAAKC,cAAL,GAAsBD,OAAtB;AACA,iBAAKR,eAAL,GAAuB,KAAKS,cAAL,CAAoBpE,GAApB,CAAwB,UAACqE,CAAD,EAAI9X,CAAJ;AAAA,qBAAW;AACxDpD,qBAAK,EAAEkb,CAAC,CAAC/T,IAD+C;AAExDtH,qBAAK,EAAEuD,CAAC,CAAC+X,QAAF;AAFiD,eAAX;AAAA,aAAxB,CAAvB;AAIA,iBAAKX,eAAL,CAAqBY,OAArB,CAA6B;AAAEpb,mBAAK,EAAE,aAAT;AAAwBH,mBAAK,EAAE;AAA/B,aAA7B;AACD;AACF;;;aAED,aACoBA,KADpB,EACmC;AACjC,cAAIA,KAAJ,EAAW;AACT,iBAAKwb,QAAL,GAAgBxb,KAAhB;AACD;AACF;;;aAED,aACoBA,KADpB,EACmC;AACjC,cAAIA,KAAJ,EAAW;AACT,iBAAKyb,QAAL,GAAgBzb,KAAhB;AACD;AACF;;;aAQD,eAA+B;AAC7B,iBAAO,KAAKqa,QAAL,IAAiB,CAAC1R,OAAO,CAAC,KAAKuR,aAAL,CAAmBwB,YAApB,CAAhC;AACD;AAUD;;;;;;;eAIA,wBAAeC,OAAf,EAAgC;AAC9B,eAAKT,OAAL,CAAalY,IAAb,CAAkB2Y,OAAlB;AACD;AAED;;;;;;eAGA,0BAAiB;AAAA;;AACf,cAAI,CAAC,KAAKC,WAAV,EAAuB;AACrB;AACD;;AACD,eAAKZ,OAAL,CAAaa,OAAb,CAAqB,UAAC9J,CAAD,EAAO;AAC1B,gBAAMO,MAAM,GAAG,OAAI,CAAC8H,GAAL,CAAS0B,iBAAT,CAA2B/J,CAA3B,CAAf;;AACA,gBAAMgK,WAAW,GAAG,OAAI,CAAC3B,GAAL,CAAStI,cAAT,CAAwBC,CAAC,GAAG,GAAJ,GAAU,OAAI,CAAC5P,EAAvC,CAApB;;AACA,gBAAImQ,MAAJ,EAAY;AACV,qBAAI,CAAC9N,CAAL,CAAOwX,QAAP,CAAgBD,WAAhB,EAA6B,QAA7B;AACD,aAFD,MAEO;AACL,qBAAI,CAACvX,CAAL,CAAOyX,WAAP,CAAmBF,WAAnB,EAAgC,QAAhC;AACD;AACF,WARD;AASD;AAED;;;;;;eAGA,uBAAcG,KAAd,EAA6B;AAAA;;AAC3B,cAAI,CAAC,KAAKN,WAAV,EAAuB;AACrB;AACD;;AACD,eAAKtB,YAAL,GAAoB4B,KAAK,CAACC,SAAN,CAAgB,UAACd,CAAD;AAAA,mBAAOA,CAAC,CAACe,QAAF,KAAe,GAAtB;AAAA,WAAhB,IAA6C,CAAC,CAAlE;AACA,cAAIC,KAAK,GAAG,KAAZ;AACA,eAAKtB,MAAL,CAAYc,OAAZ,CAAoB,UAACS,CAAD,EAAO;AACzB,gBAAMC,IAAI,GAAGL,KAAK,CAACnD,IAAN,CAAW,UAACsC,CAAD;AAAA,qBAAOA,CAAC,CAACe,QAAF,KAAeE,CAAtB;AAAA,aAAX,CAAb;;AACA,gBAAIC,IAAI,KAAKvY,SAAT,IAAsBsY,CAAC,KAAKC,IAAI,CAACH,QAArC,EAA+C;AAC7C,kBAAIC,KAAK,KAAK,KAAd,EAAqB;AACnB,uBAAI,CAAC9B,KAAL,GAAagC,IAAI,CAACH,QAAL,CAAcI,WAAd,EAAb;AACAH,qBAAK,GAAG,IAAR;AACD;AACF,aALD,MAKO,IAAIA,KAAK,KAAK,KAAd,EAAqB;AAC1B,qBAAI,CAAC9B,KAAL,GAAa,SAAb;AACD;AACF,WAVD;AAYA8B,eAAK,GAAG,KAAR;;AACA,cAAI,KAAKjB,cAAT,EAAyB;AACvB,iBAAKA,cAAL,CAAoBS,OAApB,CAA4B,UAACS,CAAD,EAAInV,KAAJ,EAAc;AACxC,kBAAMoV,IAAI,GAAGL,KAAK,CAACnD,IAAN,CAAW,UAACsC,CAAD,EAAO;AAC7B,oBAAIA,CAAC,YAAYoB,OAAjB,EAA0B;AACxB,yBAAOpB,CAAC,CAACqB,SAAF,KAAgBJ,CAAC,SAAxB;AACD;AACF,eAJY,CAAb;;AAKA,kBAAIC,IAAI,KAAKvY,SAAb,EAAwB;AACtB,oBAAIqY,KAAK,KAAK,KAAd,EAAqB;AACnB,yBAAI,CAAC3B,aAAL,GAAqBvT,KAAK,CAACmU,QAAN,EAArB;AACAe,uBAAK,GAAG,IAAR;AACD;AACF,eALD,MAKO,IAAIA,KAAK,KAAK,KAAd,EAAqB;AAC1B,uBAAI,CAAC3B,aAAL,GAAqB,IAArB;AACD;AACF,aAdD;AAeD;;AAEDjW,gBAAM,CAACkY,IAAP,CAAY,KAAK/B,MAAjB,EAAyB5D,GAAzB,CAA6B,UAACjF,CAAD,EAAO;AAClC,gBAAMgK,WAAW,GAAG,OAAI,CAAC3B,GAAL,CAAStI,cAAT,CAClB,OAAI,CAAC8I,MAAL,CAAY7I,CAAZ,IAAiB,GAAjB,GAAuB,OAAI,CAAC5P,EADV,CAApB;;AAGA,gBAAMoa,IAAI,GAAGL,KAAK,CAACnD,IAAN,CAAW,UAACsC,CAAD;AAAA,qBAAOA,CAAC,CAACe,QAAF,KAAerK,CAAtB;AAAA,aAAX,CAAb;;AACA,gBAAIwK,IAAI,KAAKvY,SAAT,IAAsB+N,CAAC,KAAKwK,IAAI,CAACH,QAArC,EAA+C;AAC7C,qBAAI,CAAC5X,CAAL,CAAOwX,QAAP,CAAgBD,WAAhB,EAA6B,QAA7B;AACD,aAFD,MAEO;AACL,qBAAI,CAACvX,CAAL,CAAOyX,WAAP,CAAmBF,WAAnB,EAAgC,QAAhC;AACD;AACF,WAVD;AAYA,eAAKa,UAAL,GAAkB,KAAKxC,GAAL,CAASyC,iBAAT,CAA2B,WAA3B,CAAlB;AACA,eAAKpB,QAAL,GAAgB,KAAKrB,GAAL,CAASyC,iBAAT,CAA2B,UAA3B,CAAhB;AACA,eAAKrB,QAAL,GAAgB,KAAKpB,GAAL,CAASyC,iBAAT,CAA2B,UAA3B,EAAuCC,OAAvC,CAA+C,IAA/C,EAAqD,EAArD,CAAhB;AACA,eAAKC,SAAL,GAAiB,KAAK3C,GAAL,CAASyC,iBAAT,CAA2B,WAA3B,CAAjB;AACD;AAED;;;;;;eAGA,qBAAY;;;AACV,cAAIG,GAAG,GAAkB,UAAzB;AACA,cAAMC,SAAS,GAAG,KAAK/C,aAAL,CAAmBgD,cAArC;;AACA,cACED,SAAS,IACT,aAAAA,SAAS,CAACE,uBAAV,MAAiC,IAAjC,IAAiC,aAAjC,GAAiC,MAAjC,GAAiC,GAAEC,aAAnC,MAAgD,IAAhD,IAAgD,aAAhD,GAAgD,MAAhD,GAAgD,GAAEhB,QAAlD,MAA+D,GAFjE,EAGE;AACA,gBAAMiB,MAAM,GAAGJ,SAAS,CAACE,uBAAV,CACZC,aADH;;AAEA,gBAAIC,MAAM,CAACC,IAAP,KAAgB,EAApB,EAAwB;AACtBN,iBAAG,GAAGK,MAAM,CAACC,IAAb;AACD;AACF;;AACDN,aAAG,GAAGO,MAAM,CAAC,iBAAD,EAAoBP,GAApB,CAAZ;;AACA,cAAIA,GAAG,IAAIA,GAAG,KAAK,EAAf,IAAqBA,GAAG,KAAK,UAAjC,EAA6C;AAC3C,iBAAK9C,aAAL,CAAmBsD,UAAnB,CAA8BR,GAA9B;AACD;AACF;AAED;;;;;;eAGA,uBAAc;AACZ,eAAK9B,OAAL,CAAalY,IAAb,CAAkB,EAAlB;AACA,cAAMga,GAAG,GAAGO,MAAM,CAAC,mBAAD,aAAlB;;AACA,cAAIP,GAAG,IAAIA,GAAG,KAAK,EAAf,IAAqBA,GAAG,eAA5B,EAA6C;AAC3C,iBAAK9C,aAAL,CAAmBuD,WAAnB,CAA+BT,GAA/B;AACD;AACF;AAED;;;;eACA,qBAAYU,KAAZ,EAA2BC,KAA3B,EAA0C;AACxC,eAAKzD,aAAL,CAAmB0D,WAAnB,CAA+BF,KAA/B,EAAsCC,KAAtC;AACA,eAAKzC,OAAL,CAAalY,IAAb,CAAkB,EAAlB;AACD;AAED;;;;;;;eAIA,qBAAY6a,SAAZ,EAA6B;AAC3B,eAAK3D,aAAL,CAAmB4D,WAAnB,CAA+BD,SAA/B;AACA,eAAK3C,OAAL,CAAalY,IAAb,CAAkB,EAAlB;AACD;AAED;;;;;;;eAIA,qBAAYyY,QAAZ,EAA4B;AAC1B,eAAKvB,aAAL,CAAmB6D,WAAnB,CAA+BtC,QAA/B;AACA,eAAKP,OAAL,CAAalY,IAAb,CAAkB,EAAlB;AACD;AAED;;;;;;;eAIA,uBAAcgb,CAAd,EAA0B;AACxB,cAAMC,sBAAsB,GAAG,KAAK7D,GAAL,CAAStI,cAAT,CAC7B,qBAAqB,GAArB,GAA2B,KAAK3P,EADH,CAA/B;;AAGA,cAAI6b,CAAJ,EAAO;AACL,iBAAKxZ,CAAL,CAAOwX,QAAP,CAAgBiC,sBAAhB,EAAwC,QAAxC;AACD,WAFD,MAEO;AACL,iBAAKzZ,CAAL,CAAOyX,WAAP,CAAmBgC,sBAAnB,EAA2C,QAA3C;AACD;;AACD,eAAK5D,QAAL,GAAgB2D,CAAhB;AACD;AAED;;;;;;eAGA,uBAAcxN,KAAd,EAAqB;AAAA;;;;AACnB,cAAI,QAACA,KAAK,SAAL,IAAAA,KAAK,WAAL,GAAK,MAAL,GAAAA,KAAK,CAAElN,MAAR,MAAc,IAAd,IAAc,aAAd,GAAc,MAAd,GAAc,GAAE0O,KAAhB,CAAJ,EAA2B;AACzB;AACD;;AAED,cAAMO,IAAI,GAAG/B,KAAK,CAAClN,MAAN,CAAa0O,KAAb,CAAmB,CAAnB,CAAb;;AACA,cAAIO,IAAI,CAAChL,IAAL,CAAU2W,QAAV,CAAmB,QAAnB,CAAJ,EAAkC;AAChC,gBAAI,KAAKC,MAAT,EAAiB;AACf,mBAAKA,MAAL,CAAY5L,IAAZ,EAAkB/H,SAAlB,CAA4B,UAACuM,QAAD;AAAA,uBAC1B,OAAI,CAACqH,gBAAL,CAAsBrH,QAAtB,EAAgCvG,KAAhC,CAD0B;AAAA,eAA5B;AAGD,aAJD,MAIO,IAAI,KAAK6N,SAAT,EAAoB;AACzB,mBAAKnE,aAAL,CACGoE,WADH,CACe/L,IADf,EAEG/H,SAFH,CAEa,UAACuM,QAAD;AAAA,uBACT,OAAI,CAACqH,gBAAL,CAAsBrH,QAAtB,EAAgCvG,KAAhC,CADS;AAAA,eAFb;AAKD,aANM,MAMA;AACL,kBAAMyB,MAAM,GAAG,IAAIC,UAAJ,EAAf;;AACAD,oBAAM,CAACG,MAAP,GAAgB,UAACL,CAAD,EAAsB;AACpC,oBAAMwM,EAAE,GAAGxM,CAAC,CAACN,aAAb;;AACA,oBAAI,CAAC8M,EAAD,IAAO,CAACA,EAAE,CAACjM,MAAf,EAAuB;AAErB;AACD;;AACD,uBAAI,CAAC4H,aAAL,CAAmBsE,WAAnB,CAA+BD,EAAE,CAACjM,MAAH,CAAUgJ,QAAV,EAA/B;AACD,eAPD;;AAQArJ,oBAAM,CAACE,aAAP,CAAqBI,IAArB;AACD;AACF;;AAED,cAAI/B,KAAK,CAAClN,MAAV,EAAkBkN,KAAK,CAAClN,MAAN,CAAatD,KAAb,GAAqB,IAArB;AACnB;;;eAED,0BAAiB+W,QAAjB,EAA+DvG,KAA/D,EAAsE;;;AACpE,cAAI,QAACuG,QAAQ,SAAR,IAAAA,QAAQ,WAAR,GAAQ,MAAR,GAAAA,QAAQ,CAAE0H,IAAX,MAAe,IAAf,IAAe,aAAf,GAAe,MAAf,GAAe,GAAEC,QAAjB,CAAJ,EAA+B;AAE7B;AACD;;AACD,cAAQA,QAAR,GAAqB3H,QAAQ,CAAC0H,IAA9B,CAAQC,QAAR;AACA,eAAKxE,aAAL,CAAmBsE,WAAnB,CAA+BE,QAA/B;AACAlO,eAAK,CAACmO,UAAN,CAAiB3e,KAAjB,GAAyB,IAAzB;AACD;AAED;;;;;;eAGA,wBAAe4e,OAAf,EAAgC;AAC9B,cAAIA,OAAO,KAAK,IAAhB,EAAsB;AACpB,iBAAK1D,OAAL,CAAalY,IAAb,CAAkB,OAAlB;AACD,WAFD,MAEO;AACL,iBAAKkX,aAAL,CAAmB2E,iBAAnB,CAAqC,KAAKzD,cAAL,CAAoB,CAACwD,OAArB,CAArC;AACD;AACF;;;eAED,wBAAetX,IAAf,EAA2B;AACzB,cAAI,CAACA,IAAL,EAAW;AACT,mBAAO,KAAP;AACD;;AACD,cAAI,EAAE,KAAKwX,aAAL,YAA8BlZ,KAAhC,CAAJ,EAA4C;AAC1C,mBAAO,KAAP;AACD;;AACD,cAAI0M,MAAJ;;AAPyB,qDAQP,KAAKwM,aARE;AAAA;;AAAA;AAQzB,gEAAsC;AAAA,kBAA3BC,GAA2B;;AACpC,kBAAIA,GAAG,YAAYnZ,KAAnB,EAA0B;AACxB0M,sBAAM,GAAGyM,GAAG,CAAChG,IAAJ,CAAS,UAAC9B,IAAD;AAAA,yBAAUA,IAAI,KAAK3P,IAAnB;AAAA,iBAAT,CAAT;AACD;;AACD,kBAAIgL,MAAJ,EAAY;AACV;AACD;AACF;AAfwB;AAAA;AAAA;AAAA;AAAA;;AAgBzB,iBAAOA,MAAM,KAAKtO,SAAlB;AACD;;;eAED,iBAAQ;AACN,eAAKkX,OAAL,CAAalY,IAAb,CAAkB,OAAlB;AACD;;;;;;;uBA9YUiX,6B,EAA6B,wH,EAAA,6I,EAAA,yH,EAAA,gEA+J9B,wDA/J8B,C;AA+JtB,K;;;YA/JPA,6B;AAA6B,6C;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxB1C;;;;AAAoC;;;;;;;;;sEDwBvBA,6B,EAA6B;cALzC,uDAKyC;eAL/B;AACTjQ,kBAAQ,EAAE,wBADD;AAET0G,qBAAW,EAAE,yCAFJ;AAGTC,mBAAS,EAAE,CAAC,yCAAD;AAHF,S;AAK+B,Q;;;;;;;;;;kBA+JrC,oD;mBAAO,wD;;;;;gBA/CT;;;gBACA;;;gBACA;;;gBACA;;;gBACA;;;gBAEA;;;gBAYA;;;gBAOA;;;gBAOA;;;gBAEA;;;gBAEA,uD;iBAAU,W,EAAa;AAAE,sBAAQ;AAAV,W;;;;;;;;;;;;;;;;;;;;AE5K1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACMK;;AAYK;AAAA;;AAAA;;AAAA;AAAA;;AAEH;;AAKF;;;;;;AAhBK,kFAAS,WAAT,EAAS,uBAAT,EAAS,QAAT,EAAS,oBAAT,EAAS,aAAT,EAAS,0EAAT,EAAS,OAAT,EAAS,iBAAT,EAAS,eAAT,EAAS,2BAAT,EAAS,iBAAT,EAAS,6BAAT,EAAS,iBAAT,EAAS,6BAAT,EAAS,eAAT,EAAS,kCAAT;;AAYD;;AAAA,sHAA6C,yBAA7C,EAA6C,+FAA7C;;;;;;;;AAqCJ;;AAYK;AAAA;;AAAA;;AAAA;AAAA;;AACJ;;;;;;AAVI,kFAAS,WAAT,EAAS,uBAAT,EAAS,QAAT,EAAS,oBAAT,EAAS,aAAT,EAAS,0EAAT,EAAS,OAAT,EAAS,iBAAT,EAAS,eAAT,EAAS,2BAAT,EAAS,iBAAT,EAAS,6BAAT,EAAS,iBAAT,EAAS,6BAAT,EAAS,eAAT,EAAS,kCAAT;;;;QDjBGqO,sB;AAuEX,sCACUxa,CADV,EAEU0V,aAFV,EAGE;AAC0BE,SAJ5B,EAKU6E,SALV,EAMUC,KANV,EAOE;AACuBC,qBARzB,EASE;AACgCC,eAVlC,EAUgD;AAAA;;AAAA;;AATtC,aAAA5a,CAAA,GAAAA,CAAA;AACA,aAAA0V,aAAA,GAAAA,aAAA;AAEkB,aAAAE,GAAA,GAAAA,GAAA;AAClB,aAAA6E,SAAA,GAAAA,SAAA;AACA,aAAAC,KAAA,GAAAA,KAAA;AAIwB,aAAAE,SAAA,GAAAA,SAAA;AA3ElC,aAAAC,UAAA,GAAa,IAAb;AACA,aAAAC,eAAA,GAAkB,KAAlB;AACA,aAAAtH,QAAA,GAAW,KAAX;AACA,aAAAuH,OAAA,GAAU,KAAV;AACA,aAAAC,OAAA,GAAU,KAAV;AACA,aAAAnd,OAAA,GAAU,KAAV;;AAEA,aAAAod,oBAAA,GAAuB,YAAM,CAAE,CAA/B;;AACA,aAAAC,oBAAA,GAA4B,IAA5B;AACA,aAAAC,WAAA,GAAc,IAAI,4CAAJ,EAAd;AACA,aAAAC,WAAA,GAAc,EAAd;AACA,aAAAC,mBAAA,GAAsB,CAAC,CAAvB;AAKS,aAAA1d,EAAA,GAAK,EAAL;AACA,aAAAqE,MAAA,GAA8B,2DAA9B;AACA,aAAAwH,WAAA,GAAc,EAAd;AAST,aAAA8R,gBAAA,GAAmB,KAAKC,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAnB;AAEU,aAAAC,QAAA,GAAW,IAAI,0DAAJ,EAAX;AAEV;AACA;;AACgB,aAAAC,SAAA,GACd,IAAI,0DAAJ,EADc;AAGhB;AACA;;AACiB,aAAAC,UAAA,GACf,IAAI,0DAAJ,EADe;AAGa,aAAAC,QAAA,GAAW,CAAC,CAAZ;;AAmF9B,aAAAC,WAAA,GAAc,UAACC,eAAD,EAAkBC,SAAlB;AAAA,iBAAgC,UAACxO,CAAD,EAAO;AACnD,gBAAI,CAACuO,eAAL,EAAsB;AACtB,gBAAME,iBAAiB,GACrB,OAAI,CAACha,MAAL,CAAYiI,sBAAZ,IACA,4DAAoBA,sBADpB,IAEA,CAHF;AAIA,gBAAMgS,KAAK,GAAG1O,CAAC,CAACsJ,CAAF,IAAO,IAAP,GAActJ,CAAC,CAACsJ,CAAhB,GAAoBtJ,CAAC,CAAC4B,OAApC;AACA,gBAAM+M,EAAE,GAAG,OAAI,CAACC,IAAL,GAAYF,KAAvB;AACA,mBAAI,CAACE,IAAL,GAAYF,KAAZ;AACA,gBAAIG,SAAS,GAAGN,eAAe,CAACvM,KAAhB,GAAwB2M,EAAE,GAAGF,iBAA7C;AACA,gBAAII,SAAS,IAAI,EAAjB,EAAqBA,SAAS,GAAG,EAAZ;AACrBL,qBAAS,CAACM,YAAV,CAAuBP,eAAvB,EAAwC,OAAxC,YAAoDM,SAApD;AACD,WAZa;AAAA,SAAd;;AA/CE,YAAME,cAAc,GAAG1b,MAAM,CAAC+Z,eAAD,CAA7B;AACA,aAAK4B,QAAL,GACED,cAAc,IAAIA,cAAc,KAAK,CAArC,GAAyCA,cAAzC,GAA0D,IAD5D;AAEA,aAAKnB,WAAL,CACG7I,IADH,CACQ,oEAAa,GAAb,EAAkB9S,SAAlB,EAA6B;AAAEgd,iBAAO,EAAE,KAAX;AAAkBC,kBAAQ,EAAE;AAA5B,SAA7B,CADR,EAEGzW,SAFH,CAEa,UAAC0W,IAAD,EAAU;AACnB,iBAAI,CAACC,UAAL,CAAgBD,IAAhB;AACD,SAJH;AAKD;;;;eAzCD,mBAAU;AACR,eAAKE,KAAL;AACD;;;eAGD,8BAAqB;AACnB,eAAKC,aAAL;AACD;;;eAGD,iBAAQtP,CAAR,EAAW;AACT,cAAI,CAAC,KAAKwN,OAAV,EAAmB;AACnB,eAAK8B,aAAL;AACA,cAAI,CAACtP,CAAD,IAAMA,CAAC,CAACuP,OAAF,KAAc,KAAxB,EAA+B;AAC/B,eAAK5B,oBAAL,GAA4B3N,CAA5B;AACA,eAAKwP,gBAAL;AACA,eAAKC,WAAL;AACA,eAAKC,eAAL,CAAqB,KAAKC,QAAL,CAAc/I,aAAnC;AACA,eAAKgJ,uBAAL;AACD;;;eAwBD,oBAAW;;;AACT,eAAKnb,MAAL,CAAYob,eAAZ,GAA8B,KAAKpb,MAAL,CAAYob,eAAZ,GAC1B,KAAKpb,MAAL,CAAYob,eADc,GAE1B,4DAAoBA,eAFxB;AAGA,eAAKpb,MAAL,CAAYgI,gBAAZ,GAA+B,KAAKhI,MAAL,CAAYgI,gBAAZ,GAC3B,KAAKhI,MAAL,CAAYgI,gBADe,GAE3B,4DAAoBA,gBAFxB;AAGA,eAAKhI,MAAL,CAAYiI,sBAAZ,GAAqC,KAAKjI,MAAL,CAAYiI,sBAAZ,GACjC,KAAKjI,MAAL,CAAYiI,sBADqB,GAEjC,4DAAoBA,sBAFxB;AAGA,eAAKjI,MAAL,CAAYqb,mBAAZ,GACE,KAAKrb,MAAL,CAAYqb,mBAAZ,IAAmC,IAAnC,GACI,4DAAoBA,mBADxB,GAEI,KAAKrb,MAAL,CAAYqb,mBAHlB;AAKA,eAAK3H,aAAL,CAAmB4H,eAAnB,GACE,KAAK5H,aAAL,CAAmB4H,eAAnB,IACA,KAAKtb,MAAL,CAAY4K,eADZ,IAEA,4DAAoBA,eAFpB,KAEmC,MACnC,KAAK5K,MAAL,CAAYyU,KAAZ,CAAkB,CAAlB,CADmC,MACf,IADe,IACf,aADe,GACf,MADe,GACf,GAAE9a,KAHtB,CADF;AAMA,eAAK+Z,aAAL,CAAmB6H,eAAnB,GACE,KAAK7H,aAAL,CAAmB6H,eAAnB,IACA,KAAKvb,MAAL,CAAY6K,eADZ,IAEA,4DAAoBA,eAHtB;AAKA,eAAK6I,aAAL,CAAmB4D,WAAnB,CAA+B,KAAK5D,aAAL,CAAmB4H,eAAlD;AACA,eAAK5H,aAAL,CAAmB6D,WAAnB,CAA+B,KAAK7D,aAAL,CAAmB6H,eAAlD;AACD;;;eAED,2BAAkB;AAChB,cAAI,yDAAU,KAAK3C,SAAf,CAAJ,EAA+B;AAC7B,iBAAKgC,KAAL;AACD;AACF;;;eAiBD,uBAA6B;AAAA,cAAjBY,OAAiB,uEAAP,KAAO;;;;AAC3B,cAAM/E,SAAS,GAAG,KAAK7C,GAAL,CAAS6H,YAAT,EAAlB;AACAhF,mBAAS,CAACiF,eAAV;AACA,cAAMC,KAAK,GAAG,KAAK/H,GAAL,CAASgI,WAAT,EAAd;;AACA,cAAI,QAAC,KAAK1C,oBAAN,MAA0B,IAA1B,IAA0B,aAA1B,GAA0B,MAA1B,GAA0B,GAAE2C,UAA5B,CAAJ,EAA4C;AAC1C;AACD;;AACDF,eAAK,CAACG,UAAN,CAAiB,KAAK5C,oBAAtB;AACAyC,eAAK,CAACI,QAAN,CAAeP,OAAf;AACA/E,mBAAS,CAACuF,QAAV,CAAmBL,KAAnB;AACA,eAAK3d,CAAL,CAAOie,QAAP,CAAgB,KAAKf,QAAL,CAAc/I,aAA9B,EAA6C,aAA7C,EAA4D,aAA5D;AACD,S,CAED;;;;eACA,4BAAmB;AAAA;;;;AACjB,cAAM0E,MAAM,GAAG,KAAKqC,oBAAL,CAA0B2C,UAAzC;AACA,cAAI,CAAJ,KAAIhF,MAAM,CAAClK,SAAP,MAAgB,IAAhB,IAAgB,aAAhB,GAAgB,MAAhB,GAAgB,GAAEyF,QAAF,CAAW,uCAAX,CAApB,EACE;AACF,cAAM8J,OAAO,GAAG,KAAKle,CAAL,CAAO2S,aAAP,CAAqB,KAArB,CAAhB;AACA,eAAK3S,CAAL,CAAOwX,QAAP,CAAgB0G,OAAhB,EAAyB,uCAAzB;AACA,eAAKle,CAAL,CAAOme,YAAP,CAAoBtF,MAApB,EAA4BqF,OAA5B,EAAqC,KAAKhD,oBAA1C;AACA,eAAKlb,CAAL,CAAOoe,WAAP,CAAmBvF,MAAnB,EAA2B,KAAKqC,oBAAhC;AACA,eAAKlb,CAAL,CAAOoN,WAAP,CAAmB8Q,OAAnB,EAA4B,KAAKhD,oBAAjC;AACA,eAAKlb,CAAL,CAAOqe,MAAP,CAAcH,OAAd,EAAuB,WAAvB,EAAoC,UAAC3Q,CAAD,EAAO;AACzCA,aAAC,CAACT,cAAF;;AACA,mBAAI,CAACmO,oBAAL;;AACA,mBAAI,CAACkB,IAAL,GAAY5O,CAAC,CAACsJ,CAAF,IAAO,IAAP,GAActJ,CAAC,CAACsJ,CAAhB,GAAoBtJ,CAAC,CAAC4B,OAAlC;AACA,mBAAI,CAAC8L,oBAAL,GAA4B,OAAI,CAACjb,CAAL,CAAOqe,MAAP,CAC1B,OAAI,CAACzI,GADqB,EAE1B,WAF0B,EAG1B,OAAI,CAACiG,WAAL,CAAiB,OAAI,CAACX,oBAAtB,EAA4C,OAAI,CAAClb,CAAjD,CAH0B,CAA5B;AAKD,WATD;AAUD;;;eAED,+BAAsB;AACpB,eAAKib,oBAAL;AACA,cAAMqD,QAAQ,GAAG,KAAK1I,GAAL,CAAS2I,sBAAT,CACf,uCADe,CAAjB;;AAGA,eAAK,IAAIxf,CAAC,GAAGuf,QAAQ,CAACve,MAAT,GAAkB,CAA/B,EAAkChB,CAAC,IAAI,CAAvC,EAA0CA,CAAC,EAA3C,EAA+C;AAC7C,gBAAMmf,OAAO,GAAGI,QAAQ,CAACvf,CAAD,CAAxB;AACA,iBAAK2W,aAAL,CAAmB8I,sBAAnB,CAA0CN,OAA1C;AACD;AACF;;;eAED,yBAAgB;AACd,eAAKO,mBAAL;AACA,cAAI,CAAC,KAAKvD,oBAAV,EAAgC;AAChC,eAAKlb,CAAL,CAAOyX,WAAP,CACE,KAAKyD,oBADP,EAEE,+BAFF;AAIA,eAAKA,oBAAL,GAA4B,IAA5B;AACA,eAAK+B,eAAL,CAAqB,KAAKC,QAAL,CAAc/I,aAAnC;AACA,eAAKnU,CAAL,CAAOie,QAAP,CAAgB,KAAKf,QAAL,CAAc/I,aAA9B,EAA6C,aAA7C,EAA4D,OAA5D;AACD;;;eAED,iBAAQnI,KAAR,EAA+B;;;AAC7B,cAAI,KAAKhK,MAAL,CAAY0c,QAAhB,EAA0B;AACxB1S,iBAAK,CAACc,cAAN;AACA,gBAAM6R,IAAI,GAAG,CAAH,KAAG3S,KAAK,CAAC4S,aAAN,MAAmB,IAAnB,IAAmB,aAAnB,GAAmB,MAAnB,GAAmB,GAAE1R,OAAF,CAAU,YAAV,CAAhC;AACAG,oBAAQ,CAACwR,WAAT,CAAqB,YAArB,EAAmC,KAAnC,EAA0CF,IAA1C;AACA,mBAAOA,IAAP;AACD;AACF;;;eAED,0BAAiBG,eAAjB,EAAkC;AAAA;;AAChC,cAAMC,QAAQ,GAAG,KAAK/e,CAAL,CAAOgf,UAAP,CAAkBF,eAAe,CAAClM,SAAlC,CAAjB;AACA,eAAK5S,CAAL,CAAOif,WAAP,CAAmBH,eAAnB,EAAoC,WAApC,EAAiD,EAAjD;AACA,eAAK9e,CAAL,CAAOif,WAAP,CAAmBH,eAAnB,EAAoC,iBAApC,EAAuD,KAAvD;AAEA,cAAMI,IAAI,GAAG,KAAKlf,CAAL,CAAO2S,aAAP,CAAqB,KAArB,CAAb;AACA,eAAK3S,CAAL,CAAOie,QAAP,CAAgBiB,IAAhB,EAAsB,QAAtB,EAAgC,GAAhC;AACA,eAAKlf,CAAL,CAAOie,QAAP,CAAgBiB,IAAhB,EAAsB,SAAtB,EAAiC,MAAjC;AAEA,cAAMC,KAAK,GAAG,KAAKnf,CAAL,CAAO2S,aAAP,CAAqB,MAArB,CAAd;AACA,eAAK3S,CAAL,CAAOif,WAAP,CAAmBE,KAAnB,EAA0B,IAA1B,EAAgC,eAAe,KAAKxhB,EAApD;AACA,eAAKqC,CAAL,CAAOie,QAAP,CAAgBkB,KAAhB,EAAuB,SAAvB,EAAkC,OAAlC;AACA,eAAKnf,CAAL,CAAOie,QAAP,CAAgBkB,KAAhB,EAAuB,aAAvB,EAAsC,UAAtC;AACA,eAAKnf,CAAL,CAAOie,QAAP,CAAgBkB,KAAhB,EAAuB,YAAvB,EAAqC,UAArC;AACA,eAAKnf,CAAL,CAAOie,QAAP,CAAgBkB,KAAhB,EAAuB,SAAvB,EAAkC,MAAlC;AACA,eAAKnf,CAAL,CAAOie,QAAP,CAAgBkB,KAAhB,EAAuB,QAAvB,EAAiC,GAAjC;AACA,eAAKnf,CAAL,CAAOie,QAAP,CAAgBkB,KAAhB,EAAuB,kBAAvB,EAA2C,SAA3C;AACA,eAAKnf,CAAL,CAAOif,WAAP,CAAmBE,KAAnB,EAA0B,iBAA1B,EAA6C,IAA7C;AACA,eAAKnf,CAAL,CAAOoN,WAAP,CAAmB+R,KAAnB,EAA0BJ,QAA1B;AACA,eAAKK,aAAL,GAAqB,KAAKpf,CAAL,CAAOqe,MAAP,CAAcc,KAAd,EAAqB,OAArB,EAA8B,UAACnT,KAAD;AAAA,mBACjD,OAAI,CAACqT,eAAL,CAAqBrT,KAArB,CADiD;AAAA,WAA9B,CAArB;AAGA,eAAKsT,YAAL,GAAoB,KAAKtf,CAAL,CAAOqe,MAAP,CAAcc,KAAd,EAAqB,MAArB,EAA6B,UAACnT,KAAD;AAAA,mBAC/C,OAAI,CAACuT,cAAL,CAAoBvT,KAApB,CAD+C;AAAA,WAA7B,CAApB;AAGA,eAAKhM,CAAL,CAAOoN,WAAP,CAAmB8R,IAAnB,EAAyBC,KAAzB;AACA,eAAKnf,CAAL,CAAOoN,WAAP,CAAmB0R,eAAnB,EAAoCI,IAApC;AAEA,eAAKtJ,GAAL,CAASiJ,WAAT,CAAqB,2BAArB,EAAkD,KAAlD,EAAyD,KAAzD;AACD;;;eAED,2BAAkB;AAChB,cAAM7d,KAAK,GAAG,KAAKoa,WAAL,CAAiB,KAAKC,mBAAtB,CAAd;AACA,eAAKrb,CAAL,CAAOif,WAAP,CAAmB,KAAK/B,QAAL,CAAc/I,aAAjC,EAAgD,WAAhD,EAA6DnT,KAA7D;;AACA,cAAI,CAAC,KAAK6Z,UAAV,EAAsB;AACpB,iBAAK2E,gBAAL,CAAsB,KAAKtC,QAAL,CAAc/I,aAApC;AACD;AACF;;;eAED,eAAM5G,CAAN,EAAS;AACP,cAAI,KAAK2N,oBAAT,EAA+B;AAC7B,iBAAK2B,aAAL;AACD;AACF;;;eAED,oBAAWtP,CAAX,EAAc;AACZ,cAAI,KAAK2N,oBAAT,EAA+B;AAC7B,iBAAK2B,aAAL;AACD;AACF;;;eAED,qBAAYtP,CAAZ,EAAe;;;AACb,cAAMkS,GAAG,GAAG,KAAK7J,GAAL,CAAS6H,YAAT,EAAZ;AACA,cAAMiC,SAAS,GAAGD,GAAG,CAACC,SAAtB;AACA,cAAMC,WAAW,GAAG,KAAKjK,aAAL,CAAmBkK,0BAAnB,CAClBF,SADkB,EAElB,sBAFkB,CAApB;;AAIA,cAAIC,WAAW,IAAIA,WAAW,CAACE,eAA/B,EAAgD;AAC9C,gBACEF,WAAW,CAAC/M,SAAZ,KAA0B,MAA1B,IACA,OAAA+M,WAAW,CAACE,eAAZ,MAA2B,IAA3B,IAA2B,aAA3B,GAA2B,MAA3B,GAA2B,GAAEjN,SAA7B,MAA2C,MAF7C,EAGE;AACA,mBAAK8C,aAAL,CAAmB8I,sBAAnB,CAA0CmB,WAAW,CAACE,eAAtD;AACA,mBAAKnK,aAAL,CAAmB8I,sBAAnB,CAA0CmB,WAA1C;AACA,mBAAK1C,eAAL,CAAqB,KAAKC,QAAL,CAAc/I,aAAnC,EAAkD,KAAlD;AACA;AACD;;AACD,gBAAM0L,eAAe,GAAGF,WAAW,CAACE,eAApC;;AACA,gBAAI,QAACA,eAAe,SAAf,IAAAA,eAAe,WAAf,GAAe,MAAf,GAAAA,eAAe,CAAElR,SAAlB,MAA2B,IAA3B,IAA2B,aAA3B,GAA2B,MAA3B,GAA2B,GAAEyF,QAAF,CAAW,sBAAX,CAA3B,CAAJ,EAAmE;AACjE;AACD;;AACD,gBAAM0L,wBAAwB,GAAG,CAAH,KAAG,KAAKpK,aAAL,CAC9BqK,oBAD8B,CACTF,eADS,OACO,IADP,IACO,aADP,GACO,MADP,GACO,GACpCG,IADoC,EADxC;;AAGA,gBAAI,CAACF,wBAAD,IAA6BA,wBAAwB,CAAC/f,MAAzB,GAAkC,CAAnE,EAAsE;AACpE,mBAAK2V,aAAL,CAAmB8I,sBAAnB,CAA0CmB,WAAW,CAACE,eAAtD;AACA,kBAAMI,oBAAoB,GACxB,KAAKvK,aAAL,CAAmBqK,oBAAnB,CAAwCJ,WAAxC,CADF;;AAEA,kBAAI,EAACM,oBAAoB,SAApB,IAAAA,oBAAoB,WAApB,GAAoB,MAApB,GAAAA,oBAAoB,CAAED,IAAtB,EAAD,CAAJ,EAAmC;AACjC,qBAAKtK,aAAL,CAAmB8I,sBAAnB,CAA0CmB,WAA1C;AACD;;AACD,mBAAK1C,eAAL,CAAqB,KAAKC,QAAL,CAAc/I,aAAnC,EAAkD,KAAlD;AACD;AACF;AACF;AAED;;;;;;;;eAKA,wBAAegD,OAAf,EAAgC3b,KAAhC,EAAgD;AAC9C,eAAKohB,KAAL;;AACA,cAAIzF,OAAO,KAAK,OAAhB,EAAyB;AACvB;AACD;;AACD,cAAIA,OAAO,KAAK,kBAAhB,EAAoC;AAClC,iBAAK+I,gBAAL,CAAsB,KAAKrF,UAA3B;AACD,WAFD,MAEO,IAAI1D,OAAO,KAAK,EAAhB,EAAoB;AACzB,gBAAIA,OAAO,KAAK,OAAhB,EAAyB;AACvB,mBAAKzB,aAAL,CAAmByK,sBAAnB,CAA0C,KAAKC,aAAL,EAA1C;AACA,mBAAKnD,eAAL,CAAqB,KAAKC,QAAL,CAAc/I,aAAnC;AACD,aAHD,MAGO,IAAIgD,OAAO,KAAK,SAAhB,EAA2B;AAChC,mBAAKzB,aAAL,CAAmByK,sBAAnB,CAA0C,yBAA1C;AACA,mBAAKlD,eAAL,CAAqB,KAAKC,QAAL,CAAc/I,aAAnC;AACD,aAHM,MAGA;AACL,mBAAKuB,aAAL,CAAmB6F,cAAnB,CAAkCpE,OAAlC,EAA2C3b,KAA3C;AACD;;AACD,iBAAK6kB,IAAL;AACD;;AAED,eAAKpD,eAAL,CAAqB,KAAKC,QAAL,CAAc/I,aAAnC;AACD;;;eAED,yBAAgBnI,KAAhB,EAAiC;AAAA;;AAC/B,cAAI,KAAK+O,OAAT,EAAkB;AAChB/O,iBAAK,CAACkI,eAAN;AACA;AACD;;AACD,eAAKiJ,uBAAL;AACA,eAAKpC,OAAL,GAAe,IAAf;AACA,eAAKY,UAAL,CAAgBnd,IAAhB,CAAqBwN,KAArB;;AACA,cAAI,CAAC,KAAKgP,OAAN,IAAiB,CAAC,KAAKnd,OAA3B,EAAoC;AAClC,iBAAK6X,aAAL,CAAmB4K,2BAAnB,CAA+C,YAAM;AACnD,qBAAI,CAACC,SAAL;;AACA,qBAAI,CAACvF,OAAL,GAAe,IAAf;AACD,aAHD;AAID;AACF;AAED;;;;;;eAGO,4BAAmBhP,KAAnB,EAAoC;AACzC,eAAK0J,aAAL,CAAmB8K,aAAnB;AACD;;;eAED,wBAAexU,KAAf,EAAkC;AAChC,eAAK6Q,aAAL;AACA,eAAKnH,aAAL,CAAmB4K,2BAAnB,CACE,KAAK5K,aAAL,CAAmB8K,aADrB;;AAIA,cAAI,OAAO,KAAK3M,SAAZ,KAA0B,UAA9B,EAA0C;AACxC,iBAAKA,SAAL;AACD;;AAED,cAAI7H,KAAK,CAACyU,aAAN,KAAwB,IAA5B,EAAkC;AAChC,gBAAM5H,MAAM,GAAI7M,KAAK,CAACyU,aAAN,CAAoC7H,aAApD;;AACA,gBACEC,MAAM,IACN,CAACA,MAAM,CAAClK,SAAP,CAAiByF,QAAjB,CAA0B,4BAA1B,CADD,IAEA,CAACyE,MAAM,CAAClK,SAAP,CAAiByF,QAAjB,CAA0B,WAA1B,CAHH,EAIE;AACA,mBAAKsH,SAAL,CAAeld,IAAf,CAAoBwN,KAApB;AACA,mBAAK+O,OAAL,GAAe,KAAf;AACD;AACF;AACF;;;eAED,sBAAarY,OAAb,EAA2Bge,QAA3B,EAA+C;AAC7C,cAAI,CAAChe,OAAL,EAAc,OAAO,IAAP;;AACd,cAAIA,OAAO,IAAIge,QAAQ,CAAChH,QAAT,CAAkBhX,OAAO,CAACoa,OAA1B,CAAf,EAAmD;AACjD,mBAAOpa,OAAO,CAACoa,OAAf;AACD;;AACD,iBAAO,KAAK6D,YAAL,CAAkBje,OAAO,SAAP,IAAAA,OAAO,WAAP,GAAO,MAAP,GAAAA,OAAO,CAAEkW,aAA3B,EAA0C8H,QAA1C,CAAP;AACD;;;eAED,oCAAwB;;;AACtB,cACE,CAAC,CAAC,KAAD,EAAQ,KAAR,EAAe,SAAf,EAA0BhH,QAA1B,CAAmC,CAAD,KACjC,KAAKkH,aAAL,CAAmB7K,KADe,MACV,IADU,IACV,aADU,GACV,MADU,GACV,GAAEiC,WAAF,EADzB,CADH,EAIE;AACA,mBAAO,IAAP;AACD;;AACD,cAAMS,SAAS,GAAG,KAAK7C,GAAL,CAAS6H,YAAT,EAAlB;AACA,cAAIhF,SAAS,CAACoI,UAAV,GAAuB,CAA3B,EAA8B,OAAO,KAAP;AAC9B,cAAMC,OAAO,GAAGrI,SAAS,SAAT,IAAAA,SAAS,WAAT,GAAS,MAAT,GAAAA,SAAS,CAAEsI,UAAX,CAAsB,CAAtB,CAAhB;AACA,cAAIC,MAAM,GAAGF,OAAO,CAACnI,uBAArB;AACA,cAAMsI,QAAQ,GAAG,KAAKN,YAAL,CAAkBK,MAAlB,EAA0B,CACzC,IADyC,EAEzC,IAFyC,EAGzC,IAHyC,EAIzC,IAJyC,EAKzC,IALyC,EAMzC,IANyC,CAA1B,CAAjB;AAQA,iBACEC,QAAQ,IAAI,IAAZ,IACA,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqCvH,QAArC,CAA8CuH,QAA9C,CAFF;AAID;;;eAED,6BAAoBC,IAApB,EAAkCnJ,IAAlC,EAA+C;AAC7C,cAAMU,SAAS,GAAG,KAAK7C,GAAL,CAAS6H,YAAT,EAAlB;AACA,cAAMqD,OAAO,GAAGrI,SAAS,CAACsI,UAAV,CAAqB,CAArB,CAAhB;AACA,cAAIC,MAAM,GAAGjJ,IAAb;;AACA,cAAI,CAACiJ,MAAL,EAAa;AACXA,kBAAM,GAAGF,OAAO,SAAP,IAAAA,OAAO,WAAP,GAAO,MAAP,GAAAA,OAAO,CAAEnI,uBAAlB;AACD;;AACD,cAAMsI,QAAQ,GAAG,KAAKN,YAAL,CAAkBK,MAAlB,EAA0B,CACzC,IADyC,EAEzC,IAFyC,EAGzC,IAHyC,EAIzC,IAJyC,EAKzC,IALyC,EAMzC,IANyC,CAA1B,CAAjB;;AAQA,cAAIC,QAAJ,EAAc;AACZ,gBAAIpI,MAAM,GAAGmI,MAAM,CAACpI,aAApB;;AACA,mBAAOC,MAAP,EAAe;AACbA,oBAAM,CAACsI,eAAP,CAAuBD,IAAvB;AACArI,oBAAM,GAAGA,MAAM,CAACD,aAAhB;AACD;AACF;AACF;AAED;;;;;;eAGA,iBAAQ;AACN,cAAI,KAAKiC,UAAT,EAAqB;AACnB,iBAAKqC,QAAL,CAAc/I,aAAd,CAA4ByI,KAA5B;AACD,WAFD,MAEO;AACL,gBAAMwE,UAAU,GAAG,KAAKxL,GAAL,CAAStI,cAAT,CAAwB,eAAe,KAAK3P,EAA5C,CAAnB;AACAyjB,sBAAU,SAAV,IAAAA,UAAU,WAAV,GAAU,MAAV,GAAAA,UAAU,CAAExE,KAAZ;AACA,iBAAK7B,OAAL,GAAe,IAAf;AACD;;AACD,eAAKoC,uBAAL;AACD;;;eAED,oBAAWT,IAAX,EAAiB;AACf,cACE,KAAK1a,MAAL,CAAYgI,gBAAZ,IAAgC,IAAhC,IACA,KAAKoR,WAAL,CAAiBrb,MAAjB,IAA2B,KAAKiC,MAAL,CAAYgI,gBAFzC,EAGE;AACA,iBAAKoR,WAAL,CAAiBiG,KAAjB;AACA,iBAAKhG,mBAAL,IAA4B,CAA5B;AACD;;AACD,eAAKD,WAAL,CAAiBrb,MAAjB,GAA0B,KAAKsb,mBAAL,GAA2B,CAArD;AACA,eAAKD,WAAL,CAAiBtT,IAAjB,CAAsB4U,IAAtB;AACA,eAAKrB,mBAAL,GAA2B,KAAKD,WAAL,CAAiBrb,MAAjB,GAA0B,CAArD;AACD;AAED;;;;;;;eAIA,yBAAgB2C,OAAhB,EAAuD;AAAA,cAAzB4e,kBAAyB,uEAAJ,IAAI;AACrD,cAAI5E,IAAI,GAAG,EAAX;;AACA,cAAI,KAAK7B,UAAT,EAAqB;AACnB6B,gBAAI,GAAGha,OAAO,CAACkQ,SAAf;AACD,WAFD,MAEO;AACL8J,gBAAI,GAAGha,OAAO,CAAC6e,SAAf;AACD;;AACD,cAAI,CAAC7E,IAAD,IAASA,IAAI,KAAK,MAAtB,EAA8B;AAC5BA,gBAAI,GAAG,EAAP;AACD;;AACD,cAAI,OAAO,KAAK7M,QAAZ,KAAyB,UAA7B,EAAyC;AACvC,iBAAKA,QAAL,CACE,KAAK7N,MAAL,CAAY0H,QAAZ,IAAwB,KAAK1H,MAAL,CAAY0H,QAAZ,KAAyBlK,SAAjD,GACI,KAAKib,SAAL,CAAe/Q,QAAf,CAAwB,8DAAgB8X,IAAxC,EAA8C9E,IAA9C,KAAuDA,IAD3D,GAEIA,IAHN;;AAKA,gBAAI,CAACA,IAAD,KAAU,KAAK5B,eAAnB,EAAoC;AAClC,mBAAK2G,iBAAL,CAAuB,KAAK3G,eAA5B;AACD;AACF;;AACD,cAAIwG,kBAAJ,EAAwB;AACtB,iBAAKnG,WAAL,CAAiBhf,IAAjB,CAAsBugB,IAAtB;AACD;;AACD,eAAK7e,OAAL,GAAe,IAAf;AACA,eAAKsf,uBAAL;AACD;AAED;;;;;;;;;eAMA,0BAAiB1I,EAAjB,EAAwB;AACtB,eAAK5E,QAAL,GAAgB,UAACtC,CAAD;AAAA,mBAAQA,CAAC,KAAK,MAAN,GAAekH,EAAE,CAAC,EAAD,CAAjB,GAAwBA,EAAE,CAAClH,CAAD,CAAlC;AAAA,WAAhB;AACD;AAED;;;;;;;;;eAMA,2BAAkBkH,EAAlB,EAAyB;AACvB,eAAKZ,SAAL,GAAiBY,EAAjB;AACD;AAED;;;;;;;;eAKA,oBAAWjZ,KAAX,EAAqB;AACnB,cAAI,CAAC,CAACA,KAAD,IAAUA,KAAK,KAAK,MAApB,IAA8BA,KAAK,KAAK,EAAzC,MAAiD,KAAKsf,eAA1D,EAA2E;AACzE,iBAAK2G,iBAAL,CAAuB,KAAK3G,eAA5B;AACD;;AAED,cAAItf,KAAK,KAAKgE,SAAV,IAAuBhE,KAAK,KAAK,EAAjC,IAAuCA,KAAK,KAAK,MAArD,EAA6D;AAC3DA,iBAAK,GAAG,IAAR;AACD;;AAED,eAAKkmB,WAAL,CAAiBlmB,KAAjB;AACD;AAED;;;;;;;;eAKA,qBAAYA,KAAZ,EAAyB;AACvB,cAAMmmB,eAAe,GAAGnmB,KAAK,KAAK,IAAV,GAAiB,EAAjB,GAAsBA,KAA9C;AACA,eAAKwE,CAAL,CAAOif,WAAP,CACE,KAAK/B,QAAL,CAAc/I,aADhB,EAEE,WAFF,EAGEwN,eAHF;;AAKA,cAAInmB,KAAK,KAAK,IAAV,IAAkB,KAAK4f,WAAL,CAAiBrb,MAAjB,KAA4B,CAAlD,EAAqD;AACnD,iBAAKqb,WAAL,CAAiBtT,IAAjB,CAAsB,KAAKoV,QAAL,CAAc/I,aAAd,CAA4BvB,SAAlD;AACA,iBAAKyI,mBAAL,GAA2B,CAA3B;AACD;;AAED;AACD;AAED;;;;;;;;eAKA,2BAAkB7f,KAAlB,EAAgC;AAC9B,cAAI,CAACA,KAAL,EAAY;AACV,iBAAKwE,CAAL,CAAOwX,QAAP,CAAgB,KAAKoK,aAAL,CAAmBzN,aAAnC,EAAkD,kBAAlD;AACA,iBAAK2G,eAAL,GAAuB,IAAvB;AACD,WAHD,MAGO;AACL,iBAAK9a,CAAL,CAAOyX,WAAP,CAAmB,KAAKmK,aAAL,CAAmBzN,aAAtC,EAAqD,kBAArD;AACA,iBAAK2G,eAAL,GAAuB,KAAvB;AACD;AACF;AAED;;;;;;;;eAKA,0BAAiBpG,UAAjB,EAAoC;AAClC,cAAMhC,GAAG,GAAG,KAAKwK,QAAL,CAAc/I,aAA1B;AACA,cAAMS,MAAM,GAAGF,UAAU,GAAG,UAAH,GAAgB,aAAzC;AACA,eAAK1U,CAAL,CAAO4U,MAAP,EAAelC,GAAf,EAAoB,UAApB;AACA,eAAKc,QAAL,GAAgBkB,UAAhB;AACD;AAED;;;;;;;;eAKA,0BAAiBmN,SAAjB,EAAqC;AAAA;;AACnC,cAAI9C,QAAJ;AACA,cAAMD,eAAe,GAAG,KAAK5B,QAAL,CAAc/I,aAAtC;;AAEA,cAAI0N,SAAJ,EAAe;AACb9C,oBAAQ,GAAG,KAAK/e,CAAL,CAAOgf,UAAP,CAAkBF,eAAe,CAAClM,SAAlC,CAAX;AACA,iBAAK5S,CAAL,CAAOif,WAAP,CAAmBH,eAAnB,EAAoC,WAApC,EAAiD,EAAjD;AACA,iBAAK9e,CAAL,CAAOif,WAAP,CAAmBH,eAAnB,EAAoC,iBAApC,EAAuD,KAAvD;AAEA,gBAAMI,IAAI,GAAG,KAAKlf,CAAL,CAAO2S,aAAP,CAAqB,KAArB,CAAb;AACA,iBAAK3S,CAAL,CAAOie,QAAP,CAAgBiB,IAAhB,EAAsB,QAAtB,EAAgC,GAAhC;AACA,iBAAKlf,CAAL,CAAOie,QAAP,CAAgBiB,IAAhB,EAAsB,SAAtB,EAAiC,MAAjC;AAEA,gBAAMC,KAAK,GAAG,KAAKnf,CAAL,CAAO2S,aAAP,CAAqB,MAArB,CAAd;AACA,iBAAK3S,CAAL,CAAOif,WAAP,CAAmBE,KAAnB,EAA0B,IAA1B,EAAgC,eAAe,KAAKxhB,EAApD;AACA,iBAAKqC,CAAL,CAAOie,QAAP,CAAgBkB,KAAhB,EAAuB,SAAvB,EAAkC,OAAlC;AACA,iBAAKnf,CAAL,CAAOie,QAAP,CAAgBkB,KAAhB,EAAuB,aAAvB,EAAsC,UAAtC;AACA,iBAAKnf,CAAL,CAAOie,QAAP,CAAgBkB,KAAhB,EAAuB,YAAvB,EAAqC,UAArC;AACA,iBAAKnf,CAAL,CAAOie,QAAP,CAAgBkB,KAAhB,EAAuB,SAAvB,EAAkC,MAAlC;AACA,iBAAKnf,CAAL,CAAOie,QAAP,CAAgBkB,KAAhB,EAAuB,QAAvB,EAAiC,GAAjC;AACA,iBAAKnf,CAAL,CAAOie,QAAP,CAAgBkB,KAAhB,EAAuB,kBAAvB,EAA2C,SAA3C;AACA,iBAAKnf,CAAL,CAAOif,WAAP,CAAmBE,KAAnB,EAA0B,iBAA1B,EAA6C,IAA7C;AACA,iBAAKnf,CAAL,CAAOoN,WAAP,CAAmB+R,KAAnB,EAA0BJ,QAA1B;AACA,iBAAKK,aAAL,GAAqB,KAAKpf,CAAL,CAAOqe,MAAP,CAAcc,KAAd,EAAqB,OAArB,EAA8B,UAACnT,KAAD;AAAA,qBACjD,OAAI,CAACqT,eAAL,CAAqBrT,KAArB,CADiD;AAAA,aAA9B,CAArB;AAGA,iBAAKsT,YAAL,GAAoB,KAAKtf,CAAL,CAAOqe,MAAP,CAAcc,KAAd,EAAqB,MAArB,EAA6B,UAACnT,KAAD;AAAA,qBAC/C,OAAI,CAACuT,cAAL,CAAoBvT,KAApB,CAD+C;AAAA,aAA7B,CAApB;AAGA,iBAAKhM,CAAL,CAAOoN,WAAP,CAAmB8R,IAAnB,EAAyBC,KAAzB;AACA,iBAAKnf,CAAL,CAAOoN,WAAP,CAAmB0R,eAAnB,EAAoCI,IAApC;AAEA,iBAAKtJ,GAAL,CAASiJ,WAAT,CAAqB,2BAArB,EAAkD,KAAlD,EAAyD,KAAzD;AAEA,iBAAKhE,UAAL,GAAkB,KAAlB;AACA,iBAAKY,QAAL,CAAcjd,IAAd,CAAmB,KAAnB;AACA2gB,iBAAK,CAACvC,KAAN;AACD,WAjCD,MAiCO;AACL,gBAAI,KAAKhH,GAAL,CAAS,kBAAT,CAAJ,EAAkC;AAChC,mBAAK5V,CAAL,CAAOif,WAAP,CACEH,eADF,EAEE,WAFF,EAGEA,eAAe,CAACyC,SAHlB;AAKD,aAND,MAMO;AACLxC,sBAAQ,GAAG,KAAKnJ,GAAL,CAASgI,WAAT,EAAX;AACAmB,sBAAQ,CAAC+C,kBAAT,CAA4BhD,eAAe,CAACiD,UAA5C;AACA,mBAAK/hB,CAAL,CAAOif,WAAP,CAAmBH,eAAnB,EAAoC,WAApC,EAAiDC,QAAQ,CAACjI,QAAT,EAAjD;AACD;;AACD,iBAAK9W,CAAL,CAAOif,WAAP,CAAmBH,eAAnB,EAAoC,iBAApC,EAAuD,IAAvD;AACA,iBAAKjE,UAAL,GAAkB,IAAlB;AACA,iBAAKY,QAAL,CAAcjd,IAAd,CAAmB,IAAnB;AACA,iBAAKye,eAAL,CAAqB6B,eAArB,EAAsC,KAAtC;AACAA,2BAAe,CAAClC,KAAhB;AACD;;AACD,eAAKgE,aAAL,CAAmBoB,aAAnB,CAAiC,CAAC,KAAKnH,UAAvC;AACD;;;eAED,4BAAmB;AAAA;;;;AACjB,cAAI,KAAK7Y,MAAL,CAAYqb,mBAAZ,KAAoC,KAApC,IAA6C,CAAC,KAAKxC,UAAvD,EAAmE;AACnE,cAAI,CAAC,KAAKA,UAAV,EAAsB;AACtB,cAAMpC,SAAS,GAAG,KAAK7C,GAAL,CAAS6H,YAAT,EAAlB;AACA,cAAMwE,OAAO,GAAG,CAAH,KAAGxJ,SAAS,CAACyJ,UAAV,MAAoB,IAApB,IAAoB,aAApB,GAAoB,MAApB,GAAoB,GAAEC,WAAtC;AACA,cAAMC,eAAe,GAAG;AACtB,kBAAM;AAAEjL,qBAAO,EAAE,mBAAX;AAAgCkL,qBAAO,EAAE,CAAC,CAAD;AAAzC,aADgB;AAEtB,iBAAK;AAAElL,qBAAO,EAAE,qBAAX;AAAkCkL,qBAAO,EAAE,CAAC,CAAD;AAA3C,aAFiB;AAGtB,iBAAK;AACHlL,qBAAO,EAAE;AAAA,uBACP,OAAI,CAACzB,aAAL,CAAmB2E,iBAAnB,CAAqC;AACnCvX,sBAAI,EAAE,OAD6B;AAEnC,2BAAO;AAF4B,iBAArC,CADO;AAAA,eADN;AAMHuf,qBAAO,EAAE,CAAC,CAAD;AANN;AAHiB,WAAxB;AAYA,cAAMC,eAAe,GAAGF,eAAe,CAACH,OAAO,GAAGA,OAAO,CAACjC,IAAR,EAAH,GAAoB,EAA5B,CAAvC;;AACA,cACEsC,eAAe,IACfA,eAAe,CAACnL,OADhB,KACuB,MACvBmL,eAAe,CAACD,OADO,MACA,IADA,IACA,aADA,GACA,MADA,GACA,GAAE3I,QAAF,CAAWjB,SAAS,CAAC8J,YAArB,CAFvB,CADF,EAIE;AACA,gBAAI,OAAOD,eAAe,CAACnL,OAAvB,IAAkC,QAAtC,EAAgD;AAC9C,mBAAKvB,GAAL,CAASiJ,WAAT,CAAqByD,eAAe,CAACnL,OAArC,EAA8C,KAA9C;AACA,kBAAM2J,OAAO,GAAGrI,SAAS,CAACsI,UAAV,CAAqB,CAArB,CAAhB;AACA,kBAAMC,MAAM,GAAGF,OAAO,CAACnI,uBAAvB;AACAF,uBAAS,CAACiF,eAAV;AACA,kBAAMC,KAAK,GAAG,KAAK/H,GAAL,CAASgI,WAAT,EAAd;AACAD,mBAAK,CAACmE,kBAAN,CAAyBd,MAAzB;AACAvI,uBAAS,CAACuF,QAAV,CAAmBL,KAAnB;AACAA,mBAAK,CAAC6E,cAAN;AACD,aATD,MASO;AACL,kBAAM1B,QAAO,GAAGrI,SAAS,CAACsI,UAAV,CAAqB,CAArB,CAAhB;;AACA,kBAAMC,OAAM,GAAGF,QAAO,CAACnI,uBAAvB;AACAF,uBAAS,CAACiF,eAAV;;AACA,kBAAMC,MAAK,GAAG,KAAK/H,GAAL,CAASgI,WAAT,EAAd;;AACAD,oBAAK,CAACmE,kBAAN,CAAyBd,OAAzB;;AACAvI,uBAAS,CAACuF,QAAV,CAAmBL,MAAnB;AACA2E,6BAAe,CAACnL,OAAhB;AACD;AACF;AACF;AAED;;;;;;;;eAKA,gBAAgD;AAAA,cAA3CnS,MAA2C,uEAAN,IAAM;;;;AAC9C,eAAKmY,uBAAL;;AACA,cAAInY,MAAM,KAAKA,MAAM,CAACrF,GAAP,KAAe,QAAf,IAA2BqF,MAAM,CAACrF,GAAP,KAAe,WAA/C,CAAV,EAAuE;AACrE,gBAAI,KAAKub,oBAAT,EAA+B;AAC7B,mBAAKuD,mBAAL;;AACA,kBAAIzZ,MAAM,CAACrF,GAAP,KAAe,QAAnB,EAA6B;AAC3B,qBAAKqd,WAAL,CAAiB,IAAjB;AACD;AACF,aALD,MAKO,IAAIhY,MAAM,CAACrF,GAAP,KAAe,WAAnB,EAAgC;AACrC,kBAAM8iB,2BAA2B,GAC/B,KAAK7M,GAAL,CAAS0B,iBAAT,CAA2B,eAA3B,KACA,KAAK1B,GAAL,CAAS0B,iBAAT,CAA2B,cAA3B,CAFF;AAGA,kBAAMmB,SAAS,GAAG,KAAK7C,GAAL,CAAS6H,YAAT,EAAlB;AACA,kBAAMwE,OAAO,GAAG,CAAH,KAAGxJ,SAAS,SAAT,IAAAA,SAAS,WAAT,GAAS,MAAT,GAAAA,SAAS,CAAEyJ,UAAX,MAAqB,IAArB,IAAqB,aAArB,GAAqB,MAArB,GAAqB,GAAEC,WAAvC;AACA,kBAAMO,sBAAsB,eAC1BjK,SAAS,SAAT,IAAAA,SAAS,WAAT,GAAS,MAAT,GAAAA,SAAS,CAAEyJ,UADe,MACL,IADK,IACL,aADK,GACL,MADK,GACL,GAAErC,eADG,MACY,IADZ,IACY,aADZ,GACY,MADZ,GACY,GAAEsC,WAD1C;;AAEA,kBACEM,2BAA2B,IAC3BR,OAAO,KAAK,EADZ,IAEAS,sBAAsB,KAAK,EAH7B,EAIE;AACA,qBAAK9M,GAAL,CAASiJ,WAAT,CAAqB,aAArB;AACD;AACF;AACF;;AAED,eAAK+B,aAAL,CAAmB+B,cAAnB;AAEA,cAAIC,aAAJ;;AACA,cAAI,KAAKhN,GAAL,CAAS6H,YAAb,EAA2B;AACzBmF,yBAAa,GAAG,KAAKhN,GAAL,CAAS6H,YAAT,EAAhB;AACA,iBAAK/H,aAAL,CAAmB4K,2BAAnB,CACE,KAAK5K,aAAL,CAAmB8K,aADrB;AAGD;;AAED,cAAIqC,CAAC,GAAGD,aAAa,CAAClD,SAAtB;AACA,cAAMoD,GAAG,GAAG,EAAZ;;AAEA,iBAAOD,CAAC,IAAIA,CAAC,CAACllB,EAAF,KAAS,QAArB,EAA+B;AAC7BmlB,eAAG,CAAC/L,OAAJ,CAAY8L,CAAZ;AACAA,aAAC,GAAGA,CAAC,CAAChF,UAAN;AACD;;AAED,cAAI7Y,MAAM,IAAIA,MAAM,CAACjC,IAAP,KAAgB,OAA1B,IAAqCiC,MAAM,CAACrF,GAAP,KAAe,GAAxD,EAA6D;AAC3D,iBAAKojB,gBAAL;AACD;;AAED,cAAI,CAAC,CAAC,KAAD,EAAQ,KAAR,EAAe,SAAf,EAA0BrJ,QAA1B,CAAmC,KAAKkH,aAAL,CAAmB7K,KAAtD,CAAL,EAAmE;AACjE,iBAAKiN,mBAAL,CAAyB,MAAzB,EAAiCJ,aAAa,CAAClD,SAA/C;AACD;;AAED,eAAKvC,uBAAL;AACA,eAAKyD,aAAL,CAAmBqC,aAAnB,CAAiCH,GAAjC;AACD;;;eAED,mCAA0B;AACxB,cAAI,KAAKjI,UAAT,EAAqB;AACnB,gBAAMqI,gBAAgB,GAAG,KAAKxN,aAAL,CAAmByN,mBAAnB,EAAzB;AACA,gBAAMC,gBAAgB,GAAG,KAAKC,uBAAL,EAAzB;AACA,gBAAMC,gBAAgB,GAAG,KAAKC,uBAAL,EAAzB;;AAEA,gBACEH,gBAAgB,IAChB,KAAK1N,aAAL,CAAmB4H,eADnB,IAEA4F,gBAAgB,CAACM,SAHnB,EAIE;AACA,mBAAK9N,aAAL,CAAmB4D,WAAnB,CAA+B,KAAK5D,aAAL,CAAmB4H,eAAlD;AACD;;AAED,gBACE,CAAC,KAAKmG,wBAAL,EAAD,IACAH,gBADA,IAEA,KAAK5N,aAAL,CAAmB6H,eAFnB,IAGA+F,gBAAgB,KAAK,KAAK5N,aAAL,CAAmB6H,eAHxC,IAIA+F,gBAAgB,CAAChL,OAAjB,CAAyB,IAAzB,EAA+B,EAA/B,MACE,KAAK5C,aAAL,CAAmB6H,eALrB,IAMA2F,gBAAgB,CAACM,SAPnB,EAQE;AACA,mBAAK9N,aAAL,CAAmB6D,WAAnB,CAA+B,KAAK7D,aAAL,CAAmB6H,eAAlD;AACD;AACF;AACF;;;eAEO,qBAAY;AAClB,eAAK7H,aAAL,CAAmBmE,SAAnB,GAA+B,KAAK7X,MAAL,CAAY6X,SAA3C;AACA,eAAKnE,aAAL,CAAmBgO,qBAAnB,GACE,KAAK1hB,MAAL,CAAY0hB,qBADd;;AAEA,cAAI,KAAK1hB,MAAL,CAAY4H,yBAAhB,EAA2C;AACzC,iBAAK8L,aAAL,CAAmBiO,4BAAnB,CACE,KAAK3hB,MAAL,CAAY4H,yBADd;AAGD;AACF;;;eAED,oBAAW;AACT,cAAM6M,KAAK,GAAG,KAAKzU,MAAL,CAAYyU,KAAZ,GACV,KAAKzU,MAAL,CAAYyU,KADF,GAEV,4DAAoBA,KAFxB;AAGA,iBAAOA,KAAK,SAAL,IAAAA,KAAK,WAAL,GAAK,MAAL,GAAAA,KAAK,CAAEjE,GAAP,CAAW,UAACqE,CAAD,EAAO;AACvB,mBAAO;AAAElb,mBAAK,EAAEkb,CAAC,CAAClb,KAAF,IAAWkb,CAAC,CAAC/T,IAAtB;AAA4BtH,mBAAK,EAAEqb,CAAC,CAAC/T;AAArC,aAAP;AACD,WAFM,CAAP;AAGD;;;eAED,yBAAgB;;;AACd,cAAM8gB,IAAI,GAAG,CAAC,MAAD,CAAb;AACA,qBAAK5hB,MAAL,CAAY6H,aAAZ,MAAyB,IAAzB,IAAyB,aAAzB,GAAyB,MAAzB,GAAyB,GAAEwN,OAAF,CAAU,UAACR,CAAD,EAAO;AACxC,gBAAIA,CAAC,CAAC/M,GAAF,KAAUtK,SAAd,EAAyB;AACvB,kBAAI,CAACokB,IAAI,CAAClK,QAAL,CAAc7C,CAAC,CAAC/M,GAAhB,CAAL,EAA2B;AACzB8Z,oBAAI,CAAC9b,IAAL,CAAU+O,CAAC,CAAC/M,GAAZ;AACD;AACF;AACF,WANwB,CAAzB;AAOA,iBAAO8Z,IAAI,CAACthB,IAAL,CAAU,GAAV,CAAP;AACD;;;eAED,uBAAc;AACZ,cAAI,KAAKgd,YAAT,EAAuB;AACrB,iBAAKA,YAAL;AACD;;AACD,cAAI,KAAKF,aAAT,EAAwB;AACtB,iBAAKA,aAAL;AACD;AACF;;;eAED,sBAAa1C,IAAb,EAAyB;AACvBA,cAAI,GAAGA,IAAI,CAACpE,OAAL,CAAa,kBAAb,EAAiC,EAAjC,CAAP;AACA,iBAAOoE,IAAP;AACD;;;eAED,mCAA0B;AACxB,cAAIxF,YAAY,GAAG,KAAKtB,GAAL,CAAS6H,YAAT,EAAnB;;AAEA,cAAIvG,YAAY,IAAIA,YAAY,CAAC2J,UAAb,GAA0B,CAA9C,EAAiD;AAC/C,gBAAIlD,KAAK,GAAGzG,YAAY,CAAC6J,UAAb,CAAwB,CAAxB,CAAZ;AACA,gBAAInI,aAAa,GACf+E,KAAK,CAAChF,uBAAN,CAA8BkL,QAA9B,KAA2C,CAA3C,GACIlG,KAAK,CAAChF,uBADV,GAEIgF,KAAK,CAAChF,uBAAN,CAA8BkF,UAHpC;;AAIA,gBAAI,CAACjF,aAAL,EAAoB;AAClB,qBAAO,IAAP;AACD;;AACD,gBAAIkL,aAAa,GAAGC,gBAAgB,CAACnL,aAAD,CAApC;AAEA,gBAAMoL,QAAQ,GAAGF,aAAa,CAACG,UAA/B;AACA,mBAAOD,QAAP;AACD,WAbD,MAaO;AACL,mBAAO,IAAP;AACD;AACF;;;eAED,mCAA0B;AACxB,cAAI9M,YAAY,GAAG,KAAKtB,GAAL,CAAS6H,YAAT,EAAnB;;AAEA,cAAIvG,YAAY,CAAC2J,UAAb,GAA0B,CAA9B,EAAiC;AAC/B,gBAAIlD,KAAK,GAAGzG,YAAY,CAAC6J,UAAb,CAAwB,CAAxB,CAAZ;AACA,gBAAInI,aAAa,GACf+E,KAAK,CAAChF,uBAAN,CAA8BkL,QAA9B,KAA2C,CAA3C,GACIlG,KAAK,CAAChF,uBADV,GAEIgF,KAAK,CAAChF,uBAAN,CAA8BkF,UAHpC;AAIA,gBAAIiG,aAAa,GAAGC,gBAAgB,CAACnL,aAAD,CAApC;AAEA,mBAAOkL,aAAa,CAAC7M,QAArB;AACD,WATD,MASO;AACL,mBAAO,IAAP;AACD;AACF;;;;;;;uBAl1BUuD,sB,EAAsB,wH,EAAA,6I,EAAA,gEA2EvB,wDA3EuB,C,EA2Ef,uI,EAAA,gI,EAAA,gEAIL,UAJK,C,EAIK,gEAEV,WAFU,C;AAEC,K;;;YAjFbA,sB;AAAsB,qC;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mBAAtB,a;AAAS,W,EAAA,a,EAAA;AAAA,mBAAT,wBAAS;AAAW,W,EAAA,O,EAAA;AAAA,mBAApB,0BAAoB;AAAE,W,EAAA,K,EAAA,6D;;;;;;;;;;;;;;;;;;;kFATtB,CACT;AACEpF,eAAO,EAAE,gEADX;AAEEC,mBAAW,EAAE,iEAAW;AAAA,iBAAMmF,sBAAN;AAAA,SAAX,CAFf;AAGElF,aAAK,EAAE;AAHT,OADS,EAMT,4EANS,C;AAOV,e;AAAA,c;AAAA,msB;AAAA;AAAA;AC1CH;;AAMK;;AAqBA;;AAIK;;AAYK;AAAA,mBAAS,IAAA2H,eAAA,uCAAT;AAAwC,WAAxC,EAAyC,OAAzC,EAAyC;AAAA,mBAChC,IAAAoC,eAAA,QADgC;AACT,WADhC,EAAyC,MAAzC,EAAyC;AAAA,mBAEjC,IAAAE,cAAA,QAFiC;AAEX,WAF9B,EAAyC,OAAzC,EAAyC;AAAA,mBAGhC,IAAAc,IAAA,EAHgC;AAG1B,WAHf,EAAyC,SAAzC,EAAyC;AAAA,mBAI9B,IAAAA,IAAA,QAJ8B;AAIlB,WAJvB,EAAyC,OAAzC,EAAyC;AAAA,mBAKhC,IAAAA,IAAA,QALgC;AAKpB,WALrB,EAAyC,UAAzC,EAAyC;AAAA,mBAM7B,IAAA6D,kBAAA,QAN6B;AAMH,WANtC,EAAyC,OAAzC,EAAyC;AAAA,mBAOhC,IAAAC,OAAA,QAPgC;AAOjB,WAPxB,EAAyC,mBAAzC,EAAyC;AAAA,mBAQpB,IAAAC,KAAA,QARoB;AAQP,WARlC,EAAyC,yBAAzC,EAAyC;AAAA,mBASd,IAAAC,UAAA,QATc;AASI,WAT7C,EAAyC,aAAzC,EAAyC;AAAA,mBAU1B,IAAAC,WAAA,QAV0B;AAUP,WAVlC;;AAYL;;AACA;;AAAyC;;AAA0C;;AACxF;;AACA;;AAcL;;;;AArEK,+FAA4B,WAA5B,EAA4B,mBAA5B;;AAIK;;AAAA;;AA+BK;;AAAA,iGAA8B,YAA9B,EAA8B,oBAA9B,EAA8B,YAA9B,EAA8B,oBAA9B,EAA8B,kBAA9B,EAA8B,kCAA9B,EAA8B,SAA9B,EAA8B,iDAA9B;;AAJA,4GAAwC,UAAxC,EAAwC,mCAAxC,EAAwC,WAAxC,EAAwC,oBAAxC,EAAwC,YAAxC,EAAwC,qBAAxC;;AAsBoC;;AAAA;;AAGzC;;AAAA;;;;;;;;;sEDfG9J,sB,EAAsB;cAblC,uDAakC;eAbxB;AACThV,kBAAQ,EAAE,gBADD;AAET0G,qBAAW,EAAE,iCAFJ;AAGTC,mBAAS,EAAE,CAAC,iCAAD,CAHF;AAIT5D,mBAAS,EAAE,CACT;AACE6M,mBAAO,EAAE,gEADX;AAEEC,uBAAW,EAAE,iEAAW;AAAA,qBAAMmF,sBAAN;AAAA,aAAX,CAFf;AAGElF,iBAAK,EAAE;AAHT,WADS,EAMT,4EANS;AAJF,S;AAawB,Q;;;;;;gBA2EAiP,Q;AAAQ;kBAAtC,oDAAsC;mBAA/B,wD;AAA+B;;;;;;;;kBAItC,uD;mBAAU,U;;;;;kBAEV,uD;mBAAU,W;;;;;gBA3DZ;;;gBACA;;;gBACA;;;gBACA;;;gBAEA;;;gBAEA,uD;iBAAU,Q,EAAU;AAAE,sBAAQ;AAAV,W;;;gBACpB,uD;iBAAU,e,EAAiB;AAAE,sBAAQ;AAAV,W;;;gBAC3B,uD;iBAAU,e;;;gBACV,0D;iBAAa,e;;;gBAGb;;;gBAIA,oD;iBAAO,M;;;gBAKP,oD;iBAAO,O;;;gBAGP,yD;iBAAY,e;;;gBAEZ,0D;iBAAa,O;;;gBAKb,0D;iBAAa,a;;;gBAKb,0D;iBAAa,c,EAAgB,CAAC,eAAD,C;;;;;;;;;;;;;;;;;;;;AEvGhC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAyBaC,mB;;;;;YAAAA;;;;yBAAAA,mB;AAAmB,O;AAAA,gBAfrB,CAAC,4DAAD,EAAe,0DAAf,EAA4B,kEAA5B,CAeqB;;;;0HAAnBA,mB,EAAmB;AAAA,uBAb5B,gFAa4B,EAZ5B,+FAY4B,EAX5B,gFAW4B,EAV5B,gFAU4B,EAT5B,8FAS4B;AATP,kBANb,4DAMa,EANC,0DAMD,EANc,kEAMd,CASO;AAf0B,kBAStD,gFATsD,EAUtD,+FAVsD,EAWtD,gFAXsD,EAYtD,8FAZsD;AAe1B,O;AAHP,K;;;;;sEAGZA,mB,EAAmB;cAhB/B,sDAgB+B;eAhBtB;AACRhc,iBAAO,EAAE,CAAC,4DAAD,EAAe,0DAAf,EAA4B,kEAA5B,CADD;AAERE,sBAAY,EAAE,CACZ,gFADY,EAEZ,+FAFY,EAGZ,gFAHY,EAIZ,gFAJY,EAKZ,8FALY,CAFN;AASRC,iBAAO,EAAE,CACP,gFADO,EAEP,+FAFO,EAGP,gFAHO,EAIP,8FAJO;AATD,S;AAgBsB,Q;;;;;;;;;;;;;;;;;;ACzBhC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAWa8b,oB;AAQX,oCACUtS,IADV,EAEE;AAC0ByD,SAH5B,EAGyC;AAAA;;AAAA;;AAF/B,aAAAzD,IAAA,GAAAA,IAAA;AAEkB,aAAAyD,GAAA,GAAAA,GAAA;AA8E5B;;;;AAGO,aAAA4K,aAAA,GAAgB,YAAY;AACjC,cAAMf,GAAG,GAAG,OAAI,CAAC7J,GAAL,CAAS6H,YAAT,EAAZ;;AACA,cAAIgC,GAAJ,EAAS;AACP,gBAAI,CAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,GAAG,MAAH,GAAAA,GAAG,CAAEsB,UAAL,MAAmBtB,GAAG,SAAH,IAAAA,GAAG,WAAH,GAAG,MAAH,GAAAA,GAAG,CAAEoB,UAAxB,CAAJ,EAAwC;AACtC,qBAAI,CAACnI,cAAL,GAAsB+G,GAAG,CAACsB,UAAJ,CAAe,CAAf,CAAtB;AACA,qBAAI,CAAC7J,YAAL,GAAoBuI,GAAG,CAAC3I,QAAJ,EAApB;AACD;AACF,WALD,MAKO,IAAI,OAAI,CAAClB,GAAL,CAAS,cAAT,KAA4B,OAAI,CAACA,GAAL,CAAS,aAAT,CAAhC,EAAyD;AAC9D,mBAAI,CAAC8C,cAAL,GAAsBrL,QAAQ,CAACuQ,WAAT,EAAtB;AACD,WAFM,MAEA;AACL,mBAAI,CAAClF,cAAL,GAAsB,IAAtB;AACD;AACF,SAZM;AAhFH;AAEJ;;;;;;;;;eAKA,wBAAevB,OAAf,EAAgC3b,KAAhC,EAAgD;AAC9C,cAAMkpB,QAAQ,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,GAArC,EAA0C,KAA1C,CAAjB;;AACA,cAAIA,QAAQ,CAAChL,QAAT,CAAkBvC,OAAlB,CAAJ,EAAgC;AAC9B,iBAAKvB,GAAL,CAASiJ,WAAT,CAAqB,aAArB,EAAoC,KAApC,EAA2C1H,OAA3C;AACA;AACD;;AACD,eAAKvB,GAAL,CAASiJ,WAAT,CAAqB1H,OAArB,EAA8B,KAA9B,EAAqC3b,KAArC;AACD;AAED;;;;;;;eAIA,oBAAWgd,GAAX,EAAwB;AACtB,cAAI,CAACA,GAAG,CAACkB,QAAJ,CAAa,MAAb,CAAL,EAA2B;AACzB,iBAAK9D,GAAL,CAASiJ,WAAT,CAAqB,YAArB,EAAmC,KAAnC,EAA0CrG,GAA1C;AACD,WAFD,MAEO;AACL,gBAAMmM,MAAM,GACV,cAAcnM,GAAd,GAAoB,oBAApB,GAA2C,KAAKtB,YAAhD,GAA+D,MADjE;AAEA,iBAAK0N,UAAL,CAAgBD,MAAhB;AACD;AACF;AAED;;;;;;;;;eAMA,qBAAYzL,KAAZ,EAA2BC,KAA3B,EAAwC;AACtC,cAAM0L,QAAQ,GAAG,KAAKC,gBAAL,EAAjB;;AACA,cAAID,QAAJ,EAAc;AACZ,gBAAI1L,KAAK,KAAK,WAAd,EAA2B;AACzB,mBAAKvD,GAAL,CAASiJ,WAAT,CAAqB,WAArB,EAAkC,KAAlC,EAAyC3F,KAAzC;AACD,aAFD,MAEO;AACL,mBAAKtD,GAAL,CAASiJ,WAAT,CAAqB,aAArB,EAAoC,KAApC,EAA2C3F,KAA3C;AACD;AACF;AACF;AAED;;;;;;;eAIA,qBAAYlC,QAAZ,EAA8B;AAC5B,eAAKpB,GAAL,CAASiJ,WAAT,CAAqB,UAArB,EAAiC,KAAjC,EAAwC7H,QAAxC;AACA,eAAKsG,eAAL,GAAuBtG,QAAvB;AACD;AAED;;;;;;;eAIA,qBAAYC,QAAZ,EAA8B;AAC5B,eAAKrB,GAAL,CAASiJ,WAAT,CAAqB,UAArB,EAAiC,KAAjC,EAAwC5H,QAAxC;AACA,eAAKsG,eAAL,GAAuBtG,QAAvB;AACD;AAED;;;;;;;eAIA,oBAAWyF,IAAX,EAAuB;AACrB,cAAMqI,cAAc,GAAG,KAAKnP,GAAL,CAASiJ,WAAT,CAAqB,YAArB,EAAmC,KAAnC,EAA0CnC,IAA1C,CAAvB;;AAEA,cAAI,CAACqI,cAAL,EAAqB;AACnB,kBAAM,IAAI1iB,KAAJ,CAAU,iCAAV,CAAN;AACD;AACF;AAmBD;;;;;;;;eAKA,4BAAgB;AACd,cAAI,KAAKqW,cAAT,EAAyB;AACvB,gBAAI,KAAK9C,GAAL,CAAS6H,YAAb,EAA2B;AACzB,kBAAMgC,GAAG,GAAG,KAAK7J,GAAL,CAAS6H,YAAT,EAAZ;AACAgC,iBAAG,CAAC/B,eAAJ;AACA+B,iBAAG,CAACzB,QAAJ,CAAa,KAAKtF,cAAlB;AACA,qBAAO,IAAP;AACD,aALD,MAKO,IAAI,KAAK9C,GAAL,CAAS,cAAT;AAAyB;AAA7B,cAAgE;AACrE,qBAAO,IAAP;AACD;AACF,WATD,MASO;AACL,mBAAO,KAAP;AACD;AACF;AAED;;;;;;eAGO,qCACLoP,UADK,EAEQ;AAAA,cAAbC,OAAa,uEAAH,GAAG;AAEbje,oBAAU,CAACge,UAAD,EAAaC,OAAb,CAAV;AACD;AAED;;;;;;;eAIA,qBAAYlX,IAAZ,EAAsB;AACpB,cAAI,KAAK8L,SAAT,EAAoB;AAClB,gBAAMqL,UAAU,GAAa,IAAIC,QAAJ,EAA7B;AACAD,sBAAU,CAACE,MAAX,CAAkB,MAAlB,EAA0BrX,IAA1B,EAAgCA,IAAI,CAACjL,IAArC;AAEA,mBAAO,KAAKqP,IAAL,CAAUY,IAAV,CAA+B,KAAK8G,SAApC,EAA+CqL,UAA/C,EAA2D;AAChEG,4BAAc,EAAE,IADgD;AAEhEC,qBAAO,EAAE,QAFuD;AAGhEC,6BAAe,EAAE,KAAK7B;AAH0C,aAA3D,CAAP;AAKD;AACF;AAED;;;;;;;eAIA,qBAAYxJ,QAAZ,EAA8B;AAC5B,eAAKtE,GAAL,CAASiJ,WAAT,CAAqB,YAArB,EAAmC,KAAnC,uBAAuD3E,QAAvD;AACD;;;eAED,sCAA6BsL,SAA7B,EAAgD;AAC9C,eAAK5P,GAAL,CAASiJ,WAAT,CAAqB,2BAArB,EAAkD,KAAlD,EAAyD2G,SAAzD;AACD;;;eAED,2BAAkBC,WAAlB,EAA4C;AAC1C,cAAIC,MAAM,GAAG,KAAKxO,YAAlB;;AACA,cAAIuO,WAAJ,EAAiB;AACf,gBAAM3I,OAAO,GAAG2I,WAAW,CAAC3b,GAAZ,GAAkB2b,WAAW,CAAC3b,GAA9B,GAAoC,KAApD;AACA,gBAAI,CAAC,KAAKoN,YAAV,EAAwB,KAAKA,YAAL,GAAoB,QAApB;AACxBwO,kBAAM,IACJ,MACA5I,OADA,GAEA,UAFA,GAGA2I,WAAW,SAHX,GAIA,IAJA,GAKA,KAAKvO,YALL,GAMA,IANA,GAOA4F,OAPA,GAQA,GATF;AAUD;;AACD,eAAK8H,UAAL,CAAgBc,MAAhB;AACD;;;eAED,qBAAYC,QAAZ,EAA8B;AAC5B,cAAIA,QAAQ,CAACC,KAAT,CAAe,iBAAf,CAAJ,EAAuC;AACrC,iBAAKC,qBAAL,CAA2BF,QAA3B;AACD;;AACD,cAAIA,QAAQ,CAACC,KAAT,CAAe,WAAf,CAAJ,EAAiC;AAC/B,iBAAKE,mBAAL,CAAyBH,QAAzB;AACD;AACF;;;eAEO,+BAAsBA,QAAtB,EAAsC;AAC5C,cAAMhoB,EAAE,GAAGgoB,QAAQ,CAACI,KAAT,CAAe,IAAf,EAAqB,CAArB,CAAX;AACA,cAAM7L,QAAQ,wCAAiCvc,EAAjC,WAAd;AACA,cAAMqoB,SAAS,wEAEAL,QAFA,sDAGGzL,QAHH,2MAAf;AAQA,eAAK0K,UAAL,CAAgBoB,SAAhB;AACD;;;eAEO,6BAAoBL,QAApB,EAAoC;AAAA;;AAC1C,cAAMM,GAAG,GAAG,KAAK9T,IAAL,CACTrO,GADS,iDACyC6hB,QADzC,GAET3f,SAFS,CAEC,UAACuF,IAAD,EAAU;AACnB,gBAAM2O,QAAQ,GAAG3O,IAAI,CAAC2a,8BAAtB;AACA,gBAAMF,SAAS,qCACJL,QADI,sDAEDzL,QAFC,sBAEiB3O,IAAI,CAACX,KAFtB,qCAAf;;AAKA,mBAAI,CAACga,UAAL,CAAgBoB,SAAhB;;AACAC,eAAG,CAACzf,WAAJ;AACD,WAXS,CAAZ;AAYD;;;eAED,kBAASuR,IAAT,EAAoB;AAClB,cAAIA,IAAI,CAACoO,aAAL,EAAJ,EAA0B;AACxB,mBAAOpO,IAAI,CAACgK,UAAZ;AACD,WAFD,MAEO;AACL,mBAAOhK,IAAI,IAAI,CAACA,IAAI,CAACqO,WAArB,EAAkC;AAChCrO,kBAAI,GAAGA,IAAI,CAAC8F,UAAZ;AACD;;AACD,gBAAI,CAAC9F,IAAL,EAAW;AACT,qBAAO,IAAP;AACD;;AACD,mBAAOA,IAAI,CAACqO,WAAZ;AACD;AACF;;;eAED,+BAAsBzI,KAAtB,EAA6B0I,kCAA7B,EAAiE;AAC/D,cAAItO,IAAI,GAAG4F,KAAK,CAAC2I,cAAjB;AACA,cAAMC,OAAO,GAAG5I,KAAK,CAAC6I,YAAtB;AACA,cAAIC,UAAU,GAAG,EAAjB,CAH+D,CAK/D;;AACA,cAAI1O,IAAI,KAAKwO,OAAb,EAAsB;AACpBE,sBAAU,GAAG,CAAC1O,IAAD,CAAb;AACD,WAFD,MAEO;AACL;AACA,mBAAOA,IAAI,IAAIA,IAAI,KAAKwO,OAAxB,EAAiC;AAC/BE,wBAAU,CAAC3e,IAAX,CAAiBiQ,IAAI,GAAG,KAAK2O,QAAL,CAAc3O,IAAd,CAAxB;AACD,aAJI,CAML;;;AACAA,gBAAI,GAAG4F,KAAK,CAAC2I,cAAb;;AACA,mBAAOvO,IAAI,IAAIA,IAAI,KAAK4F,KAAK,CAAChF,uBAA9B,EAAuD;AACrD8N,wBAAU,CAAC1P,OAAX,CAAmBgB,IAAnB;AACAA,kBAAI,GAAGA,IAAI,CAAC8F,UAAZ;AACD;AACF,WApB8D,CAsB/D;;;AACA,cAAIwI,kCAAJ,EAAwC;AACtCtO,gBAAI,GAAG4F,KAAK,CAAChF,uBAAb;;AACA,mBAAOZ,IAAP,EAAa;AACX0O,wBAAU,CAAC3e,IAAX,CAAgBiQ,IAAhB;AACAA,kBAAI,GAAGA,IAAI,CAAC8F,UAAZ;AACD;AACF;;AAED,iBAAO4I,UAAP;AACD;;;eAED,4BAAmB;AACjB,cAAM/O,KAAK,GAAG,EAAd;;AACA,cAAI,KAAK9B,GAAL,CAAS6H,YAAb,EAA2B;AACzB,gBAAMgC,GAAG,GAAG,KAAK7J,GAAL,CAAS6H,YAAT,EAAZ;;AACA,iBAAK,IAAI1e,CAAC,GAAG,CAAR,EAAW4nB,GAAG,GAAGlH,GAAG,CAACoB,UAA1B,EAAsC9hB,CAAC,GAAG4nB,GAA1C,EAA+C,EAAE5nB,CAAjD,EAAoD;AAClD2Y,mBAAK,CAAC5P,IAAN,CAAW8e,KAAX,CACElP,KADF,EAEE,KAAKmP,qBAAL,CAA2BpH,GAAG,CAACsB,UAAJ,CAAehiB,CAAf,CAA3B,EAA8C,IAA9C,CAFF;AAID;AACF;;AACD,iBAAO2Y,KAAP;AACD;;;eAED,gCAAuBlD,EAAvB,EAA2B;AACzB,cAAMqE,MAAM,GAAGrE,EAAE,CAACqJ,UAAlB;;AACA,iBAAOrJ,EAAE,CAAC2R,aAAH,EAAP,EAA2B;AACzBtN,kBAAM,CAACsF,YAAP,CAAoB3J,EAAE,CAACuN,UAAvB,EAAmCvN,EAAnC;AACD;;AACDqE,gBAAM,CAACuF,WAAP,CAAmB5J,EAAnB;AACD;;;eAED,gCAAuBkM,QAAvB,EAAiC;AAAA;;AAC/B,cAAMoG,aAAa,GAAGpG,QAAQ,CAAC1I,WAAT,GAAuB+N,KAAvB,CAA6B,GAA7B,CAAtB;AACA,eAAKgB,gBAAL,GAAwB1P,OAAxB,CAAgC,UAACU,IAAD,EAAU;AACxC,gBACEA,IAAI,CAAC8L,QAAL,KAAkB,CAAlB,IACAiD,aAAa,CAACE,OAAd,CAAsBjP,IAAI,CAAC+E,OAAL,CAAa9E,WAAb,EAAtB,IAAoD,CAAC,CAFvD,EAGE;AACA,qBAAI,CAACwG,sBAAL,CAA4BzG,IAA5B;AACD;AACF,WAPD;AAQD;;;eAED,8BAAqBA,IAArB,EAAsC;AACpC,cAAI,CAACA,IAAL,EAAW,OAAO,IAAP;;AACX,cAAIA,IAAI,CAACwJ,SAAT,EAAoB;AAClB,mBAAOxJ,IAAI,CAACwJ,SAAZ;AACD;;AACD,cAAM5C,IAAI,GAAG,EAAb;;AACA,0CAAkBvd,KAAK,CAACqN,IAAN,CAAWsJ,IAAI,CAACkP,UAAhB,CAAlB,mCAA+C;AAA1C,gBAAIC,KAAK,mBAAT;AACHvI,gBAAI,CAAC7W,IAAL,CAAUof,KAAK,CAAC/E,WAAhB;AACD;;AACD,iBAAOxD,IAAI,CAACrc,IAAL,CAAU,EAAV,CAAP;AACD;;;eAED,8BAAqByV,IAArB,EAAsC;AACpC,cAAI,CAACA,IAAL,EAAW,OAAO,IAAP;;AACX,cAAIA,IAAI,CAACnF,SAAT,EAAoB;AAClB,mBAAOmF,IAAI,CAACnF,SAAZ;AACD;;AACD,cAAIuU,iBAAiB,GAAG,EAAxB;;AACA,eAAK,IAAIpoB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgZ,IAAI,CAACkP,UAAL,CAAgBlnB,MAApC,EAA4ChB,CAAC,EAA7C,EAAiD;AAC/C,gBAAMqoB,SAAS,GAAGrP,IAAI,CAACkP,UAAL,CAAgBloB,CAAhB,CAAlB;;AACA,gBAAIqoB,SAAS,CAACvD,QAAV,KAAuB,CAA3B,EAA8B;AAC5BsD,+BAAiB,IAAIC,SAAS,CAACxU,SAA/B;AACD;AACF;;AACD,iBAAOuU,iBAAP;AACD;;;eAED,oCAA2BpP,IAA3B,EAAsCG,SAAtC,EAAyD;;;AACvD,cAAI,CAACH,IAAL,EAAW,OAAO,IAAP;;AACX,cAAI,CAAJ,KAAIA,IAAI,CAACpJ,SAAL,MAAc,IAAd,IAAc,aAAd,GAAc,MAAd,GAAc,GAAEyF,QAAF,CAAW8D,SAAX,CAAlB,EAAyC;AACvC,mBAAOH,IAAP;AACD;;AACD,iBAAO,KAAK6H,0BAAL,CAAgC7H,IAAI,CAAC8F,UAArC,EAAiD3F,SAAjD,CAAP;AACD;;;eAED,+BAAsB;AACpB,cAAMO,SAAS,GAAG,KAAK7C,GAAL,CAAS6H,YAAT,EAAlB;;AACA,cAAIhF,SAAS,IAAIA,SAAS,CAACoI,UAAV,GAAuB,CAAxC,EAA2C;AACzC,mBAAOpI,SAAS,CAACsI,UAAV,CAAqB,CAArB,CAAP;AACD;;AACD,iBAAO,IAAP;AACD;;;;;;;uBAzVU0D,oB,EAAoB,uH,EAAA,uDAWrB,wDAXqB,C;AAWb,K;;;aAXPA,oB;AAAoB,eAApBA,oBAAoB;;;;;sEAApBA,oB,EAAoB;cADhC;AACgC,Q;;;;gBAWEF,Q;AAAQ;kBAAtC,oDAAsC;mBAA/B,wD;AAA+B;;;;;;;;;;;;;;;;;;;;ACyC3C;AAAA;;;AAAA;AAAA;AAAA;;AAAO,QAAM8C,mBAAmB,GAAwB;AACtDje,cAAQ,EAAE,IAD4C;AAEtDC,gBAAU,EAAE,IAF0C;AAGtDmG,YAAM,EAAE,MAH8C;AAItDlG,eAAS,EAAE,GAJ2C;AAKtDC,eAAS,EAAE,MAL2C;AAMtD+d,6BAAuB,EAAE,OAN6B;AAOtD/X,WAAK,EAAE,MAP+C;AAQtDgY,cAAQ,EAAE,GAR4C;AAStD9d,eAAS,EAAE,KAT2C;AAUtD+d,mBAAa,EAAE,IAVuC;AAWtDpQ,iBAAW,EAAE,IAXyC;AAYtD5N,iBAAW,EAAE,oBAZyC;AAatDI,+BAAyB,EAAE,EAb2B;AActDgD,qBAAe,EAAE,OAdqC;AAetDC,qBAAe,EAAE,GAfqC;AAgBtD4J,WAAK,EAAE,CACL;AAAE,iBAAO,OAAT;AAAkB3T,YAAI,EAAE;AAAxB,OADK,EAEL;AAAE,iBAAO,iBAAT;AAA4BA,YAAI,EAAE;AAAlC,OAFK,EAGL;AAAE,iBAAO,SAAT;AAAoBA,YAAI,EAAE;AAA1B,OAHK,EAIL;AAAE,iBAAO,eAAT;AAA0BA,YAAI,EAAE;AAAhC,OAJK,EAKL;AAAE,iBAAO,SAAT;AAAoBA,YAAI,EAAE;AAA1B,OALK,EAML;AAAE,iBAAO,gBAAT;AAA2BA,YAAI,EAAE;AAAjC,OANK,CAhB+C;AAwBtD;AACA4gB,2BAAqB,EAAE,KAzB+B;AA0BtDha,cAAQ,EAAE,IA1B4C;AA2BtD0T,qBAAe,EAAE,KA3BqC;AA4BtDzT,aAAO,EAAE,IA5B6C;;AA6BtD;;;;;;;;AAQAK,sBAAgB,EAAE,EArCoC;AAsCtDC,4BAAsB,EAAE,CAtC8B;AAuCtDoT,yBAAmB,EAAE;AAvCiC,KAAjD;;;;;;;;;;;;;;;;AC/DP;AAAA;;;AAAA;AAAA;AAAA;;AAAO,aAASoK,SAAT,CAAmBjsB,KAAnB,EAA+B;AACpC,aAAOA,KAAK,KAAKgE,SAAV,IAAuBhE,KAAK,KAAK,IAAxC;AACD","file":"blogs-blogs-module-es5.js","sourcesContent":["import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Directive, EventEmitter, Input, NgModule, Output, Pipe, ViewEncapsulation } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\n\nfunction PaginationControlsComponent_ul_2_li_1_a_1_Template(rf, ctx) { if (rf & 1) {\n    var _r8 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"a\", 11);\n    ɵngcc0.ɵɵlistener(\"keyup.enter\", function PaginationControlsComponent_ul_2_li_1_a_1_Template_a_keyup_enter_0_listener() { ɵngcc0.ɵɵrestoreView(_r8); ɵngcc0.ɵɵnextContext(3); var _r0 = ɵngcc0.ɵɵreference(1); return _r0.previous(); })(\"click\", function PaginationControlsComponent_ul_2_li_1_a_1_Template_a_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r8); ɵngcc0.ɵɵnextContext(3); var _r0 = ɵngcc0.ɵɵreference(1); return _r0.previous(); });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementStart(2, \"span\", 12);\n    ɵngcc0.ɵɵtext(3);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    var ctx_r5 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵattribute(\"aria-label\", ctx_r5.previousLabel + \" \" + ctx_r5.screenReaderPageLabel);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r5.previousLabel, \" \");\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r5.screenReaderPageLabel);\n} }\nfunction PaginationControlsComponent_ul_2_li_1_span_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\");\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementStart(2, \"span\", 12);\n    ɵngcc0.ɵɵtext(3);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    var ctx_r6 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r6.previousLabel, \" \");\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r6.screenReaderPageLabel);\n} }\nfunction PaginationControlsComponent_ul_2_li_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"li\", 8);\n    ɵngcc0.ɵɵtemplate(1, PaginationControlsComponent_ul_2_li_1_a_1_Template, 4, 3, \"a\", 9);\n    ɵngcc0.ɵɵtemplate(2, PaginationControlsComponent_ul_2_li_1_span_2_Template, 4, 2, \"span\", 10);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    ɵngcc0.ɵɵnextContext(2);\n    var _r0 = ɵngcc0.ɵɵreference(1);\n    ɵngcc0.ɵɵclassProp(\"disabled\", _r0.isFirstPage());\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", 1 < _r0.getCurrent());\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", _r0.isFirstPage());\n} }\nfunction PaginationControlsComponent_ul_2_li_4_a_1_Template(rf, ctx) { if (rf & 1) {\n    var _r15 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"a\", 11);\n    ɵngcc0.ɵɵlistener(\"keyup.enter\", function PaginationControlsComponent_ul_2_li_4_a_1_Template_a_keyup_enter_0_listener() { ɵngcc0.ɵɵrestoreView(_r15); var page_r10 = ɵngcc0.ɵɵnextContext().$implicit; ɵngcc0.ɵɵnextContext(2); var _r0 = ɵngcc0.ɵɵreference(1); return _r0.setCurrent(page_r10.value); })(\"click\", function PaginationControlsComponent_ul_2_li_4_a_1_Template_a_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r15); var page_r10 = ɵngcc0.ɵɵnextContext().$implicit; ɵngcc0.ɵɵnextContext(2); var _r0 = ɵngcc0.ɵɵreference(1); return _r0.setCurrent(page_r10.value); });\n    ɵngcc0.ɵɵelementStart(1, \"span\", 12);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(3, \"span\");\n    ɵngcc0.ɵɵtext(4);\n    ɵngcc0.ɵɵpipe(5, \"number\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    var page_r10 = ɵngcc0.ɵɵnextContext().$implicit;\n    var ctx_r11 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate1(\"\", ctx_r11.screenReaderPageLabel, \" \");\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(page_r10.label === \"...\" ? page_r10.label : ɵngcc0.ɵɵpipeBind2(5, 2, page_r10.label, \"\"));\n} }\nfunction PaginationControlsComponent_ul_2_li_4_ng_container_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelementStart(1, \"span\", 12);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(3, \"span\");\n    ɵngcc0.ɵɵtext(4);\n    ɵngcc0.ɵɵpipe(5, \"number\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    var page_r10 = ɵngcc0.ɵɵnextContext().$implicit;\n    var ctx_r12 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate1(\"\", ctx_r12.screenReaderCurrentLabel, \" \");\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(page_r10.label === \"...\" ? page_r10.label : ɵngcc0.ɵɵpipeBind2(5, 2, page_r10.label, \"\"));\n} }\nfunction PaginationControlsComponent_ul_2_li_4_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"li\");\n    ɵngcc0.ɵɵtemplate(1, PaginationControlsComponent_ul_2_li_4_a_1_Template, 6, 5, \"a\", 9);\n    ɵngcc0.ɵɵtemplate(2, PaginationControlsComponent_ul_2_li_4_ng_container_2_Template, 6, 5, \"ng-container\", 10);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    var page_r10 = ctx.$implicit;\n    ɵngcc0.ɵɵnextContext(2);\n    var _r0 = ɵngcc0.ɵɵreference(1);\n    ɵngcc0.ɵɵclassProp(\"current\", _r0.getCurrent() === page_r10.value)(\"ellipsis\", page_r10.label === \"...\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", _r0.getCurrent() !== page_r10.value);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", _r0.getCurrent() === page_r10.value);\n} }\nfunction PaginationControlsComponent_ul_2_li_5_a_1_Template(rf, ctx) { if (rf & 1) {\n    var _r23 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"a\", 11);\n    ɵngcc0.ɵɵlistener(\"keyup.enter\", function PaginationControlsComponent_ul_2_li_5_a_1_Template_a_keyup_enter_0_listener() { ɵngcc0.ɵɵrestoreView(_r23); ɵngcc0.ɵɵnextContext(3); var _r0 = ɵngcc0.ɵɵreference(1); return _r0.next(); })(\"click\", function PaginationControlsComponent_ul_2_li_5_a_1_Template_a_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r23); ɵngcc0.ɵɵnextContext(3); var _r0 = ɵngcc0.ɵɵreference(1); return _r0.next(); });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementStart(2, \"span\", 12);\n    ɵngcc0.ɵɵtext(3);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    var ctx_r20 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵattribute(\"aria-label\", ctx_r20.nextLabel + \" \" + ctx_r20.screenReaderPageLabel);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r20.nextLabel, \" \");\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r20.screenReaderPageLabel);\n} }\nfunction PaginationControlsComponent_ul_2_li_5_span_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\");\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementStart(2, \"span\", 12);\n    ɵngcc0.ɵɵtext(3);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    var ctx_r21 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r21.nextLabel, \" \");\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r21.screenReaderPageLabel);\n} }\nfunction PaginationControlsComponent_ul_2_li_5_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"li\", 13);\n    ɵngcc0.ɵɵtemplate(1, PaginationControlsComponent_ul_2_li_5_a_1_Template, 4, 3, \"a\", 9);\n    ɵngcc0.ɵɵtemplate(2, PaginationControlsComponent_ul_2_li_5_span_2_Template, 4, 2, \"span\", 10);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    ɵngcc0.ɵɵnextContext(2);\n    var _r0 = ɵngcc0.ɵɵreference(1);\n    ɵngcc0.ɵɵclassProp(\"disabled\", _r0.isLastPage());\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !_r0.isLastPage());\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", _r0.isLastPage());\n} }\nfunction PaginationControlsComponent_ul_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"ul\", 3);\n    ɵngcc0.ɵɵtemplate(1, PaginationControlsComponent_ul_2_li_1_Template, 3, 4, \"li\", 4);\n    ɵngcc0.ɵɵelementStart(2, \"li\", 5);\n    ɵngcc0.ɵɵtext(3);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(4, PaginationControlsComponent_ul_2_li_4_Template, 3, 6, \"li\", 6);\n    ɵngcc0.ɵɵtemplate(5, PaginationControlsComponent_ul_2_li_5_Template, 3, 4, \"li\", 7);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    var _r0 = ɵngcc0.ɵɵreference(1);\n    ɵngcc0.ɵɵclassProp(\"responsive\", ctx_r1.responsive);\n    ɵngcc0.ɵɵattribute(\"aria-label\", ctx_r1.screenReaderPaginationLabel);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.directionLinks);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate2(\" \", _r0.getCurrent(), \" / \", _r0.getLastPage(), \" \");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", _r0.pages)(\"ngForTrackBy\", ctx_r1.trackByIndex);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.directionLinks);\n} }\nvar PaginationService = /** @class */ (function () {\r\n    function PaginationService() {\r\n        this.change = new EventEmitter();\r\n        this.instances = {};\r\n        this.DEFAULT_ID = 'DEFAULT_PAGINATION_ID';\r\n    }\r\n    PaginationService.prototype.defaultId = function () { return this.DEFAULT_ID; };\r\n    /**\r\n     * Register a PaginationInstance with this service. Returns a\r\n     * boolean value signifying whether the instance is new or\r\n     * updated (true = new or updated, false = unchanged).\r\n     */\r\n    PaginationService.prototype.register = function (instance) {\r\n        if (instance.id == null) {\r\n            instance.id = this.DEFAULT_ID;\r\n        }\r\n        if (!this.instances[instance.id]) {\r\n            this.instances[instance.id] = instance;\r\n            return true;\r\n        }\r\n        else {\r\n            return this.updateInstance(instance);\r\n        }\r\n    };\r\n    /**\r\n     * Check each property of the instance and update any that have changed. Return\r\n     * true if any changes were made, else return false.\r\n     */\r\n    PaginationService.prototype.updateInstance = function (instance) {\r\n        var changed = false;\r\n        for (var prop in this.instances[instance.id]) {\r\n            if (instance[prop] !== this.instances[instance.id][prop]) {\r\n                this.instances[instance.id][prop] = instance[prop];\r\n                changed = true;\r\n            }\r\n        }\r\n        return changed;\r\n    };\r\n    /**\r\n     * Returns the current page number.\r\n     */\r\n    PaginationService.prototype.getCurrentPage = function (id) {\r\n        if (this.instances[id]) {\r\n            return this.instances[id].currentPage;\r\n        }\r\n    };\r\n    /**\r\n     * Sets the current page number.\r\n     */\r\n    PaginationService.prototype.setCurrentPage = function (id, page) {\r\n        if (this.instances[id]) {\r\n            var instance = this.instances[id];\r\n            var maxPage = Math.ceil(instance.totalItems / instance.itemsPerPage);\r\n            if (page <= maxPage && 1 <= page) {\r\n                this.instances[id].currentPage = page;\r\n                this.change.emit(id);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets the value of instance.totalItems\r\n     */\r\n    PaginationService.prototype.setTotalItems = function (id, totalItems) {\r\n        if (this.instances[id] && 0 <= totalItems) {\r\n            this.instances[id].totalItems = totalItems;\r\n            this.change.emit(id);\r\n        }\r\n    };\r\n    /**\r\n     * Sets the value of instance.itemsPerPage.\r\n     */\r\n    PaginationService.prototype.setItemsPerPage = function (id, itemsPerPage) {\r\n        if (this.instances[id]) {\r\n            this.instances[id].itemsPerPage = itemsPerPage;\r\n            this.change.emit(id);\r\n        }\r\n    };\r\n    /**\r\n     * Returns a clone of the pagination instance object matching the id. If no\r\n     * id specified, returns the instance corresponding to the default id.\r\n     */\r\n    PaginationService.prototype.getInstance = function (id) {\r\n        if (id === void 0) { id = this.DEFAULT_ID; }\r\n        if (this.instances[id]) {\r\n            return this.clone(this.instances[id]);\r\n        }\r\n        return {};\r\n    };\r\n    /**\r\n     * Perform a shallow clone of an object.\r\n     */\r\n    PaginationService.prototype.clone = function (obj) {\r\n        var target = {};\r\n        for (var i in obj) {\r\n            if (obj.hasOwnProperty(i)) {\r\n                target[i] = obj[i];\r\n            }\r\n        }\r\n        return target;\r\n    };\nPaginationService.ɵfac = function PaginationService_Factory(t) { return new (t || PaginationService)(); };\nPaginationService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: PaginationService, factory: function (t) { return PaginationService.ɵfac(t); } });\n\r\n    return PaginationService;\r\n}());\n\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (undefined && undefined.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar LARGE_NUMBER = Number.MAX_SAFE_INTEGER;\r\nvar PaginatePipe = /** @class */ (function () {\r\n    function PaginatePipe(service) {\r\n        this.service = service;\r\n        // store the values from the last time the pipe was invoked\r\n        this.state = {};\r\n    }\r\n    PaginatePipe.prototype.transform = function (collection, args) {\r\n        // When an observable is passed through the AsyncPipe, it will output\r\n        // `null` until the subscription resolves. In this case, we want to\r\n        // use the cached data from the `state` object to prevent the NgFor\r\n        // from flashing empty until the real values arrive.\r\n        if (!(collection instanceof Array)) {\r\n            var _id = args.id || this.service.defaultId();\r\n            if (this.state[_id]) {\r\n                return this.state[_id].slice;\r\n            }\r\n            else {\r\n                return collection;\r\n            }\r\n        }\r\n        var serverSideMode = args.totalItems && args.totalItems !== collection.length;\r\n        var instance = this.createInstance(collection, args);\r\n        var id = instance.id;\r\n        var start, end;\r\n        var perPage = instance.itemsPerPage;\r\n        var emitChange = this.service.register(instance);\r\n        if (!serverSideMode && collection instanceof Array) {\r\n            perPage = +perPage || LARGE_NUMBER;\r\n            start = (instance.currentPage - 1) * perPage;\r\n            end = start + perPage;\r\n            var isIdentical = this.stateIsIdentical(id, collection, start, end);\r\n            if (isIdentical) {\r\n                return this.state[id].slice;\r\n            }\r\n            else {\r\n                var slice = collection.slice(start, end);\r\n                this.saveState(id, collection, slice, start, end);\r\n                this.service.change.emit(id);\r\n                return slice;\r\n            }\r\n        }\r\n        else {\r\n            if (emitChange) {\r\n                this.service.change.emit(id);\r\n            }\r\n            // save the state for server-side collection to avoid null\r\n            // flash as new data loads.\r\n            this.saveState(id, collection, collection, start, end);\r\n            return collection;\r\n        }\r\n    };\r\n    /**\r\n     * Create an PaginationInstance object, using defaults for any optional properties not supplied.\r\n     */\r\n    PaginatePipe.prototype.createInstance = function (collection, config) {\r\n        this.checkConfig(config);\r\n        return {\r\n            id: config.id != null ? config.id : this.service.defaultId(),\r\n            itemsPerPage: +config.itemsPerPage || 0,\r\n            currentPage: +config.currentPage || 1,\r\n            totalItems: +config.totalItems || collection.length\r\n        };\r\n    };\r\n    /**\r\n     * Ensure the argument passed to the filter contains the required properties.\r\n     */\r\n    PaginatePipe.prototype.checkConfig = function (config) {\r\n        var required = ['itemsPerPage', 'currentPage'];\r\n        var missing = required.filter(function (prop) { return !(prop in config); });\r\n        if (0 < missing.length) {\r\n            throw new Error(\"PaginatePipe: Argument is missing the following required properties: \" + missing.join(', '));\r\n        }\r\n    };\r\n    /**\r\n     * To avoid returning a brand new array each time the pipe is run, we store the state of the sliced\r\n     * array for a given id. This means that the next time the pipe is run on this collection & id, we just\r\n     * need to check that the collection, start and end points are all identical, and if so, return the\r\n     * last sliced array.\r\n     */\r\n    PaginatePipe.prototype.saveState = function (id, collection, slice, start, end) {\r\n        this.state[id] = {\r\n            collection: collection,\r\n            size: collection.length,\r\n            slice: slice,\r\n            start: start,\r\n            end: end\r\n        };\r\n    };\r\n    /**\r\n     * For a given id, returns true if the collection, size, start and end values are identical.\r\n     */\r\n    PaginatePipe.prototype.stateIsIdentical = function (id, collection, start, end) {\r\n        var state = this.state[id];\r\n        if (!state) {\r\n            return false;\r\n        }\r\n        var isMetaDataIdentical = state.size === collection.length &&\r\n            state.start === start &&\r\n            state.end === end;\r\n        if (!isMetaDataIdentical) {\r\n            return false;\r\n        }\r\n        return state.slice.every(function (element, index) { return element === collection[start + index]; });\r\n    };\r\n    PaginatePipe = __decorate$1([ __metadata(\"design:paramtypes\", [PaginationService])\r\n    ], PaginatePipe);\nPaginatePipe.ɵfac = function PaginatePipe_Factory(t) { return new (t || PaginatePipe)(ɵngcc0.ɵɵdirectiveInject(PaginationService)); };\nPaginatePipe.ɵpipe = ɵngcc0.ɵɵdefinePipe({ name: \"paginate\", type: PaginatePipe, pure: false });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(PaginatePipe, [{\n        type: Pipe,\n        args: [{\n                name: 'paginate',\n                pure: false\n            }]\n    }], function () { return [{ type: PaginationService }]; }, null); })();\r\n    return PaginatePipe;\r\n}());\n\n/**\r\n * The default template and styles for the pagination links are borrowed directly\r\n * from Zurb Foundation 6: http://foundation.zurb.com/sites/docs/pagination.html\r\n */\r\nvar DEFAULT_TEMPLATE = \"\\n    <pagination-template  #p=\\\"paginationApi\\\"\\n                         [id]=\\\"id\\\"\\n                         [maxSize]=\\\"maxSize\\\"\\n                         (pageChange)=\\\"pageChange.emit($event)\\\"\\n                         (pageBoundsCorrection)=\\\"pageBoundsCorrection.emit($event)\\\">\\n    <ul class=\\\"ngx-pagination\\\"\\n        [attr.aria-label]=\\\"screenReaderPaginationLabel\\\" \\n        [class.responsive]=\\\"responsive\\\"\\n        *ngIf=\\\"!(autoHide && p.pages.length <= 1)\\\">\\n\\n        <li class=\\\"pagination-previous\\\" [class.disabled]=\\\"p.isFirstPage()\\\" *ngIf=\\\"directionLinks\\\"> \\n            <a tabindex=\\\"0\\\" *ngIf=\\\"1 < p.getCurrent()\\\" (keyup.enter)=\\\"p.previous()\\\" (click)=\\\"p.previous()\\\" [attr.aria-label]=\\\"previousLabel + ' ' + screenReaderPageLabel\\\">\\n                {{ previousLabel }} <span class=\\\"show-for-sr\\\">{{ screenReaderPageLabel }}</span>\\n            </a>\\n            <span *ngIf=\\\"p.isFirstPage()\\\">\\n                {{ previousLabel }} <span class=\\\"show-for-sr\\\">{{ screenReaderPageLabel }}</span>\\n            </span>\\n        </li> \\n\\n        <li class=\\\"small-screen\\\">\\n            {{ p.getCurrent() }} / {{ p.getLastPage() }}\\n        </li>\\n\\n        <li [class.current]=\\\"p.getCurrent() === page.value\\\" \\n            [class.ellipsis]=\\\"page.label === '...'\\\"\\n            *ngFor=\\\"let page of p.pages; trackBy: trackByIndex\\\">\\n            <a tabindex=\\\"0\\\" (keyup.enter)=\\\"p.setCurrent(page.value)\\\" (click)=\\\"p.setCurrent(page.value)\\\" *ngIf=\\\"p.getCurrent() !== page.value\\\">\\n                <span class=\\\"show-for-sr\\\">{{ screenReaderPageLabel }} </span>\\n                <span>{{ (page.label === '...') ? page.label : (page.label | number:'') }}</span>\\n            </a>\\n            <ng-container *ngIf=\\\"p.getCurrent() === page.value\\\">\\n                <span class=\\\"show-for-sr\\\">{{ screenReaderCurrentLabel }} </span>\\n                <span>{{ (page.label === '...') ? page.label : (page.label | number:'') }}</span> \\n            </ng-container>\\n        </li>\\n\\n        <li class=\\\"pagination-next\\\" [class.disabled]=\\\"p.isLastPage()\\\" *ngIf=\\\"directionLinks\\\">\\n            <a tabindex=\\\"0\\\" *ngIf=\\\"!p.isLastPage()\\\" (keyup.enter)=\\\"p.next()\\\" (click)=\\\"p.next()\\\" [attr.aria-label]=\\\"nextLabel + ' ' + screenReaderPageLabel\\\">\\n                 {{ nextLabel }} <span class=\\\"show-for-sr\\\">{{ screenReaderPageLabel }}</span>\\n            </a>\\n            <span *ngIf=\\\"p.isLastPage()\\\">\\n                 {{ nextLabel }} <span class=\\\"show-for-sr\\\">{{ screenReaderPageLabel }}</span>\\n            </span>\\n        </li>\\n\\n    </ul>\\n    </pagination-template>\\n    \";\r\nvar DEFAULT_STYLES = \"\\n.ngx-pagination {\\n  margin-left: 0;\\n  margin-bottom: 1rem; }\\n  .ngx-pagination::before, .ngx-pagination::after {\\n    content: ' ';\\n    display: table; }\\n  .ngx-pagination::after {\\n    clear: both; }\\n  .ngx-pagination li {\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    -ms-user-select: none;\\n    margin-right: 0.0625rem;\\n    border-radius: 0; }\\n  .ngx-pagination li {\\n    display: inline-block; }\\n  .ngx-pagination a,\\n  .ngx-pagination button {\\n    color: #0a0a0a; \\n    display: block;\\n    padding: 0.1875rem 0.625rem;\\n    border-radius: 0; }\\n    .ngx-pagination a:hover,\\n    .ngx-pagination button:hover {\\n      background: #e6e6e6; }\\n  .ngx-pagination .current {\\n    padding: 0.1875rem 0.625rem;\\n    background: #2199e8;\\n    color: #fefefe;\\n    cursor: default; }\\n  .ngx-pagination .disabled {\\n    padding: 0.1875rem 0.625rem;\\n    color: #cacaca;\\n    cursor: default; } \\n    .ngx-pagination .disabled:hover {\\n      background: transparent; }\\n  .ngx-pagination a, .ngx-pagination button {\\n    cursor: pointer; }\\n\\n.ngx-pagination .pagination-previous a::before,\\n.ngx-pagination .pagination-previous.disabled::before { \\n  content: '\\u00AB';\\n  display: inline-block;\\n  margin-right: 0.5rem; }\\n\\n.ngx-pagination .pagination-next a::after,\\n.ngx-pagination .pagination-next.disabled::after {\\n  content: '\\u00BB';\\n  display: inline-block;\\n  margin-left: 0.5rem; }\\n\\n.ngx-pagination .show-for-sr {\\n  position: absolute !important;\\n  width: 1px;\\n  height: 1px;\\n  overflow: hidden;\\n  clip: rect(0, 0, 0, 0); }\\n.ngx-pagination .small-screen {\\n  display: none; }\\n@media screen and (max-width: 601px) {\\n  .ngx-pagination.responsive .small-screen {\\n    display: inline-block; } \\n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\\n    display: none; }\\n}\\n  \";\n\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata$1 = (undefined && undefined.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nfunction coerceToBoolean(input) {\r\n    return !!input && input !== 'false';\r\n}\r\n/**\r\n * The default pagination controls component. Actually just a default implementation of a custom template.\r\n */\r\nvar PaginationControlsComponent = /** @class */ (function () {\r\n    function PaginationControlsComponent() {\r\n        this.maxSize = 7;\r\n        this.previousLabel = 'Previous';\r\n        this.nextLabel = 'Next';\r\n        this.screenReaderPaginationLabel = 'Pagination';\r\n        this.screenReaderPageLabel = 'page';\r\n        this.screenReaderCurrentLabel = \"You're on page\";\r\n        this.pageChange = new EventEmitter();\r\n        this.pageBoundsCorrection = new EventEmitter();\r\n        this._directionLinks = true;\r\n        this._autoHide = false;\r\n        this._responsive = false;\r\n    }\r\n    Object.defineProperty(PaginationControlsComponent.prototype, \"directionLinks\", {\r\n        get: function () {\r\n            return this._directionLinks;\r\n        },\r\n        set: function (value) {\r\n            this._directionLinks = coerceToBoolean(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PaginationControlsComponent.prototype, \"autoHide\", {\r\n        get: function () {\r\n            return this._autoHide;\r\n        },\r\n        set: function (value) {\r\n            this._autoHide = coerceToBoolean(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PaginationControlsComponent.prototype, \"responsive\", {\r\n        get: function () {\r\n            return this._responsive;\r\n        },\r\n        set: function (value) {\r\n            this._responsive = coerceToBoolean(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    PaginationControlsComponent.prototype.trackByIndex = function (index) {\r\n        return index;\r\n    };\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", String)\r\n    ], PaginationControlsComponent.prototype, \"id\", void 0);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", Number)\r\n    ], PaginationControlsComponent.prototype, \"maxSize\", void 0);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", Boolean),\r\n        __metadata$1(\"design:paramtypes\", [Boolean])\r\n    ], PaginationControlsComponent.prototype, \"directionLinks\", null);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", Boolean),\r\n        __metadata$1(\"design:paramtypes\", [Boolean])\r\n    ], PaginationControlsComponent.prototype, \"autoHide\", null);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", Boolean),\r\n        __metadata$1(\"design:paramtypes\", [Boolean])\r\n    ], PaginationControlsComponent.prototype, \"responsive\", null);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", String)\r\n    ], PaginationControlsComponent.prototype, \"previousLabel\", void 0);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", String)\r\n    ], PaginationControlsComponent.prototype, \"nextLabel\", void 0);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", String)\r\n    ], PaginationControlsComponent.prototype, \"screenReaderPaginationLabel\", void 0);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", String)\r\n    ], PaginationControlsComponent.prototype, \"screenReaderPageLabel\", void 0);\r\n    __decorate$2([\r\n        Input(),\r\n        __metadata$1(\"design:type\", String)\r\n    ], PaginationControlsComponent.prototype, \"screenReaderCurrentLabel\", void 0);\r\n    __decorate$2([\r\n        Output(),\r\n        __metadata$1(\"design:type\", EventEmitter)\r\n    ], PaginationControlsComponent.prototype, \"pageChange\", void 0);\r\n    __decorate$2([\r\n        Output(),\r\n        __metadata$1(\"design:type\", EventEmitter)\r\n    ], PaginationControlsComponent.prototype, \"pageBoundsCorrection\", void 0);\nPaginationControlsComponent.ɵfac = function PaginationControlsComponent_Factory(t) { return new (t || PaginationControlsComponent)(); };\nPaginationControlsComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: PaginationControlsComponent, selectors: [[\"pagination-controls\"]], inputs: { maxSize: \"maxSize\", previousLabel: \"previousLabel\", nextLabel: \"nextLabel\", screenReaderPaginationLabel: \"screenReaderPaginationLabel\", screenReaderPageLabel: \"screenReaderPageLabel\", screenReaderCurrentLabel: \"screenReaderCurrentLabel\", directionLinks: \"directionLinks\", autoHide: \"autoHide\", responsive: \"responsive\", id: \"id\" }, outputs: { pageChange: \"pageChange\", pageBoundsCorrection: \"pageBoundsCorrection\" }, decls: 3, vars: 3, consts: [[3, \"id\", \"maxSize\", \"pageChange\", \"pageBoundsCorrection\"], [\"p\", \"paginationApi\"], [\"class\", \"ngx-pagination\", 3, \"responsive\", 4, \"ngIf\"], [1, \"ngx-pagination\"], [\"class\", \"pagination-previous\", 3, \"disabled\", 4, \"ngIf\"], [1, \"small-screen\"], [3, \"current\", \"ellipsis\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"class\", \"pagination-next\", 3, \"disabled\", 4, \"ngIf\"], [1, \"pagination-previous\"], [\"tabindex\", \"0\", 3, \"keyup.enter\", \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [\"tabindex\", \"0\", 3, \"keyup.enter\", \"click\"], [1, \"show-for-sr\"], [1, \"pagination-next\"]], template: function PaginationControlsComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"pagination-template\", 0, 1);\n        ɵngcc0.ɵɵlistener(\"pageChange\", function PaginationControlsComponent_Template_pagination_template_pageChange_0_listener($event) { return ctx.pageChange.emit($event); })(\"pageBoundsCorrection\", function PaginationControlsComponent_Template_pagination_template_pageBoundsCorrection_0_listener($event) { return ctx.pageBoundsCorrection.emit($event); });\n        ɵngcc0.ɵɵtemplate(2, PaginationControlsComponent_ul_2_Template, 6, 9, \"ul\", 2);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        var _r0 = ɵngcc0.ɵɵreference(1);\n        ɵngcc0.ɵɵproperty(\"id\", ctx.id)(\"maxSize\", ctx.maxSize);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !(ctx.autoHide && _r0.pages.length <= 1));\n    } }, directives: function () { return [PaginationControlsDirective, ɵngcc1.NgIf, ɵngcc1.NgForOf]; }, pipes: function () { return [ɵngcc1.DecimalPipe]; }, styles: [\"\\n.ngx-pagination {\\n  margin-left: 0;\\n  margin-bottom: 1rem; }\\n  .ngx-pagination::before, .ngx-pagination::after {\\n    content: ' ';\\n    display: table; }\\n  .ngx-pagination::after {\\n    clear: both; }\\n  .ngx-pagination li {\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    -ms-user-select: none;\\n    margin-right: 0.0625rem;\\n    border-radius: 0; }\\n  .ngx-pagination li {\\n    display: inline-block; }\\n  .ngx-pagination a,\\n  .ngx-pagination button {\\n    color: #0a0a0a; \\n    display: block;\\n    padding: 0.1875rem 0.625rem;\\n    border-radius: 0; }\\n    .ngx-pagination a:hover,\\n    .ngx-pagination button:hover {\\n      background: #e6e6e6; }\\n  .ngx-pagination .current {\\n    padding: 0.1875rem 0.625rem;\\n    background: #2199e8;\\n    color: #fefefe;\\n    cursor: default; }\\n  .ngx-pagination .disabled {\\n    padding: 0.1875rem 0.625rem;\\n    color: #cacaca;\\n    cursor: default; } \\n    .ngx-pagination .disabled:hover {\\n      background: transparent; }\\n  .ngx-pagination a, .ngx-pagination button {\\n    cursor: pointer; }\\n\\n.ngx-pagination .pagination-previous a::before,\\n.ngx-pagination .pagination-previous.disabled::before { \\n  content: '\\u00AB';\\n  display: inline-block;\\n  margin-right: 0.5rem; }\\n\\n.ngx-pagination .pagination-next a::after,\\n.ngx-pagination .pagination-next.disabled::after {\\n  content: '\\u00BB';\\n  display: inline-block;\\n  margin-left: 0.5rem; }\\n\\n.ngx-pagination .show-for-sr {\\n  position: absolute !important;\\n  width: 1px;\\n  height: 1px;\\n  overflow: hidden;\\n  clip: rect(0, 0, 0, 0); }\\n.ngx-pagination .small-screen {\\n  display: none; }\\n@media screen and (max-width: 601px) {\\n  .ngx-pagination.responsive .small-screen {\\n    display: inline-block; } \\n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\\n    display: none; }\\n}\\n  \"], encapsulation: 2, changeDetection: 0 });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(PaginationControlsComponent, [{\n        type: Component,\n        args: [{\n                selector: 'pagination-controls',\n                template: DEFAULT_TEMPLATE,\n                styles: [DEFAULT_STYLES],\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                encapsulation: ViewEncapsulation.None\n            }]\n    }], function () { return []; }, { maxSize: [{\n            type: Input\n        }], previousLabel: [{\n            type: Input\n        }], nextLabel: [{\n            type: Input\n        }], screenReaderPaginationLabel: [{\n            type: Input\n        }], screenReaderPageLabel: [{\n            type: Input\n        }], screenReaderCurrentLabel: [{\n            type: Input\n        }], pageChange: [{\n            type: Output\n        }], pageBoundsCorrection: [{\n            type: Output\n        }], directionLinks: [{\n            type: Input\n        }], autoHide: [{\n            type: Input\n        }], responsive: [{\n            type: Input\n        }], id: [{\n            type: Input\n        }] }); })();\r\n    return PaginationControlsComponent;\r\n}());\n\nvar __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata$2 = (undefined && undefined.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\n/**\r\n * This directive is what powers all pagination controls components, including the default one.\r\n * It exposes an API which is hooked up to the PaginationService to keep the PaginatePipe in sync\r\n * with the pagination controls.\r\n */\r\nvar PaginationControlsDirective = /** @class */ (function () {\r\n    function PaginationControlsDirective(service, changeDetectorRef) {\r\n        var _this = this;\r\n        this.service = service;\r\n        this.changeDetectorRef = changeDetectorRef;\r\n        this.maxSize = 7;\r\n        this.pageChange = new EventEmitter();\r\n        this.pageBoundsCorrection = new EventEmitter();\r\n        this.pages = [];\r\n        this.changeSub = this.service.change\r\n            .subscribe(function (id) {\r\n            if (_this.id === id) {\r\n                _this.updatePageLinks();\r\n                _this.changeDetectorRef.markForCheck();\r\n                _this.changeDetectorRef.detectChanges();\r\n            }\r\n        });\r\n    }\r\n    PaginationControlsDirective.prototype.ngOnInit = function () {\r\n        if (this.id === undefined) {\r\n            this.id = this.service.defaultId();\r\n        }\r\n        this.updatePageLinks();\r\n    };\r\n    PaginationControlsDirective.prototype.ngOnChanges = function (changes) {\r\n        this.updatePageLinks();\r\n    };\r\n    PaginationControlsDirective.prototype.ngOnDestroy = function () {\r\n        this.changeSub.unsubscribe();\r\n    };\r\n    /**\r\n     * Go to the previous page\r\n     */\r\n    PaginationControlsDirective.prototype.previous = function () {\r\n        this.checkValidId();\r\n        this.setCurrent(this.getCurrent() - 1);\r\n    };\r\n    /**\r\n     * Go to the next page\r\n     */\r\n    PaginationControlsDirective.prototype.next = function () {\r\n        this.checkValidId();\r\n        this.setCurrent(this.getCurrent() + 1);\r\n    };\r\n    /**\r\n     * Returns true if current page is first page\r\n     */\r\n    PaginationControlsDirective.prototype.isFirstPage = function () {\r\n        return this.getCurrent() === 1;\r\n    };\r\n    /**\r\n     * Returns true if current page is last page\r\n     */\r\n    PaginationControlsDirective.prototype.isLastPage = function () {\r\n        return this.getLastPage() === this.getCurrent();\r\n    };\r\n    /**\r\n     * Set the current page number.\r\n     */\r\n    PaginationControlsDirective.prototype.setCurrent = function (page) {\r\n        this.pageChange.emit(page);\r\n    };\r\n    /**\r\n     * Get the current page number.\r\n     */\r\n    PaginationControlsDirective.prototype.getCurrent = function () {\r\n        return this.service.getCurrentPage(this.id);\r\n    };\r\n    /**\r\n     * Returns the last page number\r\n     */\r\n    PaginationControlsDirective.prototype.getLastPage = function () {\r\n        var inst = this.service.getInstance(this.id);\r\n        if (inst.totalItems < 1) {\r\n            // when there are 0 or fewer (an error case) items, there are no \"pages\" as such,\r\n            // but it makes sense to consider a single, empty page as the last page.\r\n            return 1;\r\n        }\r\n        return Math.ceil(inst.totalItems / inst.itemsPerPage);\r\n    };\r\n    PaginationControlsDirective.prototype.getTotalItems = function () {\r\n        return this.service.getInstance(this.id).totalItems;\r\n    };\r\n    PaginationControlsDirective.prototype.checkValidId = function () {\r\n        if (this.service.getInstance(this.id).id == null) {\r\n            console.warn(\"PaginationControlsDirective: the specified id \\\"\" + this.id + \"\\\" does not match any registered PaginationInstance\");\r\n        }\r\n    };\r\n    /**\r\n     * Updates the page links and checks that the current page is valid. Should run whenever the\r\n     * PaginationService.change stream emits a value matching the current ID, or when any of the\r\n     * input values changes.\r\n     */\r\n    PaginationControlsDirective.prototype.updatePageLinks = function () {\r\n        var _this = this;\r\n        var inst = this.service.getInstance(this.id);\r\n        var correctedCurrentPage = this.outOfBoundCorrection(inst);\r\n        if (correctedCurrentPage !== inst.currentPage) {\r\n            setTimeout(function () {\r\n                _this.pageBoundsCorrection.emit(correctedCurrentPage);\r\n                _this.pages = _this.createPageArray(inst.currentPage, inst.itemsPerPage, inst.totalItems, _this.maxSize);\r\n            });\r\n        }\r\n        else {\r\n            this.pages = this.createPageArray(inst.currentPage, inst.itemsPerPage, inst.totalItems, this.maxSize);\r\n        }\r\n    };\r\n    /**\r\n     * Checks that the instance.currentPage property is within bounds for the current page range.\r\n     * If not, return a correct value for currentPage, or the current value if OK.\r\n     */\r\n    PaginationControlsDirective.prototype.outOfBoundCorrection = function (instance) {\r\n        var totalPages = Math.ceil(instance.totalItems / instance.itemsPerPage);\r\n        if (totalPages < instance.currentPage && 0 < totalPages) {\r\n            return totalPages;\r\n        }\r\n        else if (instance.currentPage < 1) {\r\n            return 1;\r\n        }\r\n        return instance.currentPage;\r\n    };\r\n    /**\r\n     * Returns an array of Page objects to use in the pagination controls.\r\n     */\r\n    PaginationControlsDirective.prototype.createPageArray = function (currentPage, itemsPerPage, totalItems, paginationRange) {\r\n        // paginationRange could be a string if passed from attribute, so cast to number.\r\n        paginationRange = +paginationRange;\r\n        var pages = [];\r\n        // Return 1 as default page number\r\n        // Make sense to show 1 instead of empty when there are no items\r\n        var totalPages = Math.max(Math.ceil(totalItems / itemsPerPage), 1);\r\n        var halfWay = Math.ceil(paginationRange / 2);\r\n        var isStart = currentPage <= halfWay;\r\n        var isEnd = totalPages - halfWay < currentPage;\r\n        var isMiddle = !isStart && !isEnd;\r\n        var ellipsesNeeded = paginationRange < totalPages;\r\n        var i = 1;\r\n        while (i <= totalPages && i <= paginationRange) {\r\n            var label = void 0;\r\n            var pageNumber = this.calculatePageNumber(i, currentPage, paginationRange, totalPages);\r\n            var openingEllipsesNeeded = (i === 2 && (isMiddle || isEnd));\r\n            var closingEllipsesNeeded = (i === paginationRange - 1 && (isMiddle || isStart));\r\n            if (ellipsesNeeded && (openingEllipsesNeeded || closingEllipsesNeeded)) {\r\n                label = '...';\r\n            }\r\n            else {\r\n                label = pageNumber;\r\n            }\r\n            pages.push({\r\n                label: label,\r\n                value: pageNumber\r\n            });\r\n            i++;\r\n        }\r\n        return pages;\r\n    };\r\n    /**\r\n     * Given the position in the sequence of pagination links [i],\r\n     * figure out what page number corresponds to that position.\r\n     */\r\n    PaginationControlsDirective.prototype.calculatePageNumber = function (i, currentPage, paginationRange, totalPages) {\r\n        var halfWay = Math.ceil(paginationRange / 2);\r\n        if (i === paginationRange) {\r\n            return totalPages;\r\n        }\r\n        else if (i === 1) {\r\n            return i;\r\n        }\r\n        else if (paginationRange < totalPages) {\r\n            if (totalPages - halfWay < currentPage) {\r\n                return totalPages - paginationRange + i;\r\n            }\r\n            else if (halfWay < currentPage) {\r\n                return currentPage - halfWay + i;\r\n            }\r\n            else {\r\n                return i;\r\n            }\r\n        }\r\n        else {\r\n            return i;\r\n        }\r\n    };\r\n    __decorate$3([\r\n        Input(),\r\n        __metadata$2(\"design:type\", String)\r\n    ], PaginationControlsDirective.prototype, \"id\", void 0);\r\n    __decorate$3([\r\n        Input(),\r\n        __metadata$2(\"design:type\", Number)\r\n    ], PaginationControlsDirective.prototype, \"maxSize\", void 0);\r\n    __decorate$3([\r\n        Output(),\r\n        __metadata$2(\"design:type\", EventEmitter)\r\n    ], PaginationControlsDirective.prototype, \"pageChange\", void 0);\r\n    __decorate$3([\r\n        Output(),\r\n        __metadata$2(\"design:type\", EventEmitter)\r\n    ], PaginationControlsDirective.prototype, \"pageBoundsCorrection\", void 0);\r\n    PaginationControlsDirective = __decorate$3([ __metadata$2(\"design:paramtypes\", [PaginationService,\r\n            ChangeDetectorRef])\r\n    ], PaginationControlsDirective);\nPaginationControlsDirective.ɵfac = function PaginationControlsDirective_Factory(t) { return new (t || PaginationControlsDirective)(ɵngcc0.ɵɵdirectiveInject(PaginationService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef)); };\nPaginationControlsDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: PaginationControlsDirective, selectors: [[\"pagination-template\"], [\"\", \"pagination-template\", \"\"]], inputs: { maxSize: \"maxSize\", id: \"id\" }, outputs: { pageChange: \"pageChange\", pageBoundsCorrection: \"pageBoundsCorrection\" }, exportAs: [\"paginationApi\"], features: [ɵngcc0.ɵɵNgOnChangesFeature] });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(PaginationControlsDirective, [{\n        type: Directive,\n        args: [{\n                selector: 'pagination-template,[pagination-template]',\n                exportAs: 'paginationApi'\n            }]\n    }], function () { return [{ type: PaginationService }, { type: ɵngcc0.ChangeDetectorRef }]; }, { maxSize: [{\n            type: Input\n        }], pageChange: [{\n            type: Output\n        }], pageBoundsCorrection: [{\n            type: Output\n        }], id: [{\n            type: Input\n        }] }); })();\r\n    return PaginationControlsDirective;\r\n}());\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar NgxPaginationModule = /** @class */ (function () {\r\n    function NgxPaginationModule() {\r\n    }\nNgxPaginationModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: NgxPaginationModule });\nNgxPaginationModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function NgxPaginationModule_Factory(t) { return new (t || NgxPaginationModule)(); }, providers: [PaginationService], imports: [[CommonModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NgxPaginationModule, { declarations: function () { return [PaginatePipe,\n        PaginationControlsComponent,\n        PaginationControlsDirective]; }, imports: function () { return [CommonModule]; }, exports: function () { return [PaginatePipe,\n        PaginationControlsComponent,\n        PaginationControlsDirective]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgxPaginationModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CommonModule],\n                declarations: [\n                    PaginatePipe,\n                    PaginationControlsComponent,\n                    PaginationControlsDirective\n                ],\n                providers: [PaginationService],\n                exports: [PaginatePipe, PaginationControlsComponent, PaginationControlsDirective]\n            }]\n    }], function () { return []; }, null); })();\r\n    return NgxPaginationModule;\r\n}());\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { DEFAULT_STYLES as ɵb, DEFAULT_TEMPLATE as ɵa, NgxPaginationModule, PaginationService, PaginationControlsComponent, PaginationControlsDirective, PaginatePipe };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXBhZ2luYXRpb24uanMiLCJzb3VyY2VzIjpbIm5neC1wYWdpbmF0aW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FLTztBQUNQOzs7Ozs7Ozs7MkVBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFTb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBS087QUFDUDtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7OztvQkFBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztnREFZNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDaGFuZ2VEZXRlY3RvclJlZiwgQ29tcG9uZW50LCBEaXJlY3RpdmUsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE5nTW9kdWxlLCBPdXRwdXQsIFBpcGUsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG52YXIgUGFnaW5hdGlvblNlcnZpY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQYWdpbmF0aW9uU2VydmljZSgpIHtcclxuICAgICAgICB0aGlzLmNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuREVGQVVMVF9JRCA9ICdERUZBVUxUX1BBR0lOQVRJT05fSUQnO1xyXG4gICAgfVxyXG4gICAgUGFnaW5hdGlvblNlcnZpY2UucHJvdG90eXBlLmRlZmF1bHRJZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuREVGQVVMVF9JRDsgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXIgYSBQYWdpbmF0aW9uSW5zdGFuY2Ugd2l0aCB0aGlzIHNlcnZpY2UuIFJldHVybnMgYVxyXG4gICAgICogYm9vbGVhbiB2YWx1ZSBzaWduaWZ5aW5nIHdoZXRoZXIgdGhlIGluc3RhbmNlIGlzIG5ldyBvclxyXG4gICAgICogdXBkYXRlZCAodHJ1ZSA9IG5ldyBvciB1cGRhdGVkLCBmYWxzZSA9IHVuY2hhbmdlZCkuXHJcbiAgICAgKi9cclxuICAgIFBhZ2luYXRpb25TZXJ2aWNlLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xyXG4gICAgICAgIGlmIChpbnN0YW5jZS5pZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLmlkID0gdGhpcy5ERUZBVUxUX0lEO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VzW2luc3RhbmNlLmlkXSkge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlc1tpbnN0YW5jZS5pZF0gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVJbnN0YW5jZShpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgZWFjaCBwcm9wZXJ0eSBvZiB0aGUgaW5zdGFuY2UgYW5kIHVwZGF0ZSBhbnkgdGhhdCBoYXZlIGNoYW5nZWQuIFJldHVyblxyXG4gICAgICogdHJ1ZSBpZiBhbnkgY2hhbmdlcyB3ZXJlIG1hZGUsIGVsc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAgICovXHJcbiAgICBQYWdpbmF0aW9uU2VydmljZS5wcm90b3R5cGUudXBkYXRlSW5zdGFuY2UgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcclxuICAgICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gdGhpcy5pbnN0YW5jZXNbaW5zdGFuY2UuaWRdKSB7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZVtwcm9wXSAhPT0gdGhpcy5pbnN0YW5jZXNbaW5zdGFuY2UuaWRdW3Byb3BdKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlc1tpbnN0YW5jZS5pZF1bcHJvcF0gPSBpbnN0YW5jZVtwcm9wXTtcclxuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjaGFuZ2VkO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBwYWdlIG51bWJlci5cclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGlvblNlcnZpY2UucHJvdG90eXBlLmdldEN1cnJlbnRQYWdlID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2VzW2lkXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXNbaWRdLmN1cnJlbnRQYWdlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgcGFnZSBudW1iZXIuXHJcbiAgICAgKi9cclxuICAgIFBhZ2luYXRpb25TZXJ2aWNlLnByb3RvdHlwZS5zZXRDdXJyZW50UGFnZSA9IGZ1bmN0aW9uIChpZCwgcGFnZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlc1tpZF0pIHtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZXNbaWRdO1xyXG4gICAgICAgICAgICB2YXIgbWF4UGFnZSA9IE1hdGguY2VpbChpbnN0YW5jZS50b3RhbEl0ZW1zIC8gaW5zdGFuY2UuaXRlbXNQZXJQYWdlKTtcclxuICAgICAgICAgICAgaWYgKHBhZ2UgPD0gbWF4UGFnZSAmJiAxIDw9IHBhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzW2lkXS5jdXJyZW50UGFnZSA9IHBhZ2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZS5lbWl0KGlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIHZhbHVlIG9mIGluc3RhbmNlLnRvdGFsSXRlbXNcclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGlvblNlcnZpY2UucHJvdG90eXBlLnNldFRvdGFsSXRlbXMgPSBmdW5jdGlvbiAoaWQsIHRvdGFsSXRlbXMpIHtcclxuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZXNbaWRdICYmIDAgPD0gdG90YWxJdGVtcykge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlc1tpZF0udG90YWxJdGVtcyA9IHRvdGFsSXRlbXM7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlLmVtaXQoaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIHZhbHVlIG9mIGluc3RhbmNlLml0ZW1zUGVyUGFnZS5cclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGlvblNlcnZpY2UucHJvdG90eXBlLnNldEl0ZW1zUGVyUGFnZSA9IGZ1bmN0aW9uIChpZCwgaXRlbXNQZXJQYWdlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2VzW2lkXSkge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlc1tpZF0uaXRlbXNQZXJQYWdlID0gaXRlbXNQZXJQYWdlO1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZS5lbWl0KGlkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIHBhZ2luYXRpb24gaW5zdGFuY2Ugb2JqZWN0IG1hdGNoaW5nIHRoZSBpZC4gSWYgbm9cclxuICAgICAqIGlkIHNwZWNpZmllZCwgcmV0dXJucyB0aGUgaW5zdGFuY2UgY29ycmVzcG9uZGluZyB0byB0aGUgZGVmYXVsdCBpZC5cclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGlvblNlcnZpY2UucHJvdG90eXBlLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgaWYgKGlkID09PSB2b2lkIDApIHsgaWQgPSB0aGlzLkRFRkFVTFRfSUQ7IH1cclxuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZXNbaWRdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb25lKHRoaXMuaW5zdGFuY2VzW2lkXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm0gYSBzaGFsbG93IGNsb25lIG9mIGFuIG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGlvblNlcnZpY2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBpIGluIG9iaikge1xyXG4gICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGkpKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRbaV0gPSBvYmpbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUGFnaW5hdGlvblNlcnZpY2U7XHJcbn0oKSk7XG5cbnZhciBfX2RlY29yYXRlJDEgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbnZhciBfX21ldGFkYXRhID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcclxufTtcclxudmFyIExBUkdFX05VTUJFUiA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xyXG52YXIgUGFnaW5hdGVQaXBlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUGFnaW5hdGVQaXBlKHNlcnZpY2UpIHtcclxuICAgICAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlO1xyXG4gICAgICAgIC8vIHN0b3JlIHRoZSB2YWx1ZXMgZnJvbSB0aGUgbGFzdCB0aW1lIHRoZSBwaXBlIHdhcyBpbnZva2VkXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xyXG4gICAgfVxyXG4gICAgUGFnaW5hdGVQaXBlLnByb3RvdHlwZS50cmFuc2Zvcm0gPSBmdW5jdGlvbiAoY29sbGVjdGlvbiwgYXJncykge1xyXG4gICAgICAgIC8vIFdoZW4gYW4gb2JzZXJ2YWJsZSBpcyBwYXNzZWQgdGhyb3VnaCB0aGUgQXN5bmNQaXBlLCBpdCB3aWxsIG91dHB1dFxyXG4gICAgICAgIC8vIGBudWxsYCB1bnRpbCB0aGUgc3Vic2NyaXB0aW9uIHJlc29sdmVzLiBJbiB0aGlzIGNhc2UsIHdlIHdhbnQgdG9cclxuICAgICAgICAvLyB1c2UgdGhlIGNhY2hlZCBkYXRhIGZyb20gdGhlIGBzdGF0ZWAgb2JqZWN0IHRvIHByZXZlbnQgdGhlIE5nRm9yXHJcbiAgICAgICAgLy8gZnJvbSBmbGFzaGluZyBlbXB0eSB1bnRpbCB0aGUgcmVhbCB2YWx1ZXMgYXJyaXZlLlxyXG4gICAgICAgIGlmICghKGNvbGxlY3Rpb24gaW5zdGFuY2VvZiBBcnJheSkpIHtcclxuICAgICAgICAgICAgdmFyIF9pZCA9IGFyZ3MuaWQgfHwgdGhpcy5zZXJ2aWNlLmRlZmF1bHRJZCgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZVtfaWRdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZVtfaWRdLnNsaWNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHNlcnZlclNpZGVNb2RlID0gYXJncy50b3RhbEl0ZW1zICYmIGFyZ3MudG90YWxJdGVtcyAhPT0gY29sbGVjdGlvbi5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcy5jcmVhdGVJbnN0YW5jZShjb2xsZWN0aW9uLCBhcmdzKTtcclxuICAgICAgICB2YXIgaWQgPSBpbnN0YW5jZS5pZDtcclxuICAgICAgICB2YXIgc3RhcnQsIGVuZDtcclxuICAgICAgICB2YXIgcGVyUGFnZSA9IGluc3RhbmNlLml0ZW1zUGVyUGFnZTtcclxuICAgICAgICB2YXIgZW1pdENoYW5nZSA9IHRoaXMuc2VydmljZS5yZWdpc3RlcihpbnN0YW5jZSk7XHJcbiAgICAgICAgaWYgKCFzZXJ2ZXJTaWRlTW9kZSAmJiBjb2xsZWN0aW9uIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgcGVyUGFnZSA9ICtwZXJQYWdlIHx8IExBUkdFX05VTUJFUjtcclxuICAgICAgICAgICAgc3RhcnQgPSAoaW5zdGFuY2UuY3VycmVudFBhZ2UgLSAxKSAqIHBlclBhZ2U7XHJcbiAgICAgICAgICAgIGVuZCA9IHN0YXJ0ICsgcGVyUGFnZTtcclxuICAgICAgICAgICAgdmFyIGlzSWRlbnRpY2FsID0gdGhpcy5zdGF0ZUlzSWRlbnRpY2FsKGlkLCBjb2xsZWN0aW9uLCBzdGFydCwgZW5kKTtcclxuICAgICAgICAgICAgaWYgKGlzSWRlbnRpY2FsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZVtpZF0uc2xpY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2xpY2UgPSBjb2xsZWN0aW9uLnNsaWNlKHN0YXJ0LCBlbmQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlU3RhdGUoaWQsIGNvbGxlY3Rpb24sIHNsaWNlLCBzdGFydCwgZW5kKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VydmljZS5jaGFuZ2UuZW1pdChpZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2xpY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChlbWl0Q2hhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlcnZpY2UuY2hhbmdlLmVtaXQoaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHNhdmUgdGhlIHN0YXRlIGZvciBzZXJ2ZXItc2lkZSBjb2xsZWN0aW9uIHRvIGF2b2lkIG51bGxcclxuICAgICAgICAgICAgLy8gZmxhc2ggYXMgbmV3IGRhdGEgbG9hZHMuXHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZVN0YXRlKGlkLCBjb2xsZWN0aW9uLCBjb2xsZWN0aW9uLCBzdGFydCwgZW5kKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuIFBhZ2luYXRpb25JbnN0YW5jZSBvYmplY3QsIHVzaW5nIGRlZmF1bHRzIGZvciBhbnkgb3B0aW9uYWwgcHJvcGVydGllcyBub3Qgc3VwcGxpZWQuXHJcbiAgICAgKi9cclxuICAgIFBhZ2luYXRlUGlwZS5wcm90b3R5cGUuY3JlYXRlSW5zdGFuY2UgPSBmdW5jdGlvbiAoY29sbGVjdGlvbiwgY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5jaGVja0NvbmZpZyhjb25maWcpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlkOiBjb25maWcuaWQgIT0gbnVsbCA/IGNvbmZpZy5pZCA6IHRoaXMuc2VydmljZS5kZWZhdWx0SWQoKSxcclxuICAgICAgICAgICAgaXRlbXNQZXJQYWdlOiArY29uZmlnLml0ZW1zUGVyUGFnZSB8fCAwLFxyXG4gICAgICAgICAgICBjdXJyZW50UGFnZTogK2NvbmZpZy5jdXJyZW50UGFnZSB8fCAxLFxyXG4gICAgICAgICAgICB0b3RhbEl0ZW1zOiArY29uZmlnLnRvdGFsSXRlbXMgfHwgY29sbGVjdGlvbi5sZW5ndGhcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRW5zdXJlIHRoZSBhcmd1bWVudCBwYXNzZWQgdG8gdGhlIGZpbHRlciBjb250YWlucyB0aGUgcmVxdWlyZWQgcHJvcGVydGllcy5cclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGVQaXBlLnByb3RvdHlwZS5jaGVja0NvbmZpZyA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICB2YXIgcmVxdWlyZWQgPSBbJ2l0ZW1zUGVyUGFnZScsICdjdXJyZW50UGFnZSddO1xyXG4gICAgICAgIHZhciBtaXNzaW5nID0gcmVxdWlyZWQuZmlsdGVyKGZ1bmN0aW9uIChwcm9wKSB7IHJldHVybiAhKHByb3AgaW4gY29uZmlnKTsgfSk7XHJcbiAgICAgICAgaWYgKDAgPCBtaXNzaW5nLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYWdpbmF0ZVBpcGU6IEFyZ3VtZW50IGlzIG1pc3NpbmcgdGhlIGZvbGxvd2luZyByZXF1aXJlZCBwcm9wZXJ0aWVzOiBcIiArIG1pc3Npbmcuam9pbignLCAnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVG8gYXZvaWQgcmV0dXJuaW5nIGEgYnJhbmQgbmV3IGFycmF5IGVhY2ggdGltZSB0aGUgcGlwZSBpcyBydW4sIHdlIHN0b3JlIHRoZSBzdGF0ZSBvZiB0aGUgc2xpY2VkXHJcbiAgICAgKiBhcnJheSBmb3IgYSBnaXZlbiBpZC4gVGhpcyBtZWFucyB0aGF0IHRoZSBuZXh0IHRpbWUgdGhlIHBpcGUgaXMgcnVuIG9uIHRoaXMgY29sbGVjdGlvbiAmIGlkLCB3ZSBqdXN0XHJcbiAgICAgKiBuZWVkIHRvIGNoZWNrIHRoYXQgdGhlIGNvbGxlY3Rpb24sIHN0YXJ0IGFuZCBlbmQgcG9pbnRzIGFyZSBhbGwgaWRlbnRpY2FsLCBhbmQgaWYgc28sIHJldHVybiB0aGVcclxuICAgICAqIGxhc3Qgc2xpY2VkIGFycmF5LlxyXG4gICAgICovXHJcbiAgICBQYWdpbmF0ZVBpcGUucHJvdG90eXBlLnNhdmVTdGF0ZSA9IGZ1bmN0aW9uIChpZCwgY29sbGVjdGlvbiwgc2xpY2UsIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICB0aGlzLnN0YXRlW2lkXSA9IHtcclxuICAgICAgICAgICAgY29sbGVjdGlvbjogY29sbGVjdGlvbixcclxuICAgICAgICAgICAgc2l6ZTogY29sbGVjdGlvbi5sZW5ndGgsXHJcbiAgICAgICAgICAgIHNsaWNlOiBzbGljZSxcclxuICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxyXG4gICAgICAgICAgICBlbmQ6IGVuZFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBGb3IgYSBnaXZlbiBpZCwgcmV0dXJucyB0cnVlIGlmIHRoZSBjb2xsZWN0aW9uLCBzaXplLCBzdGFydCBhbmQgZW5kIHZhbHVlcyBhcmUgaWRlbnRpY2FsLlxyXG4gICAgICovXHJcbiAgICBQYWdpbmF0ZVBpcGUucHJvdG90eXBlLnN0YXRlSXNJZGVudGljYWwgPSBmdW5jdGlvbiAoaWQsIGNvbGxlY3Rpb24sIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlW2lkXTtcclxuICAgICAgICBpZiAoIXN0YXRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGlzTWV0YURhdGFJZGVudGljYWwgPSBzdGF0ZS5zaXplID09PSBjb2xsZWN0aW9uLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICBzdGF0ZS5zdGFydCA9PT0gc3RhcnQgJiZcclxuICAgICAgICAgICAgc3RhdGUuZW5kID09PSBlbmQ7XHJcbiAgICAgICAgaWYgKCFpc01ldGFEYXRhSWRlbnRpY2FsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0YXRlLnNsaWNlLmV2ZXJ5KGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCkgeyByZXR1cm4gZWxlbWVudCA9PT0gY29sbGVjdGlvbltzdGFydCArIGluZGV4XTsgfSk7XHJcbiAgICB9O1xyXG4gICAgUGFnaW5hdGVQaXBlID0gX19kZWNvcmF0ZSQxKFtcclxuICAgICAgICBQaXBlKHtcclxuICAgICAgICAgICAgbmFtZTogJ3BhZ2luYXRlJyxcclxuICAgICAgICAgICAgcHVyZTogZmFsc2VcclxuICAgICAgICB9KSxcclxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1BhZ2luYXRpb25TZXJ2aWNlXSlcclxuICAgIF0sIFBhZ2luYXRlUGlwZSk7XHJcbiAgICByZXR1cm4gUGFnaW5hdGVQaXBlO1xyXG59KCkpO1xuXG4vKipcclxuICogVGhlIGRlZmF1bHQgdGVtcGxhdGUgYW5kIHN0eWxlcyBmb3IgdGhlIHBhZ2luYXRpb24gbGlua3MgYXJlIGJvcnJvd2VkIGRpcmVjdGx5XHJcbiAqIGZyb20gWnVyYiBGb3VuZGF0aW9uIDY6IGh0dHA6Ly9mb3VuZGF0aW9uLnp1cmIuY29tL3NpdGVzL2RvY3MvcGFnaW5hdGlvbi5odG1sXHJcbiAqL1xyXG52YXIgREVGQVVMVF9URU1QTEFURSA9IFwiXFxuICAgIDxwYWdpbmF0aW9uLXRlbXBsYXRlICAjcD1cXFwicGFnaW5hdGlvbkFwaVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgW2lkXT1cXFwiaWRcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgIFttYXhTaXplXT1cXFwibWF4U2l6ZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgKHBhZ2VDaGFuZ2UpPVxcXCJwYWdlQ2hhbmdlLmVtaXQoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgKHBhZ2VCb3VuZHNDb3JyZWN0aW9uKT1cXFwicGFnZUJvdW5kc0NvcnJlY3Rpb24uZW1pdCgkZXZlbnQpXFxcIj5cXG4gICAgPHVsIGNsYXNzPVxcXCJuZ3gtcGFnaW5hdGlvblxcXCJcXG4gICAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVxcXCJzY3JlZW5SZWFkZXJQYWdpbmF0aW9uTGFiZWxcXFwiIFxcbiAgICAgICAgW2NsYXNzLnJlc3BvbnNpdmVdPVxcXCJyZXNwb25zaXZlXFxcIlxcbiAgICAgICAgKm5nSWY9XFxcIiEoYXV0b0hpZGUgJiYgcC5wYWdlcy5sZW5ndGggPD0gMSlcXFwiPlxcblxcbiAgICAgICAgPGxpIGNsYXNzPVxcXCJwYWdpbmF0aW9uLXByZXZpb3VzXFxcIiBbY2xhc3MuZGlzYWJsZWRdPVxcXCJwLmlzRmlyc3RQYWdlKClcXFwiICpuZ0lmPVxcXCJkaXJlY3Rpb25MaW5rc1xcXCI+IFxcbiAgICAgICAgICAgIDxhIHRhYmluZGV4PVxcXCIwXFxcIiAqbmdJZj1cXFwiMSA8IHAuZ2V0Q3VycmVudCgpXFxcIiAoa2V5dXAuZW50ZXIpPVxcXCJwLnByZXZpb3VzKClcXFwiIChjbGljayk9XFxcInAucHJldmlvdXMoKVxcXCIgW2F0dHIuYXJpYS1sYWJlbF09XFxcInByZXZpb3VzTGFiZWwgKyAnICcgKyBzY3JlZW5SZWFkZXJQYWdlTGFiZWxcXFwiPlxcbiAgICAgICAgICAgICAgICB7eyBwcmV2aW91c0xhYmVsIH19IDxzcGFuIGNsYXNzPVxcXCJzaG93LWZvci1zclxcXCI+e3sgc2NyZWVuUmVhZGVyUGFnZUxhYmVsIH19PC9zcGFuPlxcbiAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICA8c3BhbiAqbmdJZj1cXFwicC5pc0ZpcnN0UGFnZSgpXFxcIj5cXG4gICAgICAgICAgICAgICAge3sgcHJldmlvdXNMYWJlbCB9fSA8c3BhbiBjbGFzcz1cXFwic2hvdy1mb3Itc3JcXFwiPnt7IHNjcmVlblJlYWRlclBhZ2VMYWJlbCB9fTwvc3Bhbj5cXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICA8L2xpPiBcXG5cXG4gICAgICAgIDxsaSBjbGFzcz1cXFwic21hbGwtc2NyZWVuXFxcIj5cXG4gICAgICAgICAgICB7eyBwLmdldEN1cnJlbnQoKSB9fSAvIHt7IHAuZ2V0TGFzdFBhZ2UoKSB9fVxcbiAgICAgICAgPC9saT5cXG5cXG4gICAgICAgIDxsaSBbY2xhc3MuY3VycmVudF09XFxcInAuZ2V0Q3VycmVudCgpID09PSBwYWdlLnZhbHVlXFxcIiBcXG4gICAgICAgICAgICBbY2xhc3MuZWxsaXBzaXNdPVxcXCJwYWdlLmxhYmVsID09PSAnLi4uJ1xcXCJcXG4gICAgICAgICAgICAqbmdGb3I9XFxcImxldCBwYWdlIG9mIHAucGFnZXM7IHRyYWNrQnk6IHRyYWNrQnlJbmRleFxcXCI+XFxuICAgICAgICAgICAgPGEgdGFiaW5kZXg9XFxcIjBcXFwiIChrZXl1cC5lbnRlcik9XFxcInAuc2V0Q3VycmVudChwYWdlLnZhbHVlKVxcXCIgKGNsaWNrKT1cXFwicC5zZXRDdXJyZW50KHBhZ2UudmFsdWUpXFxcIiAqbmdJZj1cXFwicC5nZXRDdXJyZW50KCkgIT09IHBhZ2UudmFsdWVcXFwiPlxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwic2hvdy1mb3Itc3JcXFwiPnt7IHNjcmVlblJlYWRlclBhZ2VMYWJlbCB9fSA8L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuPnt7IChwYWdlLmxhYmVsID09PSAnLi4uJykgPyBwYWdlLmxhYmVsIDogKHBhZ2UubGFiZWwgfCBudW1iZXI6JycpIH19PC9zcGFuPlxcbiAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVxcXCJwLmdldEN1cnJlbnQoKSA9PT0gcGFnZS52YWx1ZVxcXCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzaG93LWZvci1zclxcXCI+e3sgc2NyZWVuUmVhZGVyQ3VycmVudExhYmVsIH19IDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPHNwYW4+e3sgKHBhZ2UubGFiZWwgPT09ICcuLi4nKSA/IHBhZ2UubGFiZWwgOiAocGFnZS5sYWJlbCB8IG51bWJlcjonJykgfX08L3NwYW4+IFxcbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxcbiAgICAgICAgPC9saT5cXG5cXG4gICAgICAgIDxsaSBjbGFzcz1cXFwicGFnaW5hdGlvbi1uZXh0XFxcIiBbY2xhc3MuZGlzYWJsZWRdPVxcXCJwLmlzTGFzdFBhZ2UoKVxcXCIgKm5nSWY9XFxcImRpcmVjdGlvbkxpbmtzXFxcIj5cXG4gICAgICAgICAgICA8YSB0YWJpbmRleD1cXFwiMFxcXCIgKm5nSWY9XFxcIiFwLmlzTGFzdFBhZ2UoKVxcXCIgKGtleXVwLmVudGVyKT1cXFwicC5uZXh0KClcXFwiIChjbGljayk9XFxcInAubmV4dCgpXFxcIiBbYXR0ci5hcmlhLWxhYmVsXT1cXFwibmV4dExhYmVsICsgJyAnICsgc2NyZWVuUmVhZGVyUGFnZUxhYmVsXFxcIj5cXG4gICAgICAgICAgICAgICAgIHt7IG5leHRMYWJlbCB9fSA8c3BhbiBjbGFzcz1cXFwic2hvdy1mb3Itc3JcXFwiPnt7IHNjcmVlblJlYWRlclBhZ2VMYWJlbCB9fTwvc3Bhbj5cXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgPHNwYW4gKm5nSWY9XFxcInAuaXNMYXN0UGFnZSgpXFxcIj5cXG4gICAgICAgICAgICAgICAgIHt7IG5leHRMYWJlbCB9fSA8c3BhbiBjbGFzcz1cXFwic2hvdy1mb3Itc3JcXFwiPnt7IHNjcmVlblJlYWRlclBhZ2VMYWJlbCB9fTwvc3Bhbj5cXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICA8L2xpPlxcblxcbiAgICA8L3VsPlxcbiAgICA8L3BhZ2luYXRpb24tdGVtcGxhdGU+XFxuICAgIFwiO1xyXG52YXIgREVGQVVMVF9TVFlMRVMgPSBcIlxcbi5uZ3gtcGFnaW5hdGlvbiB7XFxuICBtYXJnaW4tbGVmdDogMDtcXG4gIG1hcmdpbi1ib3R0b206IDFyZW07IH1cXG4gIC5uZ3gtcGFnaW5hdGlvbjo6YmVmb3JlLCAubmd4LXBhZ2luYXRpb246OmFmdGVyIHtcXG4gICAgY29udGVudDogJyAnO1xcbiAgICBkaXNwbGF5OiB0YWJsZTsgfVxcbiAgLm5neC1wYWdpbmF0aW9uOjphZnRlciB7XFxuICAgIGNsZWFyOiBib3RoOyB9XFxuICAubmd4LXBhZ2luYXRpb24gbGkge1xcbiAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgIG1hcmdpbi1yaWdodDogMC4wNjI1cmVtO1xcbiAgICBib3JkZXItcmFkaXVzOiAwOyB9XFxuICAubmd4LXBhZ2luYXRpb24gbGkge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IH1cXG4gIC5uZ3gtcGFnaW5hdGlvbiBhLFxcbiAgLm5neC1wYWdpbmF0aW9uIGJ1dHRvbiB7XFxuICAgIGNvbG9yOiAjMGEwYTBhOyBcXG4gICAgZGlzcGxheTogYmxvY2s7XFxuICAgIHBhZGRpbmc6IDAuMTg3NXJlbSAwLjYyNXJlbTtcXG4gICAgYm9yZGVyLXJhZGl1czogMDsgfVxcbiAgICAubmd4LXBhZ2luYXRpb24gYTpob3ZlcixcXG4gICAgLm5neC1wYWdpbmF0aW9uIGJ1dHRvbjpob3ZlciB7XFxuICAgICAgYmFja2dyb3VuZDogI2U2ZTZlNjsgfVxcbiAgLm5neC1wYWdpbmF0aW9uIC5jdXJyZW50IHtcXG4gICAgcGFkZGluZzogMC4xODc1cmVtIDAuNjI1cmVtO1xcbiAgICBiYWNrZ3JvdW5kOiAjMjE5OWU4O1xcbiAgICBjb2xvcjogI2ZlZmVmZTtcXG4gICAgY3Vyc29yOiBkZWZhdWx0OyB9XFxuICAubmd4LXBhZ2luYXRpb24gLmRpc2FibGVkIHtcXG4gICAgcGFkZGluZzogMC4xODc1cmVtIDAuNjI1cmVtO1xcbiAgICBjb2xvcjogI2NhY2FjYTtcXG4gICAgY3Vyc29yOiBkZWZhdWx0OyB9IFxcbiAgICAubmd4LXBhZ2luYXRpb24gLmRpc2FibGVkOmhvdmVyIHtcXG4gICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgfVxcbiAgLm5neC1wYWdpbmF0aW9uIGEsIC5uZ3gtcGFnaW5hdGlvbiBidXR0b24ge1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7IH1cXG5cXG4ubmd4LXBhZ2luYXRpb24gLnBhZ2luYXRpb24tcHJldmlvdXMgYTo6YmVmb3JlLFxcbi5uZ3gtcGFnaW5hdGlvbiAucGFnaW5hdGlvbi1wcmV2aW91cy5kaXNhYmxlZDo6YmVmb3JlIHsgXFxuICBjb250ZW50OiAnXFx1MDBBQic7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTsgfVxcblxcbi5uZ3gtcGFnaW5hdGlvbiAucGFnaW5hdGlvbi1uZXh0IGE6OmFmdGVyLFxcbi5uZ3gtcGFnaW5hdGlvbiAucGFnaW5hdGlvbi1uZXh0LmRpc2FibGVkOjphZnRlciB7XFxuICBjb250ZW50OiAnXFx1MDBCQic7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBtYXJnaW4tbGVmdDogMC41cmVtOyB9XFxuXFxuLm5neC1wYWdpbmF0aW9uIC5zaG93LWZvci1zciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGUgIWltcG9ydGFudDtcXG4gIHdpZHRoOiAxcHg7XFxuICBoZWlnaHQ6IDFweDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBjbGlwOiByZWN0KDAsIDAsIDAsIDApOyB9XFxuLm5neC1wYWdpbmF0aW9uIC5zbWFsbC1zY3JlZW4ge1xcbiAgZGlzcGxheTogbm9uZTsgfVxcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMXB4KSB7XFxuICAubmd4LXBhZ2luYXRpb24ucmVzcG9uc2l2ZSAuc21hbGwtc2NyZWVuIHtcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrOyB9IFxcbiAgLm5neC1wYWdpbmF0aW9uLnJlc3BvbnNpdmUgbGk6bm90KC5zbWFsbC1zY3JlZW4pOm5vdCgucGFnaW5hdGlvbi1wcmV2aW91cyk6bm90KC5wYWdpbmF0aW9uLW5leHQpIHtcXG4gICAgZGlzcGxheTogbm9uZTsgfVxcbn1cXG4gIFwiO1xuXG52YXIgX19kZWNvcmF0ZSQyID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG52YXIgX19tZXRhZGF0YSQxID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcclxufTtcclxuZnVuY3Rpb24gY29lcmNlVG9Cb29sZWFuKGlucHV0KSB7XHJcbiAgICByZXR1cm4gISFpbnB1dCAmJiBpbnB1dCAhPT0gJ2ZhbHNlJztcclxufVxyXG4vKipcclxuICogVGhlIGRlZmF1bHQgcGFnaW5hdGlvbiBjb250cm9scyBjb21wb25lbnQuIEFjdHVhbGx5IGp1c3QgYSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIGEgY3VzdG9tIHRlbXBsYXRlLlxyXG4gKi9cclxudmFyIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudCgpIHtcclxuICAgICAgICB0aGlzLm1heFNpemUgPSA3O1xyXG4gICAgICAgIHRoaXMucHJldmlvdXNMYWJlbCA9ICdQcmV2aW91cyc7XHJcbiAgICAgICAgdGhpcy5uZXh0TGFiZWwgPSAnTmV4dCc7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5SZWFkZXJQYWdpbmF0aW9uTGFiZWwgPSAnUGFnaW5hdGlvbic7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5SZWFkZXJQYWdlTGFiZWwgPSAncGFnZSc7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5SZWFkZXJDdXJyZW50TGFiZWwgPSBcIllvdSdyZSBvbiBwYWdlXCI7XHJcbiAgICAgICAgdGhpcy5wYWdlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgICAgIHRoaXMucGFnZUJvdW5kc0NvcnJlY3Rpb24gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uTGlua3MgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX2F1dG9IaWRlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fcmVzcG9uc2l2ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZGlyZWN0aW9uTGlua3NcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlyZWN0aW9uTGlua3M7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb25MaW5rcyA9IGNvZXJjZVRvQm9vbGVhbih2YWx1ZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFnaW5hdGlvbkNvbnRyb2xzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhdXRvSGlkZVwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdXRvSGlkZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2F1dG9IaWRlID0gY29lcmNlVG9Cb29sZWFuKHZhbHVlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQYWdpbmF0aW9uQ29udHJvbHNDb21wb25lbnQucHJvdG90eXBlLCBcInJlc3BvbnNpdmVcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzcG9uc2l2ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc3BvbnNpdmUgPSBjb2VyY2VUb0Jvb2xlYW4odmFsdWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgUGFnaW5hdGlvbkNvbnRyb2xzQ29tcG9uZW50LnByb3RvdHlwZS50cmFja0J5SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9O1xyXG4gICAgX19kZWNvcmF0ZSQyKFtcclxuICAgICAgICBJbnB1dCgpLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcclxuICAgIF0sIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiaWRcIiwgdm9pZCAwKTtcclxuICAgIF9fZGVjb3JhdGUkMihbXHJcbiAgICAgICAgSW5wdXQoKSxcclxuICAgICAgICBfX21ldGFkYXRhJDEoXCJkZXNpZ246dHlwZVwiLCBOdW1iZXIpXHJcbiAgICBdLCBQYWdpbmF0aW9uQ29udHJvbHNDb21wb25lbnQucHJvdG90eXBlLCBcIm1heFNpemVcIiwgdm9pZCAwKTtcclxuICAgIF9fZGVjb3JhdGUkMihbXHJcbiAgICAgICAgSW5wdXQoKSxcclxuICAgICAgICBfX21ldGFkYXRhJDEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKSxcclxuICAgICAgICBfX21ldGFkYXRhJDEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbQm9vbGVhbl0pXHJcbiAgICBdLCBQYWdpbmF0aW9uQ29udHJvbHNDb21wb25lbnQucHJvdG90eXBlLCBcImRpcmVjdGlvbkxpbmtzXCIsIG51bGwpO1xyXG4gICAgX19kZWNvcmF0ZSQyKFtcclxuICAgICAgICBJbnB1dCgpLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtCb29sZWFuXSlcclxuICAgIF0sIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudC5wcm90b3R5cGUsIFwiYXV0b0hpZGVcIiwgbnVsbCk7XHJcbiAgICBfX2RlY29yYXRlJDIoW1xyXG4gICAgICAgIElucHV0KCksXHJcbiAgICAgICAgX19tZXRhZGF0YSQxKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbiksXHJcbiAgICAgICAgX19tZXRhZGF0YSQxKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW0Jvb2xlYW5dKVxyXG4gICAgXSwgUGFnaW5hdGlvbkNvbnRyb2xzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJyZXNwb25zaXZlXCIsIG51bGwpO1xyXG4gICAgX19kZWNvcmF0ZSQyKFtcclxuICAgICAgICBJbnB1dCgpLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcclxuICAgIF0sIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudC5wcm90b3R5cGUsIFwicHJldmlvdXNMYWJlbFwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZSQyKFtcclxuICAgICAgICBJbnB1dCgpLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcclxuICAgIF0sIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudC5wcm90b3R5cGUsIFwibmV4dExhYmVsXCIsIHZvaWQgMCk7XHJcbiAgICBfX2RlY29yYXRlJDIoW1xyXG4gICAgICAgIElucHV0KCksXHJcbiAgICAgICAgX19tZXRhZGF0YSQxKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxyXG4gICAgXSwgUGFnaW5hdGlvbkNvbnRyb2xzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJzY3JlZW5SZWFkZXJQYWdpbmF0aW9uTGFiZWxcIiwgdm9pZCAwKTtcclxuICAgIF9fZGVjb3JhdGUkMihbXHJcbiAgICAgICAgSW5wdXQoKSxcclxuICAgICAgICBfX21ldGFkYXRhJDEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXHJcbiAgICBdLCBQYWdpbmF0aW9uQ29udHJvbHNDb21wb25lbnQucHJvdG90eXBlLCBcInNjcmVlblJlYWRlclBhZ2VMYWJlbFwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZSQyKFtcclxuICAgICAgICBJbnB1dCgpLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcclxuICAgIF0sIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudC5wcm90b3R5cGUsIFwic2NyZWVuUmVhZGVyQ3VycmVudExhYmVsXCIsIHZvaWQgMCk7XHJcbiAgICBfX2RlY29yYXRlJDIoW1xyXG4gICAgICAgIE91dHB1dCgpLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMShcImRlc2lnbjp0eXBlXCIsIEV2ZW50RW1pdHRlcilcclxuICAgIF0sIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudC5wcm90b3R5cGUsIFwicGFnZUNoYW5nZVwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZSQyKFtcclxuICAgICAgICBPdXRwdXQoKSxcclxuICAgICAgICBfX21ldGFkYXRhJDEoXCJkZXNpZ246dHlwZVwiLCBFdmVudEVtaXR0ZXIpXHJcbiAgICBdLCBQYWdpbmF0aW9uQ29udHJvbHNDb21wb25lbnQucHJvdG90eXBlLCBcInBhZ2VCb3VuZHNDb3JyZWN0aW9uXCIsIHZvaWQgMCk7XHJcbiAgICBQYWdpbmF0aW9uQ29udHJvbHNDb21wb25lbnQgPSBfX2RlY29yYXRlJDIoW1xyXG4gICAgICAgIENvbXBvbmVudCh7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yOiAncGFnaW5hdGlvbi1jb250cm9scycsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiBERUZBVUxUX1RFTVBMQVRFLFxyXG4gICAgICAgICAgICBzdHlsZXM6IFtERUZBVUxUX1NUWUxFU10sXHJcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxyXG4gICAgICAgICAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXHJcbiAgICAgICAgfSlcclxuICAgIF0sIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudCk7XHJcbiAgICByZXR1cm4gUGFnaW5hdGlvbkNvbnRyb2xzQ29tcG9uZW50O1xyXG59KCkpO1xuXG52YXIgX19kZWNvcmF0ZSQzID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG52YXIgX19tZXRhZGF0YSQyID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcclxufTtcclxuLyoqXHJcbiAqIFRoaXMgZGlyZWN0aXZlIGlzIHdoYXQgcG93ZXJzIGFsbCBwYWdpbmF0aW9uIGNvbnRyb2xzIGNvbXBvbmVudHMsIGluY2x1ZGluZyB0aGUgZGVmYXVsdCBvbmUuXHJcbiAqIEl0IGV4cG9zZXMgYW4gQVBJIHdoaWNoIGlzIGhvb2tlZCB1cCB0byB0aGUgUGFnaW5hdGlvblNlcnZpY2UgdG8ga2VlcCB0aGUgUGFnaW5hdGVQaXBlIGluIHN5bmNcclxuICogd2l0aCB0aGUgcGFnaW5hdGlvbiBjb250cm9scy5cclxuICovXHJcbnZhciBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUoc2VydmljZSwgY2hhbmdlRGV0ZWN0b3JSZWYpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuc2VydmljZSA9IHNlcnZpY2U7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZiA9IGNoYW5nZURldGVjdG9yUmVmO1xyXG4gICAgICAgIHRoaXMubWF4U2l6ZSA9IDc7XHJcbiAgICAgICAgdGhpcy5wYWdlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgICAgIHRoaXMucGFnZUJvdW5kc0NvcnJlY3Rpb24gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICAgICAgdGhpcy5wYWdlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlU3ViID0gdGhpcy5zZXJ2aWNlLmNoYW5nZVxyXG4gICAgICAgICAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuaWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVQYWdlTGlua3MoKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmNoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUucHJvdG90eXBlLm5nT25Jbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMuc2VydmljZS5kZWZhdWx0SWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51cGRhdGVQYWdlTGlua3MoKTtcclxuICAgIH07XHJcbiAgICBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUucHJvdG90eXBlLm5nT25DaGFuZ2VzID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVBhZ2VMaW5rcygpO1xyXG4gICAgfTtcclxuICAgIFBhZ2luYXRpb25Db250cm9sc0RpcmVjdGl2ZS5wcm90b3R5cGUubmdPbkRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VTdWIudW5zdWJzY3JpYmUoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdvIHRvIHRoZSBwcmV2aW91cyBwYWdlXHJcbiAgICAgKi9cclxuICAgIFBhZ2luYXRpb25Db250cm9sc0RpcmVjdGl2ZS5wcm90b3R5cGUucHJldmlvdXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jaGVja1ZhbGlkSWQoKTtcclxuICAgICAgICB0aGlzLnNldEN1cnJlbnQodGhpcy5nZXRDdXJyZW50KCkgLSAxKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdvIHRvIHRoZSBuZXh0IHBhZ2VcclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY2hlY2tWYWxpZElkKCk7XHJcbiAgICAgICAgdGhpcy5zZXRDdXJyZW50KHRoaXMuZ2V0Q3VycmVudCgpICsgMSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgY3VycmVudCBwYWdlIGlzIGZpcnN0IHBhZ2VcclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlLnByb3RvdHlwZS5pc0ZpcnN0UGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50KCkgPT09IDE7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgY3VycmVudCBwYWdlIGlzIGxhc3QgcGFnZVxyXG4gICAgICovXHJcbiAgICBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUucHJvdG90eXBlLmlzTGFzdFBhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGFzdFBhZ2UoKSA9PT0gdGhpcy5nZXRDdXJyZW50KCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIGN1cnJlbnQgcGFnZSBudW1iZXIuXHJcbiAgICAgKi9cclxuICAgIFBhZ2luYXRpb25Db250cm9sc0RpcmVjdGl2ZS5wcm90b3R5cGUuc2V0Q3VycmVudCA9IGZ1bmN0aW9uIChwYWdlKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlQ2hhbmdlLmVtaXQocGFnZSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgcGFnZSBudW1iZXIuXHJcbiAgICAgKi9cclxuICAgIFBhZ2luYXRpb25Db250cm9sc0RpcmVjdGl2ZS5wcm90b3R5cGUuZ2V0Q3VycmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlLmdldEN1cnJlbnRQYWdlKHRoaXMuaWQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbGFzdCBwYWdlIG51bWJlclxyXG4gICAgICovXHJcbiAgICBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUucHJvdG90eXBlLmdldExhc3RQYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpbnN0ID0gdGhpcy5zZXJ2aWNlLmdldEluc3RhbmNlKHRoaXMuaWQpO1xyXG4gICAgICAgIGlmIChpbnN0LnRvdGFsSXRlbXMgPCAxKSB7XHJcbiAgICAgICAgICAgIC8vIHdoZW4gdGhlcmUgYXJlIDAgb3IgZmV3ZXIgKGFuIGVycm9yIGNhc2UpIGl0ZW1zLCB0aGVyZSBhcmUgbm8gXCJwYWdlc1wiIGFzIHN1Y2gsXHJcbiAgICAgICAgICAgIC8vIGJ1dCBpdCBtYWtlcyBzZW5zZSB0byBjb25zaWRlciBhIHNpbmdsZSwgZW1wdHkgcGFnZSBhcyB0aGUgbGFzdCBwYWdlLlxyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChpbnN0LnRvdGFsSXRlbXMgLyBpbnN0Lml0ZW1zUGVyUGFnZSk7XHJcbiAgICB9O1xyXG4gICAgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlLnByb3RvdHlwZS5nZXRUb3RhbEl0ZW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2UuZ2V0SW5zdGFuY2UodGhpcy5pZCkudG90YWxJdGVtcztcclxuICAgIH07XHJcbiAgICBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUucHJvdG90eXBlLmNoZWNrVmFsaWRJZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5zZXJ2aWNlLmdldEluc3RhbmNlKHRoaXMuaWQpLmlkID09IG51bGwpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlOiB0aGUgc3BlY2lmaWVkIGlkIFxcXCJcIiArIHRoaXMuaWQgKyBcIlxcXCIgZG9lcyBub3QgbWF0Y2ggYW55IHJlZ2lzdGVyZWQgUGFnaW5hdGlvbkluc3RhbmNlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgdGhlIHBhZ2UgbGlua3MgYW5kIGNoZWNrcyB0aGF0IHRoZSBjdXJyZW50IHBhZ2UgaXMgdmFsaWQuIFNob3VsZCBydW4gd2hlbmV2ZXIgdGhlXHJcbiAgICAgKiBQYWdpbmF0aW9uU2VydmljZS5jaGFuZ2Ugc3RyZWFtIGVtaXRzIGEgdmFsdWUgbWF0Y2hpbmcgdGhlIGN1cnJlbnQgSUQsIG9yIHdoZW4gYW55IG9mIHRoZVxyXG4gICAgICogaW5wdXQgdmFsdWVzIGNoYW5nZXMuXHJcbiAgICAgKi9cclxuICAgIFBhZ2luYXRpb25Db250cm9sc0RpcmVjdGl2ZS5wcm90b3R5cGUudXBkYXRlUGFnZUxpbmtzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGluc3QgPSB0aGlzLnNlcnZpY2UuZ2V0SW5zdGFuY2UodGhpcy5pZCk7XHJcbiAgICAgICAgdmFyIGNvcnJlY3RlZEN1cnJlbnRQYWdlID0gdGhpcy5vdXRPZkJvdW5kQ29ycmVjdGlvbihpbnN0KTtcclxuICAgICAgICBpZiAoY29ycmVjdGVkQ3VycmVudFBhZ2UgIT09IGluc3QuY3VycmVudFBhZ2UpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wYWdlQm91bmRzQ29ycmVjdGlvbi5lbWl0KGNvcnJlY3RlZEN1cnJlbnRQYWdlKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnBhZ2VzID0gX3RoaXMuY3JlYXRlUGFnZUFycmF5KGluc3QuY3VycmVudFBhZ2UsIGluc3QuaXRlbXNQZXJQYWdlLCBpbnN0LnRvdGFsSXRlbXMsIF90aGlzLm1heFNpemUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZXMgPSB0aGlzLmNyZWF0ZVBhZ2VBcnJheShpbnN0LmN1cnJlbnRQYWdlLCBpbnN0Lml0ZW1zUGVyUGFnZSwgaW5zdC50b3RhbEl0ZW1zLCB0aGlzLm1heFNpemUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyB0aGF0IHRoZSBpbnN0YW5jZS5jdXJyZW50UGFnZSBwcm9wZXJ0eSBpcyB3aXRoaW4gYm91bmRzIGZvciB0aGUgY3VycmVudCBwYWdlIHJhbmdlLlxyXG4gICAgICogSWYgbm90LCByZXR1cm4gYSBjb3JyZWN0IHZhbHVlIGZvciBjdXJyZW50UGFnZSwgb3IgdGhlIGN1cnJlbnQgdmFsdWUgaWYgT0suXHJcbiAgICAgKi9cclxuICAgIFBhZ2luYXRpb25Db250cm9sc0RpcmVjdGl2ZS5wcm90b3R5cGUub3V0T2ZCb3VuZENvcnJlY3Rpb24gPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcclxuICAgICAgICB2YXIgdG90YWxQYWdlcyA9IE1hdGguY2VpbChpbnN0YW5jZS50b3RhbEl0ZW1zIC8gaW5zdGFuY2UuaXRlbXNQZXJQYWdlKTtcclxuICAgICAgICBpZiAodG90YWxQYWdlcyA8IGluc3RhbmNlLmN1cnJlbnRQYWdlICYmIDAgPCB0b3RhbFBhZ2VzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0b3RhbFBhZ2VzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbnN0YW5jZS5jdXJyZW50UGFnZSA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5jdXJyZW50UGFnZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgUGFnZSBvYmplY3RzIHRvIHVzZSBpbiB0aGUgcGFnaW5hdGlvbiBjb250cm9scy5cclxuICAgICAqL1xyXG4gICAgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlLnByb3RvdHlwZS5jcmVhdGVQYWdlQXJyYXkgPSBmdW5jdGlvbiAoY3VycmVudFBhZ2UsIGl0ZW1zUGVyUGFnZSwgdG90YWxJdGVtcywgcGFnaW5hdGlvblJhbmdlKSB7XHJcbiAgICAgICAgLy8gcGFnaW5hdGlvblJhbmdlIGNvdWxkIGJlIGEgc3RyaW5nIGlmIHBhc3NlZCBmcm9tIGF0dHJpYnV0ZSwgc28gY2FzdCB0byBudW1iZXIuXHJcbiAgICAgICAgcGFnaW5hdGlvblJhbmdlID0gK3BhZ2luYXRpb25SYW5nZTtcclxuICAgICAgICB2YXIgcGFnZXMgPSBbXTtcclxuICAgICAgICAvLyBSZXR1cm4gMSBhcyBkZWZhdWx0IHBhZ2UgbnVtYmVyXHJcbiAgICAgICAgLy8gTWFrZSBzZW5zZSB0byBzaG93IDEgaW5zdGVhZCBvZiBlbXB0eSB3aGVuIHRoZXJlIGFyZSBubyBpdGVtc1xyXG4gICAgICAgIHZhciB0b3RhbFBhZ2VzID0gTWF0aC5tYXgoTWF0aC5jZWlsKHRvdGFsSXRlbXMgLyBpdGVtc1BlclBhZ2UpLCAxKTtcclxuICAgICAgICB2YXIgaGFsZldheSA9IE1hdGguY2VpbChwYWdpbmF0aW9uUmFuZ2UgLyAyKTtcclxuICAgICAgICB2YXIgaXNTdGFydCA9IGN1cnJlbnRQYWdlIDw9IGhhbGZXYXk7XHJcbiAgICAgICAgdmFyIGlzRW5kID0gdG90YWxQYWdlcyAtIGhhbGZXYXkgPCBjdXJyZW50UGFnZTtcclxuICAgICAgICB2YXIgaXNNaWRkbGUgPSAhaXNTdGFydCAmJiAhaXNFbmQ7XHJcbiAgICAgICAgdmFyIGVsbGlwc2VzTmVlZGVkID0gcGFnaW5hdGlvblJhbmdlIDwgdG90YWxQYWdlcztcclxuICAgICAgICB2YXIgaSA9IDE7XHJcbiAgICAgICAgd2hpbGUgKGkgPD0gdG90YWxQYWdlcyAmJiBpIDw9IHBhZ2luYXRpb25SYW5nZSkge1xyXG4gICAgICAgICAgICB2YXIgbGFiZWwgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHZhciBwYWdlTnVtYmVyID0gdGhpcy5jYWxjdWxhdGVQYWdlTnVtYmVyKGksIGN1cnJlbnRQYWdlLCBwYWdpbmF0aW9uUmFuZ2UsIHRvdGFsUGFnZXMpO1xyXG4gICAgICAgICAgICB2YXIgb3BlbmluZ0VsbGlwc2VzTmVlZGVkID0gKGkgPT09IDIgJiYgKGlzTWlkZGxlIHx8IGlzRW5kKSk7XHJcbiAgICAgICAgICAgIHZhciBjbG9zaW5nRWxsaXBzZXNOZWVkZWQgPSAoaSA9PT0gcGFnaW5hdGlvblJhbmdlIC0gMSAmJiAoaXNNaWRkbGUgfHwgaXNTdGFydCkpO1xyXG4gICAgICAgICAgICBpZiAoZWxsaXBzZXNOZWVkZWQgJiYgKG9wZW5pbmdFbGxpcHNlc05lZWRlZCB8fCBjbG9zaW5nRWxsaXBzZXNOZWVkZWQpKSB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbCA9ICcuLi4nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGFiZWwgPSBwYWdlTnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHBhZ2VOdW1iZXJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhZ2VzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2l2ZW4gdGhlIHBvc2l0aW9uIGluIHRoZSBzZXF1ZW5jZSBvZiBwYWdpbmF0aW9uIGxpbmtzIFtpXSxcclxuICAgICAqIGZpZ3VyZSBvdXQgd2hhdCBwYWdlIG51bWJlciBjb3JyZXNwb25kcyB0byB0aGF0IHBvc2l0aW9uLlxyXG4gICAgICovXHJcbiAgICBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUucHJvdG90eXBlLmNhbGN1bGF0ZVBhZ2VOdW1iZXIgPSBmdW5jdGlvbiAoaSwgY3VycmVudFBhZ2UsIHBhZ2luYXRpb25SYW5nZSwgdG90YWxQYWdlcykge1xyXG4gICAgICAgIHZhciBoYWxmV2F5ID0gTWF0aC5jZWlsKHBhZ2luYXRpb25SYW5nZSAvIDIpO1xyXG4gICAgICAgIGlmIChpID09PSBwYWdpbmF0aW9uUmFuZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRvdGFsUGFnZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGkgPT09IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHBhZ2luYXRpb25SYW5nZSA8IHRvdGFsUGFnZXMpIHtcclxuICAgICAgICAgICAgaWYgKHRvdGFsUGFnZXMgLSBoYWxmV2F5IDwgY3VycmVudFBhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbFBhZ2VzIC0gcGFnaW5hdGlvblJhbmdlICsgaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChoYWxmV2F5IDwgY3VycmVudFBhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50UGFnZSAtIGhhbGZXYXkgKyBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBfX2RlY29yYXRlJDMoW1xyXG4gICAgICAgIElucHV0KCksXHJcbiAgICAgICAgX19tZXRhZGF0YSQyKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxyXG4gICAgXSwgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlLnByb3RvdHlwZSwgXCJpZFwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZSQzKFtcclxuICAgICAgICBJbnB1dCgpLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMihcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcclxuICAgIF0sIFBhZ2luYXRpb25Db250cm9sc0RpcmVjdGl2ZS5wcm90b3R5cGUsIFwibWF4U2l6ZVwiLCB2b2lkIDApO1xyXG4gICAgX19kZWNvcmF0ZSQzKFtcclxuICAgICAgICBPdXRwdXQoKSxcclxuICAgICAgICBfX21ldGFkYXRhJDIoXCJkZXNpZ246dHlwZVwiLCBFdmVudEVtaXR0ZXIpXHJcbiAgICBdLCBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmUucHJvdG90eXBlLCBcInBhZ2VDaGFuZ2VcIiwgdm9pZCAwKTtcclxuICAgIF9fZGVjb3JhdGUkMyhbXHJcbiAgICAgICAgT3V0cHV0KCksXHJcbiAgICAgICAgX19tZXRhZGF0YSQyKFwiZGVzaWduOnR5cGVcIiwgRXZlbnRFbWl0dGVyKVxyXG4gICAgXSwgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlLnByb3RvdHlwZSwgXCJwYWdlQm91bmRzQ29ycmVjdGlvblwiLCB2b2lkIDApO1xyXG4gICAgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlID0gX19kZWNvcmF0ZSQzKFtcclxuICAgICAgICBEaXJlY3RpdmUoe1xyXG4gICAgICAgICAgICBzZWxlY3RvcjogJ3BhZ2luYXRpb24tdGVtcGxhdGUsW3BhZ2luYXRpb24tdGVtcGxhdGVdJyxcclxuICAgICAgICAgICAgZXhwb3J0QXM6ICdwYWdpbmF0aW9uQXBpJ1xyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIF9fbWV0YWRhdGEkMihcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtQYWdpbmF0aW9uU2VydmljZSxcclxuICAgICAgICAgICAgQ2hhbmdlRGV0ZWN0b3JSZWZdKVxyXG4gICAgXSwgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlKTtcclxuICAgIHJldHVybiBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmU7XHJcbn0oKSk7XG5cbnZhciBfX2RlY29yYXRlID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG52YXIgTmd4UGFnaW5hdGlvbk1vZHVsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE5neFBhZ2luYXRpb25Nb2R1bGUoKSB7XHJcbiAgICB9XHJcbiAgICBOZ3hQYWdpbmF0aW9uTW9kdWxlID0gX19kZWNvcmF0ZShbXHJcbiAgICAgICAgTmdNb2R1bGUoe1xyXG4gICAgICAgICAgICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlXSxcclxuICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICBQYWdpbmF0ZVBpcGUsXHJcbiAgICAgICAgICAgICAgICBQYWdpbmF0aW9uQ29udHJvbHNDb21wb25lbnQsXHJcbiAgICAgICAgICAgICAgICBQYWdpbmF0aW9uQ29udHJvbHNEaXJlY3RpdmVcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgcHJvdmlkZXJzOiBbUGFnaW5hdGlvblNlcnZpY2VdLFxyXG4gICAgICAgICAgICBleHBvcnRzOiBbUGFnaW5hdGVQaXBlLCBQYWdpbmF0aW9uQ29udHJvbHNDb21wb25lbnQsIFBhZ2luYXRpb25Db250cm9sc0RpcmVjdGl2ZV1cclxuICAgICAgICB9KVxyXG4gICAgXSwgTmd4UGFnaW5hdGlvbk1vZHVsZSk7XHJcbiAgICByZXR1cm4gTmd4UGFnaW5hdGlvbk1vZHVsZTtcclxufSgpKTtcblxuLyoqXHJcbiAqIEdlbmVyYXRlZCBidW5kbGUgaW5kZXguIERvIG5vdCBlZGl0LlxyXG4gKi9cblxuZXhwb3J0IHsgREVGQVVMVF9TVFlMRVMgYXMgybViLCBERUZBVUxUX1RFTVBMQVRFIGFzIMm1YSwgTmd4UGFnaW5hdGlvbk1vZHVsZSwgUGFnaW5hdGlvblNlcnZpY2UsIFBhZ2luYXRpb25Db250cm9sc0NvbXBvbmVudCwgUGFnaW5hdGlvbkNvbnRyb2xzRGlyZWN0aXZlLCBQYWdpbmF0ZVBpcGUgfTtcbiJdfQ==","import { Component,SimpleChange, OnInit, ViewChild, Input, Output, EventEmitter } from '@angular/core';\r\nimport { NotifierService } from 'angular-notifier';\r\nimport { BlogService } from 'src/app/services/blog/blog.service';\r\nimport { CommonService } from 'src/app/services/common-service/common.service';\r\nimport { LoaderService } from 'src/app/services/loader-service/loader.service';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { AngularEditorConfig } from './../../../lib/config';\r\nimport { AngularEditorComponent } from './../../../lib/angular-editor.component';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-add-blogs',\r\n  templateUrl: './add-blogs.component.html',\r\n  styleUrls: ['./add-blogs.component.scss']\r\n})\r\n\r\nexport class AddBlogsComponent implements OnInit {\r\n  @ViewChild(AngularEditorComponent) editor: AngularEditorComponent; // ViewChild reference to the AngularEditorComponent\r\n\r\n  config1: AngularEditorConfig = {\r\n    editable: true,\r\n    spellcheck: true,\r\n    minHeight: '15rem',\r\n    maxHeight: 'auto',\r\n    placeholder: 'Enter here...',\r\n    translate: 'no',\r\n    sanitize: false,\r\n    // toolbarPosition: 'top',\r\n    outline: true,\r\n    // defaultFontName: 'Comic Sans MS',\r\n    // defaultFontSize: '5',\r\n    // showToolbar: false,\r\n    defaultParagraphSeparator: 'p',\r\n    customClasses: [\r\n      {\r\n        name: 'quote',\r\n        class: 'quote',\r\n      },\r\n      {\r\n        name: 'redText',\r\n        class: 'redText'\r\n      },\r\n      {\r\n        name: 'text-center',\r\n        class: 'text-center',\r\n      },\r\n      {\r\n        name: 'text-right',\r\n        class: 'text-right',\r\n      },\r\n      {\r\n        name: 'img-center',\r\n        class: 'img-center',\r\n      },\r\n      {\r\n        name: 'img-right',\r\n        class: 'img-right',\r\n      },\r\n      {\r\n        name: 'titleText',\r\n        class: 'titleText',\r\n        tag: 'h1',\r\n      },\r\n    ],\r\n    toolbarHiddenButtons: [\r\n      // ['bold', 'italic'],\r\n      // ['fontSize']\r\n    ],\r\n      editHistoryLimit: 3,\r\n    imageResizeSensitivity: 2,\r\n  };\r\n\r\n  blogForm: FormGroup;\r\n  blogId: string;\r\n  editMode: boolean  = false;\r\n\r\n  constructor(\r\n    private loaderService: LoaderService,\r\n    private notifierService: NotifierService,\r\n    private commonService: CommonService,\r\n    private blogService: BlogService,\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) {\r\n  }\r\n\r\n  urls = [];\r\n  ngOnInit(): void {\r\n\r\n    this.createForm();\r\n\r\n    this.route.paramMap.subscribe((params) => {\r\n      this.blogId = params.get('blogId')!;\r\n      if (this.blogId) {\r\n        this.editMode = true;\r\n        this.getBlogDetail(this.blogId);\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n\r\n  getBlogDetail(blogId: string): void {\r\n    this.blogService.getBlogDetail(blogId).subscribe((blog) => {\r\n      this.setValuesToBeEdited(blog);\r\n    })\r\n  }\r\n\r\n  createForm(): void{\r\n    this.blogForm = new FormGroup({\r\n      title: new FormControl('', Validators.required) , \r\n      content: new FormControl('', Validators.required) ,      \r\n      category: new FormControl('', Validators.required),\r\n      aboutAuthor: new FormControl('', Validators.required),\r\n      author: new FormControl('', Validators.required),\r\n    })\r\n  }\r\n\r\n  setValuesToBeEdited(editedItem) {\r\n    this.blogId = editedItem._id;\r\n    this.blogForm.setValue({\r\n      title: editedItem.title,\r\n      content: editedItem.content,\r\n      category: editedItem.category,\r\n      author: editedItem.author,\r\n      aboutAuthor: editedItem.aboutAuthor || '',\r\n    });\r\n  \r\n  }\r\n  \r\n  submit(): void {\r\n    this.loaderService.display(true);\r\n    if (!this.blogForm.valid) {\r\n      return;\r\n    }\r\n\r\n    if (this.editMode) {\r\n      this.update(this.blogForm.value); // Update existing blog\r\n    } else {\r\n      this.add(this.blogForm.value); // Add new blog\r\n    }\r\n  }\r\n  \r\n  update(data): void {\r\n    this.loaderService.display(true);\r\n    this.blogService.updateBlogs(this.blogId, data).subscribe(updatedData => {\r\n\r\n      this.loaderService.display(false);\r\n      this.notifierService.notify('success', 'Blog updated successfully!');\r\n      this.handleCategoryChangeEvent(updatedData);\r\n    }, (error) => {\r\n    \r\n    });\r\n  }\r\n  \r\n  add(data): void {\r\n    this.blogService.addBlogs(data).subscribe(newData => {\r\n      this.loaderService.display(false);\r\n      this.notifierService.notify('success', 'Blog added successfully!');\r\n      this.handleCategoryChangeEvent(newData);\r\n    });\r\n  }\r\n  \r\n  handleCategoryChangeEvent(data) {\r\n    // this.modalRef?.hide();\r\n    this.router.navigate(['/blogs']);\r\n    // this.blogId = '';\r\n    // this.commonService.refreshCategoryEvent(data);\r\n  }\r\n  \r\n  onChange(event) {}\r\n  onBlur(event) {}\r\n\r\n\r\n}\r\n","<div class=\"container confirm-order-modal\">\r\n    <div class=\"row justify-content-center mt-3\">\r\n        <h2 class=\"text-center gallery-heading mt-3\">Add Blog</h2>\r\n    </div>\r\n\r\n    <div class=\"modal-body\">\r\n       <form [formGroup]=\"blogForm\">\r\n\r\n            <div class=\"form-group\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12 col-12\">\r\n\r\n                        <p class=\"form-label\">Title</p>\r\n                        <div class=\"col-md-12 col-12\">\r\n                            <input type=\"text\" formControlName=\"title\" class=\"form-control\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6 col-12\">\r\n                        <p class=\"form-label\">Category</p>\r\n                        <div class=\"col-md-12 col-12\">\r\n                            <input type=\"text\" formControlName=\"category\" class=\"form-control form-input\">\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-md-6 col-12\">\r\n                        <p class=\"form-label\">Author</p>\r\n                        <div class=\"col-md-12 col-12\">\r\n                            <input type=\"text\" formControlName=\"author\" class=\"form-control\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-12 col-12\">\r\n                        <p class=\"form-label\">About Author</p>\r\n                        <div class=\"col-md-12 col-12\">\r\n                            <textarea rows=\"3\" formControlName=\"aboutAuthor\" class=\"form-control\">\r\n                            </textarea>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <div class=\"row\">\r\n                    <p class=\"form-label\">Content</p>\r\n                    <div class=\"col-md-12 col-12 form-label\">\r\n                        <angular-editor\r\n                            #editor\r\n                            id=\"editor1\"\r\n                            class=\"content-editor\"\r\n                            formControlName=\"content\"\r\n                            [config]=\"config1\"\r\n                            >\r\n                            <!-- (ngModelChange)=\"onChange($event)\" -->\r\n                            <!-- (blur)=\"onBlur($event)\" -->\r\n                        </angular-editor>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"form-group \">\r\n                <div class=\"offset-md-2 col-md-8 col-12\">\r\n                    <div class=\"row choose-btn\">\r\n                        <button type=\"button\" class=\"btn btn-light btn-add photo-btn\" (click) = \"submit()\" [disabled]=\"!blogForm.valid\">Save</button>\r\n                        <button type=\"button\" class=\"btn btn-light btn-cancel photo-btn\"\r\n                        routerLink=\"/blogs\">cancel</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { BlogService } from 'src/app/services/blog/blog.service';\r\n\r\n@Component({\r\n  selector: 'app-blog-details',\r\n  templateUrl: './blog-details.component.html',\r\n  styleUrls: ['./blog-details.component.scss']\r\n})\r\nexport class BlogDetailsComponent implements OnInit {\r\n\r\n  blogId: string = '';\r\n  blogSlug: string = '';\r\n  blog: any = {}\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private blogService: BlogService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.subscribe((params) => {\r\n      this.blogId = params.get('blogId')!;\r\n      this.blogSlug = params.get('blogSlug')!;\r\n      if (this.blogId) {\r\n        this.getBlogDetail(this.blogId);\r\n      }\r\n    });\r\n  }\r\n\r\n  getBlogDetail(blogId: string): void {\r\n    this.blogService.getBlogDetail(blogId).subscribe((blog) => {\r\n      \r\n      this.blog = blog;\r\n    })\r\n  }\r\n}\r\n","<div class=\"container\">\r\n    <div class=\"row justify-content-center\">\r\n        <h2 class=\"text-center gallery-heading\">{{blog?.title}}</h2>\r\n    </div>\r\n    <br>\r\n    <div class=\"col-md-12 card-main-container\">\r\n        <div class=\"row\">\r\n            <p class=\"card-cat-author\">\r\n                <span>\r\n                    <span class=\"highlight\">Category:</span> {{blog?.category}}\r\n                </span>\r\n                <span>\r\n                    <span class=\"highlight\">Author:</span> {{blog?.author}}\r\n                </span>\r\n            </p>\r\n            <!-- <div class=\"container\">\r\n                <img [src]=\"blog?.image\" class=\"blog-banner-img\"/>\r\n            </div> -->\r\n            <div class=\"col-md-12 col-sm-12 justify-content blog-content\" [innerHtml]=\"blog?.content\"></div>\r\n            <div *ngIf=\"blog?.aboutAuthor\" class=\"col-md-12 col-sm-12 justify-content blog-content\">\r\n                <h4 class=\"highlight\">About Author</h4>\r\n                {{blog?.aboutAuthor}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { SafeResourceUrlPipe } from 'src/app/pipes/safe-resource-url.pipe';\r\nimport { AngularEditorConfig } from '@kolkov/angular-editor';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { FormControl } from '@angular/forms';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-blogs-by-category',\r\n  templateUrl: './blogs-by-category.component.html',\r\n  styleUrls: ['./blogs-by-category.component.scss'],\r\n  providers: [SafeResourceUrlPipe]\r\n})\r\nexport class BlogsByCategoryComponent implements OnInit {\r\n  productImages = [];\r\n  currentlyUploadedImageSrc = [];\r\n\r\n  constructor(\r\n    private safeResourceUrl: SafeResourceUrlPipe,\r\n    private formBuilder: FormBuilder\r\n  ) { }\r\n\r\n  urls = [];\r\n\r\n  allowDrop(event: Event) {\r\n    event.preventDefault();\r\n  }\r\n\r\n  drag(event: DragEvent) {\r\n    event.dataTransfer!.setData('text', (event.currentTarget['parentElement'] as HTMLElement).id);\r\n  }\r\n\r\n  drop(event: DragEvent) {\r\n    event.preventDefault();\r\n    const data = event.dataTransfer!.getData('text');\r\n    const dropzone = event.target as HTMLElement;\r\n    dropzone.appendChild(document.getElementById(data)!);\r\n  }\r\n\r\n  // choose photos\r\n  onselectFile(e: any) {\r\n    if (e.target.files) {\r\n      for (let i = 0; i < e.target.files.length; i++) {\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(e.target.files[i]);\r\n        reader.onload = (events: any) => {\r\n          this.urls.push(events.target.result);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  setCurrentlyUploadedImgArr(file) {\r\n    let imgSrc = URL.createObjectURL(file)\r\n    this.currentlyUploadedImageSrc.push(imgSrc);\r\n  }\r\n\r\n  getFiles(event) {\r\n    this.productImages = [];\r\n    for (var i = 0; i < event.target.files.length; i++) {\r\n      this.productImages.push(event.target.files[i]);\r\n      this.setCurrentlyUploadedImgArr(event.target.files[i]);\r\n      // this.setCurrentlyUploadedImgArr(event.target.files[i])\r\n    }\r\n  }\r\n\r\n  // angular editor\r\n\r\n\r\n  form: FormGroup;\r\n\r\n  htmlContent1 = '';\r\n\r\n  config1: AngularEditorConfig = {\r\n    editable: true,\r\n    spellcheck: true,\r\n    minHeight: '5rem',\r\n    maxHeight: 'auto',\r\n    placeholder: 'Enter text here...',\r\n    translate: 'no',\r\n    sanitize: false,\r\n    // toolbarPosition: 'top',\r\n    outline: true,\r\n    defaultFontName: 'Comic Sans MS',\r\n    defaultFontSize: '5',\r\n    // showToolbar: false,\r\n    defaultParagraphSeparator: 'p',\r\n    customClasses: [\r\n      {\r\n        name: 'quote',\r\n        class: 'quote',\r\n      },\r\n      {\r\n        name: 'redText',\r\n        class: 'redText'\r\n      },\r\n      {\r\n        name: 'titleText',\r\n        class: 'titleText',\r\n        tag: 'h1',\r\n      },\r\n    ],\r\n    toolbarHiddenButtons: [\r\n      ['bold', 'italic'],\r\n      ['fontSize']\r\n    ]\r\n  };\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  onChange(event) {\r\n    \r\n    this.checkForImage(); // Call the method to check for images and add the class\r\n  }\r\n\r\n  onBlur(event) {\r\n    \r\n  }\r\n\r\n  checkForImage() {\r\n    \r\n\r\n    const editor = document.getElementById('editor1');\r\n   \r\n\r\n    const images = editor.getElementsByTagName('img');\r\n    \r\n\r\n    const imageArray = Array.from(images) as HTMLImageElement[];\r\n\r\n    for (const image of imageArray) {\r\n      image.classList.add('your-dynamic-class1');\r\n      this.makeResizable(image); // Call the method to make images resizable\r\n    }\r\n  }\r\n\r\n  makeResizable(image: HTMLImageElement) {\r\n    // Add resize functionality to the image\r\n    image.addEventListener('mousedown', (e) => {\r\n      e.preventDefault();\r\n      const initialWidth = image.clientWidth;\r\n      const initialHeight = image.clientHeight;\r\n      const startX = e.clientX;\r\n      const startY = e.clientY;\r\n\r\n      const resize = (e) => {\r\n        const width = initialWidth + e.clientX - startX;\r\n        const height = initialHeight + e.clientY - startY;\r\n        image.style.width = `${width}px`;\r\n        image.style.height = `${height}px`;\r\n      };\r\n\r\n      const stopResize = () => {\r\n        window.removeEventListener('mousemove', resize);\r\n        window.removeEventListener('mouseup', stopResize);\r\n      };\r\n\r\n      window.addEventListener('mousemove', resize);\r\n      window.addEventListener('mouseup', stopResize);\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid\">\r\n    <div class=\"row blog-row \">\r\n        <div class=\"blog-container\">\r\n            <div>\r\n                <h2 class=\"blog-heading\">Blogs</h2>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-md-9 col-12 main-blog-container\">\r\n                    <!-- angular editor -->\r\n                    <div>\r\n                        <angular-editor id=\"editor1\" [(ngModel)]=\"htmlContent1\" [config]=\"config1\"\r\n                            (ngModelChange)=\"onChange($event)\" (blur)=\"onBlur($event)\">\r\n                        </angular-editor>\r\n                        <p class=\"html\">\r\n                            HTML Output: {{ htmlContent1 }}\r\n                        </p>\r\n                    </div>\r\n                    <!-- angular editor -->\r\n\r\n\r\n                    <div class=\"dropzone \" id=\"dropzone2\" (dragover)=\"allowDrop($event)\" (drop)=\"drop($event)\">\r\n                        <div class=\"image-container resizable-image-container\" mwlResizable id=\"dragitem1\"\r\n                            draggable=\"true\" (dragstart)=\"drag($event)\">\r\n                            <img src=\"./../../../assets/images/images/Boswellia-serrata.jpg\" alt=\"\" id=\"dragitem1\">\r\n                        </div>\r\n\r\n                        <div class=\"blog-main-cc\">\r\n                            <div class=\"blog-sub-cc\">\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div class=\"blog_CC\">\r\n                            <p class=\"blog-title-name\">Guide to Bael Fruit: Benefits, Side Effects, Uses & More!\r\n                            <p>\r\n                                <span class=\"blog_update_date\">JUN 14, 2023</span>\r\n\r\n                            <div class=\"blog-content\">\r\n                                <p class=\"Comprehensive-Guide\">A Comprehensive Guide on Bael Fruit</p>\r\n\r\n                                <p class=\"Comprehensive-Guide-cc\">According to animal studies, oral intake or injection\r\n                                    of Bael\r\n                                    fruit extract might help to lower blood glucose and haemoglobin-bound glucose\r\n                                    levels. It\r\n                                    might also help increase the level of insulin in the blood and might help the\r\n                                    conversion of\r\n                                    glucose in the liver.2 Certain compounds (coumarins) present in the bael fruit\r\n                                    extract might\r\n                                    help in the secretion of insulin from the liver, thus might be helpful in lowering\r\n                                    blood\r\n                                    sugar levels.2 Furthermore, as per a clinical trial, lowering of blood cholesterol\r\n                                    and\r\n                                    slight lowering of blood glucose might be possible in some patients with diabetes to\r\n                                    whom\r\n                                    Bael leaf extract was administered.2 However, more research is required. Kindly\r\n                                    consult a\r\n                                    doctor for seriosu conditions such as diabetes which must be diagnosed and treated\r\n                                    by a\r\n                                    doctor.</p>\r\n\r\n                                <p class=\"Significance\">Significance of Bael Fruit</p>\r\n                                <div>\r\n                                    <div class=\"image-container resizable-image-container\" mwlResizable id=\"dragitem2\"\r\n                                        draggable=\"true\" (dragstart)=\"drag($event)\">\r\n                                        <img src=\"./../../../assets/images/images/medicine4.jpg\"\r\n                                            alt=\"Significance_image\">\r\n                                    </div>\r\n\r\n                                    <p class=\"Significance-cc\">The Indian summers are usually a medley of memories - the\r\n                                        summer\r\n                                        vacations, the long-awaited visit to grandparents, and the soothing afternoon\r\n                                        naps under\r\n                                        the water cooler. These memories are filled with the aroma of unique summer\r\n                                        fruits that\r\n                                        made a cameo appearance. We agree that mango is the first thing that comes to\r\n                                        mind when\r\n                                        we think of summer fruits, but how can we forget the humble Bael or Bel fruit?\r\n                                        Most of\r\n                                        us found it repulsive because of the strong, pungent smell, but our mothers\r\n                                        ensured we\r\n                                        had our seasonal regulated share of this summer coolant by mixing it with milk,\r\n                                        sugar,\r\n                                        and whatnot! But as we learn more about the health benefits of this wonderful\r\n                                        fruit, it\r\n                                        is no surprise that it is gaining much-deserved popularity.</p>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <p class=\"Significance\">Benefits of Bael Fruit</p>\r\n                                    <p class=\"Significance-cc\">The Indian summers are usually a medley of memories - the\r\n                                        summer\r\n                                        vacations, the long-awaited visit to grandparents, and the soothing afternoon\r\n                                        naps under\r\n                                        the water cooler. These memories are filled with the aroma of unique summer\r\n                                        fruits that\r\n                                        made a cameo appearance. We agree that mango is the first thing that comes to\r\n                                        mind when\r\n                                        we think of summer fruits, but how can we forget the humble Bael or Bel fruit?\r\n                                        Most of\r\n                                        us found it repulsive because of the strong, pungent smell, but our mothers\r\n                                        ensured we\r\n                                        had our seasonal regulated share of this summer coolant by mixing it with milk,\r\n                                        sugar,\r\n                                        and whatnot! But as we learn more about the health benefits of this wonderful\r\n                                        fruit, it\r\n                                        is no surprise that it is gaining much-deserved popularity.</p>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <p class=\"Significance\">Bael as Digestive Tonic</p>\r\n\r\n                                    <div class=\"image-container resizable-image-container\" mwlResizable id=\"dragitem3\"\r\n                                        draggable=\"true\" (dragstart)=\"drag($event)\">\r\n                                        <img src=\"./../../../assets/images/images/medicine3.png\"\r\n                                            alt=\"Significance_image\">\r\n                                    </div>\r\n\r\n                                    <p class=\"Significance-cc\">Bael fruit juice is an excellent digestive tonic for all\r\n                                        your gut\r\n                                        issues. It is rich in tannins that have anti-bacterial and anti-fungal\r\n                                        properties making\r\n                                        it ideal for consumption during indigestion and diarrhea. It is rich in fibers\r\n                                        which\r\n                                        help in smooth bowel movements. During summer, when your digestion feels\r\n                                        slightly off,\r\n                                        Bael juice restores your appetite because of its carminative property. It\r\n                                        relieves\r\n                                        fatigue and helps cool down the body.</p>\r\n\r\n                                    <p class=\"Benifits-li-heading\">For making Bel juice:</p>\r\n                                    <ol class=\"Significance-cc\">\r\n                                        <li>Let it soak for a few minutes.</li>\r\n                                        <li>Scoop the pulp into a bowl and add a cup of water.</li>\r\n                                        <li>Serve chilled.</li>\r\n                                        <li>Add sugar if needed.</li>\r\n                                    </ol>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <p class=\"Significance\">Rasahriday Ayurveda Products with Bael</p>\r\n                                    <p class=\"Significance-cc\">At Rasahriday Ayurveda, we use Bael in various herbal\r\n                                        formulations that you can buy online and have delivered anywhere in India.</p>\r\n\r\n                                    <p class=\"Rasahriday-products\"><a href=\"\">Dasamoolajeerakarishta</a></p>\r\n\r\n                                    <div class=\"image-container resizable-image-container\" mwlResizable id=\"dragitem4\"\r\n                                        draggable=\"true\" (dragstart)=\"drag($event)\">\r\n                                        <img src=\"./../../../assets/images/images/51a6J3jnbUL.jpg\"\r\n                                            alt=\"Rasahriday_image\">\r\n                                    </div>\r\n\r\n                                    <p class=\"Significance-cc\">Dasamoolajeerakarishta is a traditional tonic combining\r\n                                        Dashamoolarishta and\r\n                                        Jeerakarishtam for pre and postnatal care for new mothers. True to its name,\r\n                                        this\r\n                                        Ayurvedic medication benefits from the ten most potent root ingredients used in\r\n                                        Ayurveda, including Bael. While the Dashamoola ingredients in this medicine\r\n                                        offer\r\n                                        strength and balance to the Doshas of the expecting and new mother, the\r\n                                        Jeerakarishtam\r\n                                        helps to relieve all the gastric-related troubles that pregnancy brings. It\r\n                                        relieves\r\n                                        nausea, improves appetite, and supports proper digestion. It is also a uterine\r\n                                        tonic\r\n                                        that supports uterine function after delivery. It helps soothe the digestive\r\n                                        troubles\r\n                                        caused after pregnancy and maintains optimum hormone levels.</p>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <!-- add photos start -->\r\n                    <div class=\"form-group addPhoto-container\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-3 col-4 form-label\">\r\n                                <p>Add Image</p>\r\n                            </div>\r\n                            <div class=\"col-md-9 col-8\">\r\n                                <label class=\"custom-file-upload\">\r\n                                    <input type=\"file\" (change)=\"getFiles($event)\" multiple />\r\n                                    Choose Photo\r\n                                </label>\r\n                            </div>\r\n                            <div class=\"col-12 form-label\">\r\n                                id url: {{urls}}\r\n\r\n\r\n                                <div class=\"img-container col-12 col-md-4 resizable-image-container\" mwlResizable\r\n                                    *ngFor=\"let item of this.productImages;let i=index\" id=\"{{item.name}}\">\r\n                                    <img draggable=\"true\" (dragstart)=\"drag($event)\" class=\"product-img chooseImg\"\r\n                                        [src]=\"currentlyUploadedImageSrc[i] | safeResourceUrl\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <!-- add photos ends-->\r\n                </div>\r\n\r\n                <!-- Recent Blog start -->\r\n                <div class=\"col-md-3 col-12 recent-blog-container\">\r\n                    <div class=\"blog-table\">\r\n                        <h3 class=\"tableOfContent\">Table of Content</h3>\r\n                        <ul>\r\n                            <li><a href=\"\" class=\"navigation__link\">Guide on Bael Fruits</a></li>\r\n                            <li><a href=\"\" class=\"navigation__link\">Significance of Bael Fruits</a></li>\r\n                            <li><a href=\"\" class=\"navigation__link\">Benifits of Bael Fruits</a></li>\r\n                            <li><a href=\"\" class=\"navigation__link\">Precations while using Bael</a></li>\r\n                            <li><a href=\"\" class=\"navigation__link\">Key Takeaways</a></li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <h3 class=\"tableOfContent\">Recent Blogs</h3>\r\n                    <div class=\"recentBlogs\">\r\n                        <div class=\"col-md-4 col-4 pl-0 pr-0\">\r\n                            <div>\r\n                                <img src=\"./../../../assets/images/images/medicine7.jpg\" class=\"recentBlogsImg\"\r\n                                    alt=\"blog_image\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-8 col-8\">\r\n                            <p class=\"short-desc\">Summer Skin Care with Ayurveda for Glowing Skin in the Heat</p>\r\n\r\n                            <a href=\"\" class=\"short-desc-readMore\">Read more...</a>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"recentBlogs\">\r\n                        <div class=\"col-md-4 col-4 pl-0 pr-0\">\r\n                            <div>\r\n                                <img src=\"./../../../assets/images/images/medicine6.jpg\" class=\"recentBlogsImg\"\r\n                                    alt=\"blog_image\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-8 col-8\">\r\n                            <p class=\"short-desc\">Guide to Bael Fruit: Benefits, Side Effects, Uses & More!</p>\r\n\r\n                            <a href=\"\" class=\"short-desc-readMore\">Read more...</a>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"recentBlogs\">\r\n                        <div class=\"col-md-4 col-4 pl-0 pr-0\">\r\n                            <div>\r\n                                <img src=\"./../../../assets/images/images/medicine3.png\" class=\"recentBlogsImg\"\r\n                                    alt=\"blog_image\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-8 col-8\">\r\n                            <p class=\"short-desc\">Guide to Satavari: Benefits, Side Effects, Uses, and More!</p>\r\n\r\n                            <a href=\"\" class=\"short-desc-readMore\">Read more...</a>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"recentBlogs\">\r\n                        <div class=\"col-md-4 col-4 pl-0 pr-0\">\r\n                            <div>\r\n                                <img src=\"./../../../assets/images/images/medicine4.jpg\" class=\"recentBlogsImg\"\r\n                                    alt=\"blog_image\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-8 col-8\">\r\n                            <p class=\"short-desc\">Summer Skin Care with Ayurveda for Glowing Skin in the Heat</p>\r\n\r\n                            <a href=\"\" class=\"short-desc-readMore\">Read more...</a>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { BlogsComponent } from './blogs.component';\r\nimport { BlogsByCategoryComponent } from './blogs-by-category/blogs-by-category.component';\r\nimport { BlogDetailsComponent } from './blog-details/blog-details.component';\r\nimport { AddBlogsComponent } from './add-blogs/add-blogs.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: BlogsComponent },\r\n  { path: 'add', component: AddBlogsComponent },\r\n  { path: 'edit/:blogId', component: AddBlogsComponent },\r\n  { path: 'category', component: BlogsByCategoryComponent },\r\n  { path: ':blogId/:blogSlug', component: BlogDetailsComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class BlogsRoutingModule { }\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { CommonService } from 'src/app/services/common-service/common.service';\r\nimport { LoaderService } from 'src/app/services/loader-service/loader.service';\r\nimport { BlogService } from 'src/app/services/blog/blog.service';\r\nimport { Router } from '@angular/router';\r\n@Component({\r\n  selector: 'app-blogs',\r\n  templateUrl: './blogs.component.html',\r\n  styleUrls: ['./blogs.component.scss']\r\n})\r\nexport class BlogsComponent implements OnInit {\r\n  @Input() cardData: any; // Replace with your actual card data type\r\n  p: number = 1;\r\n\r\n  editMode = {\r\n    status: false,\r\n    editedItem: {}\r\n  };\r\n  blogs: any;\r\n  isAdmin: boolean = false;\r\n  categorySelectedObj = {\r\n\r\n    isAllCategorySelected: true\r\n  };\r\n  editIconTag = 'svg';\r\n  isCategoryOpen = false;\r\n  isMobile = false;\r\n  sideBarCloseStatus = 'close';\r\n  deleteIconTag = 'path';\r\n  isAllCategoryActive = true;\r\n  activeIndex = -1;\r\n  constructor(\r\n    private commonService: CommonService,\r\n    private loaderService: LoaderService,\r\n    private blogService: BlogService,\r\n    private router: Router,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.commonService.refreshCategory.subscribe((data) => {\r\n      this.getBlogs();\r\n    })\r\n\r\n    this.getBlogs()\r\n    this.setPrivileges();\r\n  }\r\n\r\n  setPrivileges() {\r\n    this.isAdmin = this.commonService.userDetails.isAdmin;\r\n  }\r\n \r\n  getBlogs() {\r\n    this.loaderService.display(true);\r\n    this.blogService.getBlogsList().subscribe(data => {\r\n      this.blogs = data;\r\n      this.refreshProductAndSetCategoriesGlobally(data);\r\n      this.loaderService.display(false);\r\n    })\r\n  }\r\n\r\n  refreshProductAndSetCategoriesGlobally(data) {\r\n    this.commonService.refreshProduct.next(this.categorySelectedObj)\r\n    this.commonService.setCategoriesGlobally(data);\r\n  }\r\n\r\n  deleteProduct(id) {\r\n    let result = this.commonService.confirmAction();\r\n    if (result) {\r\n      this.loaderService.display(true);\r\n      alert(\"success, blog deleted successfully!\")\r\n      this.blogService.deleteBlogs(id).subscribe(data => {\r\n        this.getBlogs();\r\n        this.loaderService.display(false);\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n  editProduct(id) {\r\n    this.router.navigate(['/blogs', 'edit', id]);\r\n  }\r\n}\r\n","<h2 class=\"text-center gallery-heading\">Blogs</h2>\r\n<div class=\"container-fluid\">\r\n    <div class=\"row justify-content-start\" *ngIf=\"isAdmin\">\r\n        <div class=\"offset-1 col-md-2 col-sm-6 add-photo\">\r\n            <button type=\"button\" class=\"btn btn-light btn-add-photo\" routerLink=\"/blogs/add\"> + add\r\n                Blogs</button>\r\n        </div>\r\n    </div>\r\n    <br>\r\n    <!-- cards start dynamic -->\r\n    <div class=\"col-md-12 card-main-container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-3 col-sm-12 card-container\" *ngFor=\"let blog of blogs | paginate: { itemsPerPage: 8, currentPage: p }\">\r\n                <div class=\"card\">\r\n                    <img [routerLink]=\"['/blogs', blog?._id, blog?.slug]\" src=\"{{blog?.image}}\" class=\"card-img-top cursor-pointer\"\r\n                        alt=\"Rasahriday/photo_gallery\">\r\n                    <div class=\"card-body\">\r\n                        <h5 class=\"card-title cursor-pointer\" [routerLink]=\"['/blogs', blog?._id, blog?.slug]\" title=\"{{blog.title}}\">{{blog.title}}</h5>\r\n                        <p class=\"card-cat-author\">\r\n                            <span>\r\n                                {{blog.category}}\r\n                            </span>\r\n                            <span>\r\n                                {{blog.author}}\r\n                            </span>\r\n                        </p>\r\n\r\n                        <!-- delete/edit for Admin -->\r\n                        <div class=\"admin-btn {{!isAdmin ? 'justify-content-end' : ''}}\">\r\n                            <span *ngIf=\"isAdmin\" class=\"edit-delete-container\">\r\n\r\n                                <svg (click)=\"editProduct(blog._id)\"  xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\"\r\n                                    viewBox=\"0 0 576 512\"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->\r\n                                    <path\r\n                                        d=\"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z\" />\r\n                                </svg>\r\n                                <i class=\"fa fa-trash-o fa-trash\" aria-hidden=\"true\"></i>\r\n\r\n                                <svg (click)=\"deleteProduct(blog._id)\" class=\"delete-icon trash-image\"\r\n                                    fill=\"#ce4545\"\r\n                                    xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\"\r\n                                    viewBox=\"0 0 448 512\"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->\r\n                                    <path\r\n                                        fill=\"#ce4545\"\r\n                                        d=\"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z\" />\r\n                                </svg>\r\n\r\n                            </span>\r\n                            <a [routerLink]=\"['/blogs', blog?._id, blog?.slug]\" class=\"btn btn-primary btn-view-more cursor-pointer\">View more</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <pagination-controls class=\"pagination-sec\" (pageChange)=\"p = $event\"></pagination-controls>\r\n    </div>\r\n    <!-- cards end dynamic -->\r\n\r\n    <!-- cards start -->\r\n   \r\n\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AngularEditorModule } from './../../lib/angular-editor.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\nimport { BlogsRoutingModule } from './blogs-routing.module';\r\nimport { BlogsByCategoryComponent } from './blogs-by-category/blogs-by-category.component';\r\nimport { BlogsComponent } from './blogs.component';\r\nimport { AddBlogsComponent } from './add-blogs/add-blogs.component';\r\nimport { SharedModule } from '../shared-module/shared.module';\r\nimport { BlogDetailsComponent } from './blog-details/blog-details.component';\r\nimport { NgxPaginationModule } from 'ngx-pagination';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BlogsByCategoryComponent,\r\n    BlogsComponent,\r\n    AddBlogsComponent,\r\n    BlogDetailsComponent,\r\n  ],\r\n  imports: [\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    CommonModule,\r\n    BlogsRoutingModule,\r\n    SharedModule,\r\n    AngularEditorModule,\r\n    HttpClientModule,\r\n    NgxPaginationModule,\r\n  ]\r\n})\r\nexport class BlogsModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { CommonService } from '../common-service/common.service';\r\nimport { map } from 'rxjs/operators';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BlogService {\r\n  finalBlogsUrl: any;\r\n  confirmationText = \"Are you sure you want to delete\";\r\n\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private commonService: CommonService,\r\n  ) {\r\n    this.finalBlogsUrl = this.commonService.finalBlogsUrl;\r\n  }\r\n\r\n   /*----blogs---*/\r\n\r\n   getBlogsList() {\r\n    return this.http\r\n    .get(this.finalBlogsUrl)\r\n    .pipe(\r\n      map((response: Array<any>) => {\r\n        return response?.map((item) => {\r\n          var div = document.createElement('div');\r\n          div.innerHTML = item.content;\r\n          var firstImage = div.getElementsByTagName('img')[0]\r\n          item.image = firstImage ? firstImage.getAttribute(\"src\") : \"./../../assets/images/images/download.jfif\";\r\n          return item\r\n        });\r\n      }),\r\n    )\r\n  }\r\n\r\n  addBlogs(data) {\r\n    return this.http.post(this.finalBlogsUrl, data);\r\n  }\r\n\r\n  deleteBlogs(id) {\r\n    return this.http.delete(this.finalBlogsUrl + \"/\" + id);\r\n  }\r\n\r\n  updateBlogs(blogId, data) {\r\n    return this.http.patch(this.finalBlogsUrl + '/' + blogId, data);\r\n  }\r\n\r\n  getBlogDetail(blogId) {\r\n    return this.http.get(this.finalBlogsUrl + '/' + blogId)\r\n    .pipe(\r\n      map((blog: any) => {\r\n        var div = document.createElement('div');\r\n        div.innerHTML = blog.content;\r\n        var firstImage = div.getElementsByTagName('img')[0]\r\n        blog.image = firstImage ? firstImage.getAttribute(\"src\") : \"./../../assets/images/images/download.jfif\";\r\n        return blog\r\n      })\r\n    );\r\n  }\r\n\r\n  /*---end blogs---*/\r\n\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  Output,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ae-button',\r\n  templateUrl: './ae-button.component.html',\r\n  styleUrls: ['./ae-button.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class AeButtonComponent {\r\n  @Input() iconClass = '';\r\n  @Input() title = '';\r\n  @Output() buttonClick = new EventEmitter();\r\n\r\n  constructor() {}\r\n}\r\n","<button type=\"button\" [title]=\"title\" class=\"angular-editor-button\" (click)=\"buttonClick.emit()\" tabindex=\"-1\"><i\r\n    [class]=\"iconClass\"></i></button>\r\n\r\n","import {\r\n  Attribute,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  forwardRef,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  ViewChild,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { isDefined } from '../utils';\r\n\r\nexport interface SelectOption {\r\n  label: string;\r\n  value: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'ae-select',\r\n  templateUrl: './ae-select.component.html',\r\n  styleUrls: ['./ae-select.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => AeSelectComponent),\r\n      multi: true,\r\n    },\r\n  ],\r\n})\r\nexport class AeSelectComponent implements OnInit, ControlValueAccessor {\r\n  @Input() options: SelectOption[] = [];\r\n  // eslint-disable-next-line @angular-eslint/no-input-rename\r\n  @Input('hidden') isHidden: boolean;\r\n\r\n  selectedOption: SelectOption;\r\n  disabled = false;\r\n  optionId = 0;\r\n\r\n  get label(): string {\r\n    return this.selectedOption && this.selectedOption.hasOwnProperty('label')\r\n      ? this.selectedOption.label\r\n      : 'Select';\r\n  }\r\n\r\n  opened = false;\r\n\r\n  get value(): string {\r\n    return this.selectedOption.value;\r\n  }\r\n\r\n  @HostBinding('style.display') hidden = 'inline-block';\r\n\r\n  // eslint-disable-next-line @angular-eslint/no-output-native, @angular-eslint/no-output-rename\r\n  @Output('change') changeEvent = new EventEmitter();\r\n\r\n  @ViewChild('labelButton', { static: true }) labelButton: ElementRef;\r\n\r\n  constructor(\r\n    private elRef: ElementRef,\r\n    private r: Renderer2,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.selectedOption = this.options[0];\r\n    if (isDefined(this.isHidden) && this.isHidden) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  hide() {\r\n    this.hidden = 'none';\r\n  }\r\n\r\n  optionSelect(option: SelectOption, event: MouseEvent) {\r\n    event.stopPropagation();\r\n    this.setValue(option.value);\r\n    this.onChange(this.selectedOption.value);\r\n    this.changeEvent.emit(this.selectedOption.value);\r\n    this.onTouched();\r\n    this.opened = false;\r\n  }\r\n\r\n  toggleOpen(event: MouseEvent) {\r\n    // event.stopPropagation();\r\n    if (this.disabled) {\r\n      return;\r\n    }\r\n    this.opened = !this.opened;\r\n  }\r\n\r\n  @HostListener('document:click', ['$event'])\r\n  onClick($event: MouseEvent) {\r\n    if (!this.elRef.nativeElement.contains($event.target)) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  close() {\r\n    this.opened = false;\r\n  }\r\n\r\n  get isOpen(): boolean {\r\n    return this.opened;\r\n  }\r\n\r\n  writeValue(value) {\r\n    if (!value || typeof value !== 'string') {\r\n      return;\r\n    }\r\n    this.setValue(value);\r\n  }\r\n\r\n  setValue(value) {\r\n    let index = 0;\r\n    const selectedEl = this.options.find((el, i) => {\r\n      index = i;\r\n      return el.value === value;\r\n    });\r\n    if (selectedEl) {\r\n      this.selectedOption = selectedEl;\r\n      this.optionId = index;\r\n    }\r\n  }\r\n\r\n  onChange: any = () => {};\r\n  onTouched: any = () => {};\r\n\r\n  registerOnChange(fn) {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn) {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.labelButton.nativeElement.disabled = isDisabled;\r\n    const div = this.labelButton.nativeElement;\r\n    const action = isDisabled ? 'addClass' : 'removeClass';\r\n    this.r[action](div, 'disabled');\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  @HostListener('keydown', ['$event'])\r\n  handleKeyDown($event: KeyboardEvent) {\r\n    if (!this.opened) {\r\n      return;\r\n    }\r\n    switch ($event.key) {\r\n      case 'ArrowDown':\r\n        this._handleArrowDown($event);\r\n        break;\r\n      case 'ArrowUp':\r\n        this._handleArrowUp($event);\r\n        break;\r\n      case 'Space':\r\n        this._handleSpace($event);\r\n        break;\r\n      case 'Enter':\r\n        this._handleEnter($event);\r\n        break;\r\n      case 'Tab':\r\n        this._handleTab($event);\r\n        break;\r\n      case 'Escape':\r\n        this.close();\r\n        $event.preventDefault();\r\n        break;\r\n      case 'Backspace':\r\n        this._handleBackspace();\r\n        break;\r\n    }\r\n  }\r\n\r\n  _handleArrowDown($event) {\r\n    if (this.optionId < this.options.length - 1) {\r\n      this.optionId++;\r\n    }\r\n  }\r\n\r\n  _handleArrowUp($event) {\r\n    if (this.optionId >= 1) {\r\n      this.optionId--;\r\n    }\r\n  }\r\n\r\n  _handleSpace($event) {}\r\n\r\n  _handleEnter($event) {\r\n    this.optionSelect(this.options[this.optionId], $event);\r\n  }\r\n\r\n  _handleTab($event) {}\r\n\r\n  _handleBackspace() {}\r\n}\r\n","<span class=\"ae-font ae-picker\" [ngClass]=\"{'ae-expanded':isOpen}\">\r\n  <button [tabIndex]=\"-1\" #labelButton tabindex=\"0\" type=\"button\" role=\"button\" class=\"ae-picker-label\" (click)=\"toggleOpen($event);\">{{label}}\r\n    <svg viewBox=\"0 0 18 18\">\r\n      <polygon class=\"ae-stroke\" points=\"7 11 9 13 11 11 7 11\"></polygon>\r\n      <polygon class=\"ae-stroke\" points=\"7 7 9 5 11 7 7 7\"></polygon>\r\n    </svg>\r\n  </button>\r\n  <span class=\"ae-picker-options\">\r\n    <button tabindex=\"-1\" type=\"button\" role=\"button\" class=\"ae-picker-item\"\r\n          *ngFor=\"let item of options; let i = index\"\r\n          [ngClass]=\"{'selected': item.value === value, 'focused': i === optionId}\"\r\n          (click)=\"optionSelect(item, $event)\">\r\n          {{item.label}}\r\n    </button>\r\n    <span class=\"dropdown-item\" *ngIf=\"!options.length\">No items for select</span>\r\n  </span>\r\n</span>\r\n","import { Component, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ae-toolbar-set',\r\n  templateUrl: './ae-toolbar-set.component.html',\r\n  styleUrls: ['./ae-toolbar-set.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class AeToolbarSetComponent {\r\n  constructor() {}\r\n}\r\n","<div class=\"angular-editor-toolbar-set\">\r\n  <ng-content></ng-content>\r\n</div>\r\n","import {\r\n  Component,\r\n  ContentChild,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  Input,\r\n  Output,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { AngularEditorService, UploadResponse } from './angular-editor.service';\r\nimport { HttpResponse, HttpEvent } from '@angular/common/http';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { CustomClass } from './config';\r\nimport { SelectOption } from './ae-select/ae-select.component';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'angular-editor-toolbar',\r\n  templateUrl: './angular-editor-toolbar.component.html',\r\n  styleUrls: ['./angular-editor-toolbar.component.scss'],\r\n})\r\nexport class AngularEditorToolbarComponent {\r\n  htmlMode = false;\r\n  linkSelected = false;\r\n  block = 'default';\r\n  fontName;\r\n  fontSize;\r\n  foreColour;\r\n  backColor;\r\n\r\n  headings: SelectOption[] = [\r\n    {\r\n      label: 'Heading 1',\r\n      value: 'h1',\r\n    },\r\n    {\r\n      label: 'Heading 2',\r\n      value: 'h2',\r\n    },\r\n    {\r\n      label: 'Heading 3',\r\n      value: 'h3',\r\n    },\r\n    {\r\n      label: 'Heading 4',\r\n      value: 'h4',\r\n    },\r\n    {\r\n      label: 'Heading 5',\r\n      value: 'h5',\r\n    },\r\n    {\r\n      label: 'Heading 6',\r\n      value: 'h6',\r\n    },\r\n    {\r\n      label: 'Paragraph',\r\n      value: 'p',\r\n    },\r\n    {\r\n      label: 'Predefined',\r\n      value: 'pre',\r\n    },\r\n    {\r\n      label: 'Standard',\r\n      value: 'div',\r\n    },\r\n    {\r\n      label: 'default',\r\n      value: 'default',\r\n    },\r\n  ];\r\n\r\n  fontSizes: SelectOption[] = [\r\n    {\r\n      label: '1',\r\n      value: '1',\r\n    },\r\n    {\r\n      label: '2',\r\n      value: '2',\r\n    },\r\n    {\r\n      label: '3',\r\n      value: '3',\r\n    },\r\n    {\r\n      label: '4',\r\n      value: '4',\r\n    },\r\n    {\r\n      label: '5',\r\n      value: '5',\r\n    },\r\n    {\r\n      label: '6',\r\n      value: '6',\r\n    },\r\n    {\r\n      label: '7',\r\n      value: '7',\r\n    },\r\n  ];\r\n\r\n  customClassId = '-1';\r\n  _customClasses: CustomClass[];\r\n  customClassList: SelectOption[] = [{ label: '', value: '' }];\r\n\r\n  tagMap = {\r\n    BLOCKQUOTE: 'indent',\r\n    A: 'link',\r\n  };\r\n\r\n  select = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'P', 'PRE', 'DIV'];\r\n\r\n  buttons = [\r\n    'bold',\r\n    'italic',\r\n    'underline',\r\n    'strikeThrough',\r\n    'subscript',\r\n    'superscript',\r\n    'justifyLeft',\r\n    'justifyCenter',\r\n    'justifyRight',\r\n    'justifyFull',\r\n    'indent',\r\n    'outdent',\r\n    'insertUnorderedList',\r\n    'insertOrderedList',\r\n    'link',\r\n  ];\r\n\r\n  @Input() id: string;\r\n  @Input() uploadUrl: string;\r\n  @Input() upload: (file: File) => Observable<HttpEvent<UploadResponse>>;\r\n  @Input() showToolbar: boolean;\r\n  @Input() fonts: SelectOption[] = [{ label: '', value: '' }];\r\n\r\n  @Input()\r\n  set customClasses(classes: CustomClass[]) {\r\n    if (classes) {\r\n      this._customClasses = classes;\r\n      this.customClassList = this._customClasses.map((x, i) => ({\r\n        label: x.name,\r\n        value: i.toString(),\r\n      }));\r\n      this.customClassList.unshift({ label: 'Clear Class', value: '-1' });\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  set defaultFontName(value: string) {\r\n    if (value) {\r\n      this.fontName = value;\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  set defaultFontSize(value: string) {\r\n    if (value) {\r\n      this.fontSize = value;\r\n    }\r\n  }\r\n\r\n  @Input() hiddenButtons: string[][];\r\n\r\n  @Output() execute: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n  @ViewChild('fileInput', { static: true }) myInputFile: ElementRef;\r\n\r\n  public get isLinkButtonDisabled(): boolean {\r\n    return this.htmlMode || !Boolean(this.editorService.selectedText);\r\n  }\r\n\r\n  constructor(\r\n    private r: Renderer2,\r\n    private editorService: AngularEditorService,\r\n    private er: ElementRef,\r\n    // @ts-ignore\r\n    @Inject(DOCUMENT) private doc: any,\r\n  ) {}\r\n\r\n  /**\r\n   * Trigger command from editor header buttons\r\n   * @param command string from toolbar buttons\r\n   */\r\n  triggerCommand(command: string) {\r\n    this.execute.emit(command);\r\n  }\r\n\r\n  /**\r\n   * highlight editor buttons when cursor moved or positioning\r\n   */\r\n  triggerButtons() {\r\n    if (!this.showToolbar) {\r\n      return;\r\n    }\r\n    this.buttons.forEach((e) => {\r\n      const result = this.doc.queryCommandState(e);\r\n      const elementById = this.doc.getElementById(e + '-' + this.id);\r\n      if (result) {\r\n        this.r.addClass(elementById, 'active');\r\n      } else {\r\n        this.r.removeClass(elementById, 'active');\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * trigger highlight editor buttons when cursor moved or positioning in block\r\n   */\r\n  triggerBlocks(nodes: Node[]) {\r\n    if (!this.showToolbar) {\r\n      return;\r\n    }\r\n    this.linkSelected = nodes.findIndex((x) => x.nodeName === 'A') > -1;\r\n    let found = false;\r\n    this.select.forEach((y) => {\r\n      const node = nodes.find((x) => x.nodeName === y);\r\n      if (node !== undefined && y === node.nodeName) {\r\n        if (found === false) {\r\n          this.block = node.nodeName.toLowerCase();\r\n          found = true;\r\n        }\r\n      } else if (found === false) {\r\n        this.block = 'default';\r\n      }\r\n    });\r\n\r\n    found = false;\r\n    if (this._customClasses) {\r\n      this._customClasses.forEach((y, index) => {\r\n        const node = nodes.find((x) => {\r\n          if (x instanceof Element) {\r\n            return x.className === y.class;\r\n          }\r\n        });\r\n        if (node !== undefined) {\r\n          if (found === false) {\r\n            this.customClassId = index.toString();\r\n            found = true;\r\n          }\r\n        } else if (found === false) {\r\n          this.customClassId = '-1';\r\n        }\r\n      });\r\n    }\r\n\r\n    Object.keys(this.tagMap).map((e) => {\r\n      const elementById = this.doc.getElementById(\r\n        this.tagMap[e] + '-' + this.id,\r\n      );\r\n      const node = nodes.find((x) => x.nodeName === e);\r\n      if (node !== undefined && e === node.nodeName) {\r\n        this.r.addClass(elementById, 'active');\r\n      } else {\r\n        this.r.removeClass(elementById, 'active');\r\n      }\r\n    });\r\n\r\n    this.foreColour = this.doc.queryCommandValue('ForeColor');\r\n    this.fontSize = this.doc.queryCommandValue('FontSize');\r\n    this.fontName = this.doc.queryCommandValue('FontName').replace(/\"/g, '');\r\n    this.backColor = this.doc.queryCommandValue('backColor');\r\n  }\r\n\r\n  /**\r\n   * insert URL link\r\n   */\r\n  insertUrl() {\r\n    let url: string | null = 'https://';\r\n    const selection = this.editorService.savedSelection;\r\n    if (\r\n      selection &&\r\n      selection.commonAncestorContainer?.parentElement?.nodeName === 'A'\r\n    ) {\r\n      const parent = selection.commonAncestorContainer\r\n        .parentElement as HTMLAnchorElement;\r\n      if (parent.href !== '') {\r\n        url = parent.href;\r\n      }\r\n    }\r\n    url = prompt('Insert URL link', url);\r\n    if (url && url !== '' && url !== 'https://') {\r\n      this.editorService.createLink(url);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * insert Video link\r\n   */\r\n  insertVideo() {\r\n    this.execute.emit('');\r\n    const url = prompt('Insert Video link', `https://`);\r\n    if (url && url !== '' && url !== `https://`) {\r\n      this.editorService.insertVideo(url);\r\n    }\r\n  }\r\n\r\n  /** insert color */\r\n  insertColor(color: string, where: string) {\r\n    this.editorService.insertColor(color, where);\r\n    this.execute.emit('');\r\n  }\r\n\r\n  /**\r\n   * set font Name/family\r\n   * @param foreColor string\r\n   */\r\n  setFontName(foreColor: string): void {\r\n    this.editorService.setFontName(foreColor);\r\n    this.execute.emit('');\r\n  }\r\n\r\n  /**\r\n   * set font Size\r\n   * @param fontSize string\r\n   */\r\n  setFontSize(fontSize: string): void {\r\n    this.editorService.setFontSize(fontSize);\r\n    this.execute.emit('');\r\n  }\r\n\r\n  /**\r\n   * toggle editor mode (WYSIWYG or SOURCE)\r\n   * @param m boolean\r\n   */\r\n  setEditorMode(m: boolean) {\r\n    const toggleEditorModeButton = this.doc.getElementById(\r\n      'toggleEditorMode' + '-' + this.id,\r\n    );\r\n    if (m) {\r\n      this.r.addClass(toggleEditorModeButton, 'active');\r\n    } else {\r\n      this.r.removeClass(toggleEditorModeButton, 'active');\r\n    }\r\n    this.htmlMode = m;\r\n  }\r\n\r\n  /**\r\n   * Upload image when file is selected.\r\n   */\r\n  onFileChanged(event) {\r\n    if (!event?.target?.files) {\r\n      return;\r\n    }\r\n\r\n    const file = event.target.files[0];\r\n    if (file.type.includes('image/')) {\r\n      if (this.upload) {\r\n        this.upload(file).subscribe((response: HttpResponse<UploadResponse>) =>\r\n          this.watchUploadImage(response, event),\r\n        );\r\n      } else if (this.uploadUrl) {\r\n        this.editorService\r\n          .uploadImage(file)\r\n          .subscribe((response: HttpResponse<UploadResponse>) =>\r\n            this.watchUploadImage(response, event),\r\n          );\r\n      } else {\r\n        const reader = new FileReader();\r\n        reader.onload = (e: ProgressEvent) => {\r\n          const fr = e.currentTarget as FileReader;\r\n          if (!fr || !fr.result) {\r\n            \r\n            return;\r\n          }\r\n          this.editorService.insertImage(fr.result.toString());\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    }\r\n\r\n    if (event.target) event.target.value = null;\r\n  }\r\n\r\n  watchUploadImage(response: HttpResponse<{ imageUrl: string }>, event) {\r\n    if (!response?.body?.imageUrl) {\r\n     \r\n      return;\r\n    }\r\n    const { imageUrl } = response.body;\r\n    this.editorService.insertImage(imageUrl);\r\n    event.srcElement.value = null;\r\n  }\r\n\r\n  /**\r\n   * Set custom class\r\n   */\r\n  setCustomClass(classId: string) {\r\n    if (classId === '-1') {\r\n      this.execute.emit('clear');\r\n    } else {\r\n      this.editorService.createCustomClass(this._customClasses[+classId]);\r\n    }\r\n  }\r\n\r\n  isButtonHidden(name: string): boolean {\r\n    if (!name) {\r\n      return false;\r\n    }\r\n    if (!(this.hiddenButtons instanceof Array)) {\r\n      return false;\r\n    }\r\n    let result: any;\r\n    for (const arr of this.hiddenButtons) {\r\n      if (arr instanceof Array) {\r\n        result = arr.find((item) => item === name);\r\n      }\r\n      if (result) {\r\n        break;\r\n      }\r\n    }\r\n    return result !== undefined;\r\n  }\r\n\r\n  focus() {\r\n    this.execute.emit('focus');\r\n  }\r\n}\r\n","<div class=\"angular-editor-toolbar\" *ngIf=\"showToolbar\">\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button type=\"button\" title=\"Undo\" class=\"angular-editor-button\" (click)=\"triggerCommand('undo')\"\r\n            [hidden]=\"isButtonHidden('undo')\" tabindex=\"-1\"><i\r\n      class='fa fa-undo'></i></button>\r\n    <button type=\"button\" title=\"Redo\" class=\"angular-editor-button\" (click)=\"triggerCommand('redo')\"\r\n            [hidden]=\"isButtonHidden('redo')\" tabindex=\"-1\"><i\r\n      class='fa fa-repeat'></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'bold-'+id\" type=\"button\" title=\"Bold\" class=\"angular-editor-button\" (click)=\"triggerCommand('bold')\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('bold')\" tabindex=\"-1\"><i class='fa fa-bold'></i></button>\r\n    <button [id]=\"'italic-'+id\" type=\"button\" title=\"Italic\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('italic')\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('italic')\" tabindex=\"-1\"><i class='fa fa-italic'></i>\r\n    </button>\r\n    <button [id]=\"'underline-'+id\" type=\"button\" title=\"Underline\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('underline')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('underline')\"\r\n            tabindex=\"-1\"><i class='fa fa-underline'></i></button>\r\n    <button [id]=\"'strikeThrough-'+id\" type=\"button\" title=\"Strikethrough\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('strikeThrough')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('strikeThrough')\"\r\n            tabindex=\"-1\"><i class='fa fa-strikethrough'></i></button>\r\n    <button [id]=\"'subscript-'+id\" type=\"button\" title=\"Subscript\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('subscript')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('subscript')\"\r\n            tabindex=\"-1\"><i class='fa fa-subscript'></i></button>\r\n    <button [id]=\"'superscript-'+id\" type=\"button\" title=\"Superscript\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('superscript')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('superscript')\"\r\n            tabindex=\"-1\"><i class='fa fa-superscript'></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'justifyLeft-'+id\" type=\"button\" title=\"Justify Left\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('justifyLeft')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('justifyLeft')\"\r\n            tabindex=\"-1\"><i\r\n      class='fa fa-align-left'></i></button>\r\n    <button [id]=\"'justifyCenter-'+id\" type=\"button\" title=\"Justify Center\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('justifyCenter')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('justifyCenter')\"\r\n            tabindex=\"-1\"><i\r\n      class='fa fa-align-center'></i></button>\r\n    <button [id]=\"'justifyRight-'+id\" type=\"button\" title=\"Justify Right\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('justifyRight')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('justifyRight')\"\r\n            tabindex=\"-1\">\r\n      <i class='fa fa-align-right'></i></button>\r\n    <button [id]=\"'justifyFull-'+id\" type=\"button\" title=\"Justify Full\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('justifyFull')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('justifyFull')\"\r\n            tabindex=\"-1\"><i\r\n      class='fa fa-align-justify'></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'indent-'+id\" type=\"button\" title=\"Indent\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('indent')\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('indent')\" tabindex=\"-1\"><i\r\n      class='fa fa-indent'></i></button>\r\n    <button [id]=\"'outdent-'+id\" type=\"button\" title=\"Outdent\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('outdent')\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('outdent')\" tabindex=\"-1\"><i\r\n      class='fa fa-outdent'></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'insertUnorderedList-'+id\" type=\"button\" title=\"Unordered List\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('insertUnorderedList')\" [disabled]=\"htmlMode\"\r\n            [hidden]=\"isButtonHidden('insertUnorderedList')\" tabindex=\"-1\"><i\r\n      class='fa fa-list-ul'></i></button>\r\n    <button [id]=\"'insertOrderedList-'+id\" type=\"button\" title=\"Ordered List\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('insertOrderedList')\" [disabled]=\"htmlMode\"\r\n            [hidden]=\"isButtonHidden('insertOrderedList')\" tabindex=\"-1\"><i\r\n      class='fa fa-list-ol'></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n\r\n    <ae-select class=\"select-heading\" [options]=\"headings\"\r\n               [(ngModel)]=\"block\"\r\n               (change)=\"triggerCommand(block)\"\r\n               [disabled]=\"htmlMode\"\r\n               [hidden]=\"isButtonHidden('heading')\"\r\n               tabindex=\"-1\"></ae-select>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n\r\n    <ae-select class=\"select-font\" [options]=\"fonts\"\r\n               [(ngModel)]=\"fontName\"\r\n               (change)=\"setFontName(fontName)\"\r\n               [disabled]=\"htmlMode\"\r\n               [hidden]=\"isButtonHidden('fontName')\"\r\n               tabindex=\"-1\"\r\n               title=\"Font Family\"></ae-select>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n\r\n    <ae-select class=\"select-font-size\" [options]=\"fontSizes\"\r\n               [(ngModel)]=\"fontSize\"\r\n               (change)=\"setFontSize(fontSize)\"\r\n               [disabled]=\"htmlMode\"\r\n               [hidden]=\"isButtonHidden('fontSize')\"\r\n               tabindex=\"-1\"\r\n               title=\"Font Size\">\r\n    </ae-select>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <input\r\n      style=\"display: none\"\r\n      type=\"color\" (change)=\"insertColor(fgInput.value, 'textColor')\"\r\n      #fgInput>\r\n    <button [id]=\"'foregroundColorPicker-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"focus(); ; fgInput.click()\"\r\n            title=\"Text Color\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('textColor')\" tabindex=\"-1\"><span\r\n      class=\"color-label foreground\"><i class=\"fa fa-font\"></i></span>\r\n    </button>\r\n    <input\r\n      style=\"display: none\"\r\n      type=\"color\" (change)=\"insertColor(bgInput.value, 'backgroundColor')\"\r\n      #bgInput>\r\n    <button [id]=\"'backgroundColorPicker-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"focus(); ; bgInput.click()\"\r\n            title=\"Background Color\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('backgroundColor')\" tabindex=\"-1\"><span\r\n      class=\"color-label background\"><i class=\"fa fa-font\"></i></span>\r\n    </button>\r\n  </div>\r\n  <div *ngIf=\"_customClasses\" class=\"angular-editor-toolbar-set\">\r\n    <ae-select class=\"select-custom-style\" [options]=\"customClassList\"\r\n               [(ngModel)]=\"customClassId\"\r\n               (change)=\"setCustomClass(customClassId)\"\r\n               [disabled]=\"htmlMode\"\r\n               [hidden]=\"isButtonHidden('customClasses')\"\r\n               tabindex=\"-1\"></ae-select>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'link-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"insertUrl()\"\r\n            title=\"Insert Link\" [disabled]=\"isLinkButtonDisabled\" [hidden]=\"isButtonHidden('link')\" tabindex=\"-1\">\r\n      <i class=\"fa fa-link\"></i>\r\n    </button>\r\n    <button [id]=\"'unlink-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"triggerCommand('unlink')\"\r\n            title=\"Unlink\" [disabled]=\"htmlMode || !linkSelected\" [hidden]=\"isButtonHidden('unlink')\" tabindex=\"-1\">\r\n      <i class=\"fa fa-chain-broken\"></i>\r\n    </button>\r\n    <input\r\n      style=\"display: none\"\r\n      accept=\"image/*\"\r\n      type=\"file\" (change)=\"onFileChanged($event)\"\r\n      #fileInput>\r\n    <button [id]=\"'insertImage-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"focus(); fileInput.click()\"\r\n            title=\"Insert Image\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('insertImage')\" tabindex=\"-1\"><i class=\"fa fa-image\"></i>\r\n    </button>\r\n    <button [id]=\"'insertVideo-'+id\" type=\"button\" class=\"angular-editor-button\"\r\n            (click)=\"insertVideo()\" title=\"Insert Video\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('insertVideo')\"\r\n            tabindex=\"-1\"><i\r\n      class=\"fa fa-video-camera\"></i></button>\r\n    <button [id]=\"'insertHorizontalRule-'+id\" type=\"button\" title=\"Horizontal Line\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('insertHorizontalRule')\" [disabled]=\"htmlMode\"\r\n            [hidden]=\"isButtonHidden('insertHorizontalRule')\" tabindex=\"-1\"><i\r\n      class=\"fa fa-minus\"></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'clearFormatting-'+id\" type=\"button\" title=\"Clear Formatting\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('removeFormat')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('removeFormat')\"\r\n            tabindex=\"-1\"><i class='fa fa-remove'></i>\r\n    </button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'toggleEditorMode-'+id\" type=\"button\" title=\"HTML Code\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('toggleEditorMode')\" [hidden]=\"isButtonHidden('toggleEditorMode')\" tabindex=\"-1\"><i\r\n      class='fa fa-code'></i></button>\r\n  </div>\r\n  <ng-content></ng-content>\r\n</div>\r\n","import { DOCUMENT } from '@angular/common';\r\nimport {\r\n  AfterViewInit,\r\n  Attribute,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ElementRef,\r\n  EventEmitter,\r\n  forwardRef,\r\n  HostBinding,\r\n  HostListener,\r\n  Inject,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  SecurityContext,\r\n  TemplateRef,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { AngularEditorToolbarComponent } from './angular-editor-toolbar.component';\r\nimport { AngularEditorService } from './angular-editor.service';\r\nimport { AngularEditorConfig, angularEditorConfig } from './config';\r\nimport { isDefined } from './utils';\r\nimport { Subject } from 'rxjs';\r\nimport { throttleTime } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'angular-editor',\r\n  templateUrl: './angular-editor.component.html',\r\n  styleUrls: ['./angular-editor.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => AngularEditorComponent),\r\n      multi: true,\r\n    },\r\n    AngularEditorService,\r\n  ],\r\n})\r\nexport class AngularEditorComponent\r\n  implements OnInit, ControlValueAccessor, AfterViewInit, OnDestroy\r\n{\r\n  private onChange: (value: string) => void;\r\n  private onTouched: () => void;\r\n\r\n  modeVisual = true;\r\n  showPlaceholder = false;\r\n  disabled = false;\r\n  focused = false;\r\n  touched = false;\r\n  changed = false;\r\n\r\n  mouseMoveEvtListener = () => {};\r\n  currentSelectedImage: any = null;\r\n  editSubject = new Subject();\r\n  editHistory = [] as any[];\r\n  currentHistoryIndex = -1;\r\n\r\n  focusInstance: any;\r\n  blurInstance: any;\r\n\r\n  @Input() id = '';\r\n  @Input() config: AngularEditorConfig = angularEditorConfig;\r\n  @Input() placeholder = '';\r\n  @Input() tabIndex: number | null;\r\n\r\n  @Output() html;\r\n\r\n  @ViewChild('editor', { static: true }) textArea: ElementRef;\r\n  @ViewChild('editorWrapper', { static: true }) editorWrapper: ElementRef;\r\n  @ViewChild('editorToolbar') editorToolbar: AngularEditorToolbarComponent;\r\n  @ContentChild('customButtons') customButtonsTemplateRef?: TemplateRef<any>;\r\n  executeCommandFn = this.executeCommand.bind(this);\r\n\r\n  @Output() viewMode = new EventEmitter<boolean>();\r\n\r\n  /** emits `blur` event when focused out from the textarea */\r\n  // eslint-disable-next-line @angular-eslint/no-output-native, @angular-eslint/no-output-rename\r\n  @Output('blur') blurEvent: EventEmitter<FocusEvent> =\r\n    new EventEmitter<FocusEvent>();\r\n\r\n  /** emits `focus` event when focused in to the textarea */\r\n  // eslint-disable-next-line @angular-eslint/no-output-rename, @angular-eslint/no-output-native\r\n  @Output('focus') focusEvent: EventEmitter<FocusEvent> =\r\n    new EventEmitter<FocusEvent>();\r\n\r\n  @HostBinding('attr.tabindex') tabindex = -1;\r\n\r\n  @HostListener('focus')\r\n  onFocus() {\r\n    this.focus();\r\n  }\r\n\r\n  @HostListener('contextmenu')\r\n  preventContextMenu() {\r\n    this.unselectImage();\r\n  }\r\n\r\n  @HostListener('window:click', ['$event.target'])\r\n  onClick(e) {\r\n    if (!this.focused) return;\r\n    this.unselectImage();\r\n    if (!e || e.tagName !== 'IMG') return;\r\n    this.currentSelectedImage = e;\r\n    this.addResizeWrapper();\r\n    this.selectImage();\r\n    this.onContentChange(this.textArea.nativeElement);\r\n    this.runFontNameAndSizeCheck();\r\n  }\r\n\r\n  constructor(\r\n    private r: Renderer2,\r\n    private editorService: AngularEditorService,\r\n    // @ts-ignore\r\n    @Inject(DOCUMENT) private doc: Document,\r\n    private sanitizer: DomSanitizer,\r\n    private cdRef: ChangeDetectorRef,\r\n    // @ts-ignore\r\n    @Attribute('tabindex') defaultTabIndex: string,\r\n    // @ts-ignore\r\n    @Attribute('autofocus') private autoFocus: any,\r\n  ) {\r\n    const parsedTabIndex = Number(defaultTabIndex);\r\n    this.tabIndex =\r\n      parsedTabIndex || parsedTabIndex === 0 ? parsedTabIndex : null;\r\n    this.editSubject\r\n      .pipe(throttleTime(200, undefined, { leading: false, trailing: true }))\r\n      .subscribe((html) => {\r\n        this.addHistory(html);\r\n      });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.config.toolbarPosition = this.config.toolbarPosition\r\n      ? this.config.toolbarPosition\r\n      : angularEditorConfig.toolbarPosition;\r\n    this.config.editHistoryLimit = this.config.editHistoryLimit\r\n      ? this.config.editHistoryLimit\r\n      : angularEditorConfig.editHistoryLimit;\r\n    this.config.imageResizeSensitivity = this.config.imageResizeSensitivity\r\n      ? this.config.imageResizeSensitivity\r\n      : angularEditorConfig.imageResizeSensitivity;\r\n    this.config.textPatternsEnabled =\r\n      this.config.textPatternsEnabled == null\r\n        ? angularEditorConfig.textPatternsEnabled\r\n        : this.config.textPatternsEnabled;\r\n\r\n    this.editorService.currentFontName =\r\n      this.editorService.currentFontName ||\r\n      this.config.defaultFontName ||\r\n      angularEditorConfig.defaultFontName ||\r\n      this.config.fonts[0]?.label;\r\n\r\n    this.editorService.currentFontSize =\r\n      this.editorService.currentFontSize ||\r\n      this.config.defaultFontSize ||\r\n      angularEditorConfig.defaultFontSize;\r\n\r\n    this.editorService.setFontName(this.editorService.currentFontName);\r\n    this.editorService.setFontSize(this.editorService.currentFontSize);\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    if (isDefined(this.autoFocus)) {\r\n      this.focus();\r\n    }\r\n  }\r\n\r\n  ePos;\r\n  resizeImage = (currentSelected, renderer2) => (e) => {\r\n    if (!currentSelected) return;\r\n    const resizeSensitivity =\r\n      this.config.imageResizeSensitivity ||\r\n      angularEditorConfig.imageResizeSensitivity ||\r\n      2;\r\n    const currX = e.x != null ? e.x : e.clientX;\r\n    const dx = this.ePos - currX;\r\n    this.ePos = currX;\r\n    let nextWidth = currentSelected.width + dx * resizeSensitivity;\r\n    if (nextWidth <= 10) nextWidth = 10;\r\n    renderer2.setAttribute(currentSelected, 'width', `${nextWidth}px`);\r\n  };\r\n\r\n  selectImage(toStart = false) {\r\n    const selection = this.doc.getSelection() as Selection;\r\n    selection.removeAllRanges();\r\n    const range = this.doc.createRange();\r\n    if (!this.currentSelectedImage?.parentNode) {\r\n      return;\r\n    }\r\n    range.selectNode(this.currentSelectedImage);\r\n    range.collapse(toStart);\r\n    selection.addRange(range);\r\n    this.r.setStyle(this.textArea.nativeElement, 'caret-color', 'transparent');\r\n  }\r\n\r\n  // TODO: Move image stuff to another service or class\r\n  addResizeWrapper() {\r\n    const parent = this.currentSelectedImage.parentNode;\r\n    if (parent.classList?.contains('angular-editor-selected-image-wrapper'))\r\n      return;\r\n    const wrapper = this.r.createElement('div');\r\n    this.r.addClass(wrapper, 'angular-editor-selected-image-wrapper');\r\n    this.r.insertBefore(parent, wrapper, this.currentSelectedImage);\r\n    this.r.removeChild(parent, this.currentSelectedImage);\r\n    this.r.appendChild(wrapper, this.currentSelectedImage);\r\n    this.r.listen(wrapper, 'mousedown', (e) => {\r\n      e.preventDefault();\r\n      this.mouseMoveEvtListener();\r\n      this.ePos = e.x != null ? e.x : e.clientX;\r\n      this.mouseMoveEvtListener = this.r.listen(\r\n        this.doc,\r\n        'mousemove',\r\n        this.resizeImage(this.currentSelectedImage, this.r),\r\n      );\r\n    });\r\n  }\r\n\r\n  removeResizeWrapper() {\r\n    this.mouseMoveEvtListener();\r\n    const wrappers = this.doc.getElementsByClassName(\r\n      'angular-editor-selected-image-wrapper',\r\n    );\r\n    for (let i = wrappers.length - 1; i >= 0; i--) {\r\n      const wrapper = wrappers[i];\r\n      this.editorService.replaceWithOwnChildren(wrapper);\r\n    }\r\n  }\r\n\r\n  unselectImage() {\r\n    this.removeResizeWrapper();\r\n    if (!this.currentSelectedImage) return;\r\n    this.r.removeClass(\r\n      this.currentSelectedImage,\r\n      'angular-editor-selected-image',\r\n    );\r\n    this.currentSelectedImage = null;\r\n    this.onContentChange(this.textArea.nativeElement);\r\n    this.r.setStyle(this.textArea.nativeElement, 'caret-color', 'black');\r\n  }\r\n\r\n  onPaste(event: ClipboardEvent) {\r\n    if (this.config.rawPaste) {\r\n      event.preventDefault();\r\n      const text = event.clipboardData?.getData('text/plain');\r\n      document.execCommand('insertHTML', false, text);\r\n      return text;\r\n    }\r\n  }\r\n\r\n  setContentAsCode(editableElement) {\r\n    const oContent = this.r.createText(editableElement.innerHTML);\r\n    this.r.setProperty(editableElement, 'innerHTML', '');\r\n    this.r.setProperty(editableElement, 'contentEditable', false);\r\n\r\n    const oPre = this.r.createElement('pre');\r\n    this.r.setStyle(oPre, 'margin', '0');\r\n    this.r.setStyle(oPre, 'outline', 'none');\r\n\r\n    const oCode = this.r.createElement('code');\r\n    this.r.setProperty(oCode, 'id', 'sourceText' + this.id);\r\n    this.r.setStyle(oCode, 'display', 'block');\r\n    this.r.setStyle(oCode, 'white-space', 'pre-wrap');\r\n    this.r.setStyle(oCode, 'word-break', 'keep-all');\r\n    this.r.setStyle(oCode, 'outline', 'none');\r\n    this.r.setStyle(oCode, 'margin', '0');\r\n    this.r.setStyle(oCode, 'background-color', '#fff5b9');\r\n    this.r.setProperty(oCode, 'contentEditable', true);\r\n    this.r.appendChild(oCode, oContent);\r\n    this.focusInstance = this.r.listen(oCode, 'focus', (event) =>\r\n      this.onTextAreaFocus(event),\r\n    );\r\n    this.blurInstance = this.r.listen(oCode, 'blur', (event) =>\r\n      this.onTextAreaBlur(event),\r\n    );\r\n    this.r.appendChild(oPre, oCode);\r\n    this.r.appendChild(editableElement, oPre);\r\n\r\n    this.doc.execCommand('defaultParagraphSeparator', false, 'div');\r\n  }\r\n\r\n  setElementState() {\r\n    const state = this.editHistory[this.currentHistoryIndex];\r\n    this.r.setProperty(this.textArea.nativeElement, 'innerHTML', state);\r\n    if (!this.modeVisual) {\r\n      this.setContentAsCode(this.textArea.nativeElement);\r\n    }\r\n  }\r\n\r\n  ctrlZ(e) {\r\n    if (this.currentSelectedImage) {\r\n      this.unselectImage();\r\n    }\r\n  }\r\n\r\n  ctrlShiftZ(e) {\r\n    if (this.currentSelectedImage) {\r\n      this.unselectImage();\r\n    }\r\n  }\r\n\r\n  handleEnter(e) {\r\n    const sel = this.doc.getSelection() as Selection;\r\n    const focusNode = sel.focusNode as Node & HTMLElement & any;\r\n    const quoteParent = this.editorService.getFirstParentWithProperty(\r\n      focusNode,\r\n      'angular-editor-quote',\r\n    );\r\n    if (quoteParent && quoteParent.previousSibling) {\r\n      if (\r\n        quoteParent.innerHTML === '<br>' &&\r\n        quoteParent.previousSibling?.innerHTML === '<br>'\r\n      ) {\r\n        this.editorService.replaceWithOwnChildren(quoteParent.previousSibling);\r\n        this.editorService.replaceWithOwnChildren(quoteParent);\r\n        this.onContentChange(this.textArea.nativeElement, false);\r\n        return;\r\n      }\r\n      const previousSibling = quoteParent.previousSibling;\r\n      if (!previousSibling?.classList?.contains('angular-editor-quote')) {\r\n        return;\r\n      }\r\n      const previousSiblingInnerText = this.editorService\r\n        .getInnerTextFromNode(previousSibling)\r\n        ?.trim();\r\n      if (!previousSiblingInnerText || previousSiblingInnerText.length < 1) {\r\n        this.editorService.replaceWithOwnChildren(quoteParent.previousSibling);\r\n        const quoteParentInnerText =\r\n          this.editorService.getInnerTextFromNode(quoteParent);\r\n        if (!quoteParentInnerText?.trim()) {\r\n          this.editorService.replaceWithOwnChildren(quoteParent);\r\n        }\r\n        this.onContentChange(this.textArea.nativeElement, false);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Executed command from editor header buttons\r\n   * @param command string from triggerCommand\r\n   * @param value\r\n   */\r\n  executeCommand(command: string, value?: string) {\r\n    this.focus();\r\n    if (command === 'focus') {\r\n      return;\r\n    }\r\n    if (command === 'toggleEditorMode') {\r\n      this.toggleEditorMode(this.modeVisual);\r\n    } else if (command !== '') {\r\n      if (command === 'clear') {\r\n        this.editorService.removeSelectedElements(this.getCustomTags());\r\n        this.onContentChange(this.textArea.nativeElement);\r\n      } else if (command === 'default') {\r\n        this.editorService.removeSelectedElements('h1,h2,h3,h4,h5,h6,p,pre');\r\n        this.onContentChange(this.textArea.nativeElement);\r\n      } else {\r\n        this.editorService.executeCommand(command, value);\r\n      }\r\n      this.exec();\r\n    }\r\n\r\n    this.onContentChange(this.textArea.nativeElement);\r\n  }\r\n\r\n  onTextAreaFocus(event: FocusEvent): void {\r\n    if (this.focused) {\r\n      event.stopPropagation();\r\n      return;\r\n    }\r\n    this.runFontNameAndSizeCheck();\r\n    this.focused = true;\r\n    this.focusEvent.emit(event);\r\n    if (!this.touched || !this.changed) {\r\n      this.editorService.executeInNextQueueIteration(() => {\r\n        this.configure();\r\n        this.touched = true;\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description fires when cursor leaves textarea\r\n   */\r\n  public onTextAreaMouseOut(event: MouseEvent): void {\r\n    this.editorService.saveSelection();\r\n  }\r\n\r\n  onTextAreaBlur(event: FocusEvent) {\r\n    this.unselectImage();\r\n    this.editorService.executeInNextQueueIteration(\r\n      this.editorService.saveSelection,\r\n    );\r\n\r\n    if (typeof this.onTouched === 'function') {\r\n      this.onTouched();\r\n    }\r\n\r\n    if (event.relatedTarget !== null) {\r\n      const parent = (event.relatedTarget as HTMLElement).parentElement;\r\n      if (\r\n        parent &&\r\n        !parent.classList.contains('angular-editor-toolbar-set') &&\r\n        !parent.classList.contains('ae-picker')\r\n      ) {\r\n        this.blurEvent.emit(event);\r\n        this.focused = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  hasParentTag(element: any, tagNames: string[]) {\r\n    if (!element) return null;\r\n    if (element && tagNames.includes(element.tagName)) {\r\n      return element.tagName;\r\n    }\r\n    return this.hasParentTag(element?.parentElement, tagNames);\r\n  }\r\n\r\n  isCurrentSelectionHeader(): boolean {\r\n    if (\r\n      !['pre', 'div', 'default'].includes(\r\n        this.editorToolbar.block?.toLowerCase(),\r\n      )\r\n    ) {\r\n      return true;\r\n    }\r\n    const selection = this.doc.getSelection();\r\n    if (selection.rangeCount < 1) return false;\r\n    const edRange = selection?.getRangeAt(0);\r\n    let edNode = edRange.commonAncestorContainer;\r\n    const isHeader = this.hasParentTag(edNode, [\r\n      'H1',\r\n      'H2',\r\n      'H3',\r\n      'H4',\r\n      'H5',\r\n      'H6',\r\n    ]);\r\n    return (\r\n      isHeader == true ||\r\n      ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'].includes(isHeader as string)\r\n    );\r\n  }\r\n\r\n  deepRemoveAttribute(attr: string, node?: Node) {\r\n    const selection = this.doc.getSelection();\r\n    const edRange = selection.getRangeAt(0);\r\n    let edNode = node;\r\n    if (!edNode) {\r\n      edNode = edRange?.commonAncestorContainer;\r\n    }\r\n    const isHeader = this.hasParentTag(edNode, [\r\n      'H1',\r\n      'H2',\r\n      'H3',\r\n      'H4',\r\n      'H5',\r\n      'H6',\r\n    ]);\r\n    if (isHeader) {\r\n      let parent = edNode.parentElement;\r\n      while (parent) {\r\n        parent.removeAttribute(attr);\r\n        parent = parent.parentElement;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   *  focus the text area when the editor is focused\r\n   */\r\n  focus() {\r\n    if (this.modeVisual) {\r\n      this.textArea.nativeElement.focus();\r\n    } else {\r\n      const sourceText = this.doc.getElementById('sourceText' + this.id);\r\n      sourceText?.focus();\r\n      this.focused = true;\r\n    }\r\n    this.runFontNameAndSizeCheck();\r\n  }\r\n\r\n  addHistory(html) {\r\n    if (\r\n      this.config.editHistoryLimit != null &&\r\n      this.editHistory.length >= this.config.editHistoryLimit\r\n    ) {\r\n      this.editHistory.shift();\r\n      this.currentHistoryIndex -= 1;\r\n    }\r\n    this.editHistory.length = this.currentHistoryIndex + 1;\r\n    this.editHistory.push(html);\r\n    this.currentHistoryIndex = this.editHistory.length - 1;\r\n  }\r\n\r\n  /**\r\n   * Executed from the contenteditable section while the input property changes\r\n   * @param element html element from contenteditable\r\n   */\r\n  onContentChange(element: any, addChangeToHistory = true): void {\r\n    let html = '';\r\n    if (this.modeVisual) {\r\n      html = element.innerHTML;\r\n    } else {\r\n      html = element.innerText;\r\n    }\r\n    if (!html || html === '<br>') {\r\n      html = '';\r\n    }\r\n    if (typeof this.onChange === 'function') {\r\n      this.onChange(\r\n        this.config.sanitize || this.config.sanitize === undefined\r\n          ? this.sanitizer.sanitize(SecurityContext.HTML, html) || html\r\n          : html,\r\n      );\r\n      if (!html !== this.showPlaceholder) {\r\n        this.togglePlaceholder(this.showPlaceholder);\r\n      }\r\n    }\r\n    if (addChangeToHistory) {\r\n      this.editSubject.next(html);\r\n    }\r\n    this.changed = true;\r\n    this.runFontNameAndSizeCheck();\r\n  }\r\n\r\n  /**\r\n   * Set the function to be called\r\n   * when the control receives a change event.\r\n   *\r\n   * @param fn a function\r\n   */\r\n  registerOnChange(fn: any): void {\r\n    this.onChange = (e) => (e === '<br>' ? fn('') : fn(e));\r\n  }\r\n\r\n  /**\r\n   * Set the function to be called\r\n   * when the control receives a touch event.\r\n   *\r\n   * @param fn a function\r\n   */\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  /**\r\n   * Write a new value to the element.\r\n   *\r\n   * @param value value to be executed when there is a change in contenteditable\r\n   */\r\n  writeValue(value: any): void {\r\n    if ((!value || value === '<br>' || value === '') !== this.showPlaceholder) {\r\n      this.togglePlaceholder(this.showPlaceholder);\r\n    }\r\n\r\n    if (value === undefined || value === '' || value === '<br>') {\r\n      value = null;\r\n    }\r\n\r\n    this.refreshView(value);\r\n  }\r\n\r\n  /**\r\n   * refresh view/HTML of the editor\r\n   *\r\n   * @param value html string from the editor\r\n   */\r\n  refreshView(value: string): void {\r\n    const normalizedValue = value === null ? '' : value;\r\n    this.r.setProperty(\r\n      this.textArea.nativeElement,\r\n      'innerHTML',\r\n      normalizedValue,\r\n    );\r\n    if (value !== null && this.editHistory.length === 0) {\r\n      this.editHistory.push(this.textArea.nativeElement.innerHTML);\r\n      this.currentHistoryIndex = 0;\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * toggles placeholder based on input string\r\n   *\r\n   * @param value A HTML string from the editor\r\n   */\r\n  togglePlaceholder(value: boolean): void {\r\n    if (!value) {\r\n      this.r.addClass(this.editorWrapper.nativeElement, 'show-placeholder');\r\n      this.showPlaceholder = true;\r\n    } else {\r\n      this.r.removeClass(this.editorWrapper.nativeElement, 'show-placeholder');\r\n      this.showPlaceholder = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Implements disabled state for this element\r\n   *\r\n   * @param isDisabled Disabled flag\r\n   */\r\n  setDisabledState(isDisabled: boolean): void {\r\n    const div = this.textArea.nativeElement;\r\n    const action = isDisabled ? 'addClass' : 'removeClass';\r\n    this.r[action](div, 'disabled');\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  /**\r\n   * toggles editor mode based on bToSource bool\r\n   *\r\n   * @param bToSource A boolean value from the editor\r\n   */\r\n  toggleEditorMode(bToSource: boolean) {\r\n    let oContent: any;\r\n    const editableElement = this.textArea.nativeElement;\r\n\r\n    if (bToSource) {\r\n      oContent = this.r.createText(editableElement.innerHTML);\r\n      this.r.setProperty(editableElement, 'innerHTML', '');\r\n      this.r.setProperty(editableElement, 'contentEditable', false);\r\n\r\n      const oPre = this.r.createElement('pre');\r\n      this.r.setStyle(oPre, 'margin', '0');\r\n      this.r.setStyle(oPre, 'outline', 'none');\r\n\r\n      const oCode = this.r.createElement('code');\r\n      this.r.setProperty(oCode, 'id', 'sourceText' + this.id);\r\n      this.r.setStyle(oCode, 'display', 'block');\r\n      this.r.setStyle(oCode, 'white-space', 'pre-wrap');\r\n      this.r.setStyle(oCode, 'word-break', 'keep-all');\r\n      this.r.setStyle(oCode, 'outline', 'none');\r\n      this.r.setStyle(oCode, 'margin', '0');\r\n      this.r.setStyle(oCode, 'background-color', '#fff5b9');\r\n      this.r.setProperty(oCode, 'contentEditable', true);\r\n      this.r.appendChild(oCode, oContent);\r\n      this.focusInstance = this.r.listen(oCode, 'focus', (event) =>\r\n        this.onTextAreaFocus(event),\r\n      );\r\n      this.blurInstance = this.r.listen(oCode, 'blur', (event) =>\r\n        this.onTextAreaBlur(event),\r\n      );\r\n      this.r.appendChild(oPre, oCode);\r\n      this.r.appendChild(editableElement, oPre);\r\n\r\n      this.doc.execCommand('defaultParagraphSeparator', false, 'div');\r\n\r\n      this.modeVisual = false;\r\n      this.viewMode.emit(false);\r\n      oCode.focus();\r\n    } else {\r\n      if (this.doc['querySelectorAll']) {\r\n        this.r.setProperty(\r\n          editableElement,\r\n          'innerHTML',\r\n          editableElement.innerText,\r\n        );\r\n      } else {\r\n        oContent = this.doc.createRange();\r\n        oContent.selectNodeContents(editableElement.firstChild);\r\n        this.r.setProperty(editableElement, 'innerHTML', oContent.toString());\r\n      }\r\n      this.r.setProperty(editableElement, 'contentEditable', true);\r\n      this.modeVisual = true;\r\n      this.viewMode.emit(true);\r\n      this.onContentChange(editableElement, false);\r\n      editableElement.focus();\r\n    }\r\n    this.editorToolbar.setEditorMode(!this.modeVisual);\r\n  }\r\n\r\n  textPatternCheck() {\r\n    if (this.config.textPatternsEnabled === false || !this.modeVisual) return;\r\n    if (!this.modeVisual) return;\r\n    const selection = this.doc.getSelection() as Selection;\r\n    const txtData = selection.anchorNode?.textContent;\r\n    const textPatternsMap = {\r\n      '1.': { command: 'insertOrderedList', offsets: [3] },\r\n      '*': { command: 'insertUnorderedList', offsets: [2] },\r\n      '>': {\r\n        command: () =>\r\n          this.editorService.createCustomClass({\r\n            name: 'quote',\r\n            class: 'angular-editor-quote',\r\n          }),\r\n        offsets: [2],\r\n      },\r\n    };\r\n    const patternDetected = textPatternsMap[txtData ? txtData.trim() : ''];\r\n    if (\r\n      patternDetected &&\r\n      patternDetected.command &&\r\n      patternDetected.offsets?.includes(selection.anchorOffset)\r\n    ) {\r\n      if (typeof patternDetected.command == 'string') {\r\n        this.doc.execCommand(patternDetected.command, false);\r\n        const edRange = selection.getRangeAt(0);\r\n        const edNode = edRange.commonAncestorContainer;\r\n        selection.removeAllRanges();\r\n        const range = this.doc.createRange();\r\n        range.selectNodeContents(edNode);\r\n        selection.addRange(range);\r\n        range.deleteContents();\r\n      } else {\r\n        const edRange = selection.getRangeAt(0);\r\n        const edNode = edRange.commonAncestorContainer;\r\n        selection.removeAllRanges();\r\n        const range = this.doc.createRange();\r\n        range.selectNodeContents(edNode);\r\n        selection.addRange(range);\r\n        patternDetected.command();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * toggles editor buttons when cursor moved or positioning\r\n   *\r\n   * Send a node array from the contentEditable of the editor\r\n   */\r\n  exec($event: KeyboardEvent | any | null = null) {\r\n    this.runFontNameAndSizeCheck();\r\n    if ($event && ($event.key === 'Delete' || $event.key === 'Backspace')) {\r\n      if (this.currentSelectedImage) {\r\n        this.removeResizeWrapper();\r\n        if ($event.key === 'Delete') {\r\n          this.selectImage(true);\r\n        }\r\n      } else if ($event.key === 'Backspace') {\r\n        const justifyRightOrCenterEnabled =\r\n          this.doc.queryCommandState('justifyCenter') ||\r\n          this.doc.queryCommandState('justifyRight');\r\n        const selection = this.doc.getSelection();\r\n        const txtData = selection?.anchorNode?.textContent;\r\n        const previousSiblingTxtData =\r\n          selection?.anchorNode?.previousSibling?.textContent;\r\n        if (\r\n          justifyRightOrCenterEnabled &&\r\n          txtData === '' &&\r\n          previousSiblingTxtData === ''\r\n        ) {\r\n          this.doc.execCommand('justifyLeft');\r\n        }\r\n      }\r\n    }\r\n\r\n    this.editorToolbar.triggerButtons();\r\n\r\n    let userSelection;\r\n    if (this.doc.getSelection) {\r\n      userSelection = this.doc.getSelection();\r\n      this.editorService.executeInNextQueueIteration(\r\n        this.editorService.saveSelection,\r\n      );\r\n    }\r\n\r\n    let a = userSelection.focusNode;\r\n    const els = [] as any[];\r\n\r\n    while (a && a.id !== 'editor') {\r\n      els.unshift(a);\r\n      a = a.parentNode;\r\n    }\r\n\r\n    if ($event && $event.type === 'keyup' && $event.key === ' ') {\r\n      this.textPatternCheck();\r\n    }\r\n\r\n    if (!['pre', 'div', 'default'].includes(this.editorToolbar.block)) {\r\n      this.deepRemoveAttribute('size', userSelection.focusNode);\r\n    }\r\n\r\n    this.runFontNameAndSizeCheck();\r\n    this.editorToolbar.triggerBlocks(els);\r\n  }\r\n\r\n  runFontNameAndSizeCheck() {\r\n    if (this.modeVisual) {\r\n      const currentSelection = this.editorService.getCurrentSelection();\r\n      const fontNameInEditor = this.currentFontNameInEditor();\r\n      const fontSizeInEditor = this.currentFontSizeInEditor();\r\n\r\n      if (\r\n        fontNameInEditor &&\r\n        this.editorService.currentFontName &&\r\n        currentSelection.collapsed\r\n      ) {\r\n        this.editorService.setFontName(this.editorService.currentFontName);\r\n      }\r\n\r\n      if (\r\n        !this.isCurrentSelectionHeader() &&\r\n        fontSizeInEditor &&\r\n        this.editorService.currentFontSize &&\r\n        fontSizeInEditor !== this.editorService.currentFontSize &&\r\n        fontSizeInEditor.replace(/\"/g, '') !==\r\n          this.editorService.currentFontSize &&\r\n        currentSelection.collapsed\r\n      ) {\r\n        this.editorService.setFontSize(this.editorService.currentFontSize);\r\n      }\r\n    }\r\n  }\r\n\r\n  private configure() {\r\n    this.editorService.uploadUrl = this.config.uploadUrl;\r\n    this.editorService.uploadWithCredentials =\r\n      this.config.uploadWithCredentials;\r\n    if (this.config.defaultParagraphSeparator) {\r\n      this.editorService.setDefaultParagraphSeparator(\r\n        this.config.defaultParagraphSeparator,\r\n      );\r\n    }\r\n  }\r\n\r\n  getFonts() {\r\n    const fonts = this.config.fonts\r\n      ? this.config.fonts\r\n      : angularEditorConfig.fonts;\r\n    return fonts?.map((x) => {\r\n      return { label: x.label || x.name, value: x.name };\r\n    });\r\n  }\r\n\r\n  getCustomTags() {\r\n    const tags = ['span'];\r\n    this.config.customClasses?.forEach((x) => {\r\n      if (x.tag !== undefined) {\r\n        if (!tags.includes(x.tag)) {\r\n          tags.push(x.tag);\r\n        }\r\n      }\r\n    });\r\n    return tags.join(',');\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.blurInstance) {\r\n      this.blurInstance();\r\n    }\r\n    if (this.focusInstance) {\r\n      this.focusInstance();\r\n    }\r\n  }\r\n\r\n  filterStyles(html: string): string {\r\n    html = html.replace('position: fixed;', '');\r\n    return html;\r\n  }\r\n\r\n  currentFontNameInEditor() {\r\n    let selectedText = this.doc.getSelection();\r\n\r\n    if (selectedText && selectedText.rangeCount > 0) {\r\n      let range = selectedText.getRangeAt(0);\r\n      let parentElement =\r\n        range.commonAncestorContainer.nodeType === 1\r\n          ? range.commonAncestorContainer\r\n          : range.commonAncestorContainer.parentNode;\r\n      if (!parentElement) {\r\n        return null;\r\n      }\r\n      let computedStyle = getComputedStyle(parentElement as Element);\r\n\r\n      const fontname = computedStyle.fontFamily;\r\n      return fontname;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  currentFontSizeInEditor() {\r\n    let selectedText = this.doc.getSelection();\r\n\r\n    if (selectedText.rangeCount > 0) {\r\n      let range = selectedText.getRangeAt(0);\r\n      let parentElement =\r\n        range.commonAncestorContainer.nodeType === 1\r\n          ? range.commonAncestorContainer\r\n          : range.commonAncestorContainer.parentNode;\r\n      let computedStyle = getComputedStyle(parentElement as Element);\r\n\r\n      return computedStyle.fontSize;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n","<div\r\n     class=\"angular-editor\"\r\n     #angularEditor\r\n     [style.width]=\"config.width\"\r\n     [style.minWidth]=\"config.minWidth\"\r\n>\r\n     <angular-editor-toolbar\r\n          *ngIf=\"config.toolbarPosition === 'top'\"\r\n          #editorToolbar\r\n          [id]=\"id\"\r\n          [uploadUrl]=\"config.uploadUrl\"\r\n          [upload]=\"config.upload\"\r\n          [showToolbar]=\"config.showToolbar !== undefined ? config.showToolbar : true\"\r\n          [fonts]=\"getFonts()\"\r\n          [customClasses]=\"config.customClasses\"\r\n          [defaultFontName]=\"config.defaultFontName\"\r\n          [defaultFontSize]=\"config.defaultFontSize\"\r\n          [hiddenButtons]=\"config.toolbarHiddenButtons\"\r\n          (execute)=\"executeCommand($event)\"\r\n     >\r\n       <ng-container\r\n         [ngTemplateOutlet]=\"customButtonsTemplateRef\"\r\n         [ngTemplateOutletContext]=\"{ executeCommandFn: this.executeCommandFn}\"\r\n       >\r\n       </ng-container>\r\n     </angular-editor-toolbar>\r\n\r\n     <div\r\n          class=\"angular-editor-wrapper\"\r\n          #editorWrapper\r\n     >\r\n          <div\r\n               #editor\r\n               class=\"angular-editor-textarea\"\r\n               [attr.contenteditable]=\"config.editable\"\r\n               [attr.tabindex]=\"disabled ? -1 : tabIndex\"\r\n               [attr.translate]=\"config.translate\"\r\n               [attr.spellcheck]=\"config.spellcheck\"\r\n               [style.height]=\"config.height\"\r\n               [style.minHeight]=\"config.minHeight\"\r\n               [style.maxHeight]=\"config.maxHeight\"\r\n               [style.backgroundColor]=\"config.textAreaBackgroundColor\"\r\n               [style.outline]=\"config.outline === false ? 'none': undefined\"\r\n               (input)=\"onContentChange($event?.target)\"\r\n               (focus)=\"onTextAreaFocus($event)\"\r\n               (blur)=\"onTextAreaBlur($event)\"\r\n               (click)=\"exec()\"\r\n               (keydown)=\"exec($event)\"\r\n               (keyup)=\"exec($event)\"\r\n               (mouseout)=\"onTextAreaMouseOut($event)\"\r\n               (paste)=\"onPaste($event)\"\r\n               (keydown.control.z)=\"ctrlZ($event)\"\r\n               (keydown.control.shift.z)=\"ctrlShiftZ($event)\"\r\n               (keyup.enter)=\"handleEnter($event)\"\r\n          >\r\n          </div>\r\n          <span class=\"angular-editor-placeholder\">{{ placeholder || config['placeholder'] }}</span>\r\n     </div>\r\n     <angular-editor-toolbar\r\n          *ngIf=\"config.toolbarPosition === 'bottom'\"\r\n          #editorToolbar\r\n          [id]=\"id\"\r\n          [uploadUrl]=\"config.uploadUrl\"\r\n          [upload]=\"config.upload\"\r\n          [showToolbar]=\"config.showToolbar !== undefined ? config.showToolbar : true\"\r\n          [fonts]=\"getFonts()\"\r\n          [customClasses]=\"config.customClasses\"\r\n          [defaultFontName]=\"config.defaultFontName\"\r\n          [defaultFontSize]=\"config.defaultFontSize\"\r\n          [hiddenButtons]=\"config.toolbarHiddenButtons\"\r\n          (execute)=\"executeCommand($event)\"\r\n     ></angular-editor-toolbar>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { AngularEditorComponent } from './angular-editor.component';\r\nimport { AngularEditorToolbarComponent } from './angular-editor-toolbar.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AeSelectComponent } from './ae-select/ae-select.component';\r\nimport { AeButtonComponent } from './ae-button/ae-button.component';\r\nimport { AeToolbarSetComponent } from './ae-toolbar-set/ae-toolbar-set.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule, ReactiveFormsModule],\r\n  declarations: [\r\n    AngularEditorComponent,\r\n    AngularEditorToolbarComponent,\r\n    AeSelectComponent,\r\n    AeButtonComponent,\r\n    AeToolbarSetComponent,\r\n  ],\r\n  exports: [\r\n    AngularEditorComponent,\r\n    AngularEditorToolbarComponent,\r\n    AeButtonComponent,\r\n    AeToolbarSetComponent,\r\n  ],\r\n})\r\nexport class AngularEditorModule {}\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { HttpClient, HttpEvent } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { CustomClass } from './config';\r\n\r\nexport interface UploadResponse {\r\n  imageUrl: string;\r\n}\r\n\r\n@Injectable()\r\nexport class AngularEditorService {\r\n  savedSelection: Range | null;\r\n  selectedText: string;\r\n  uploadUrl?: string;\r\n  uploadWithCredentials?: boolean;\r\n  currentFontName: string;\r\n  currentFontSize: string;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    // @ts-ignore\r\n    @Inject(DOCUMENT) private doc: Document,\r\n  ) {}\r\n\r\n  /**\r\n   * Executed command from editor header buttons exclude toggleEditorMode\r\n   * @param command string from triggerCommand\r\n   * @param value\r\n   */\r\n  executeCommand(command: string, value?: string) {\r\n    const commands = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p', 'pre'];\r\n    if (commands.includes(command)) {\r\n      this.doc.execCommand('formatBlock', false, command);\r\n      return;\r\n    }\r\n    this.doc.execCommand(command, false, value);\r\n  }\r\n\r\n  /**\r\n   * Create URL link\r\n   * @param url string from UI prompt\r\n   */\r\n  createLink(url: string) {\r\n    if (!url.includes('http')) {\r\n      this.doc.execCommand('createlink', false, url);\r\n    } else {\r\n      const newUrl =\r\n        '<a href=\"' + url + '\" target=\"_blank\">' + this.selectedText + '</a>';\r\n      this.insertHtml(newUrl);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * insert color either font or background\r\n   *\r\n   * @param color color to be inserted\r\n   * @param where where the color has to be inserted either text/background\r\n   */\r\n  insertColor(color: string, where: string): void {\r\n    const restored = this.restoreSelection();\r\n    if (restored) {\r\n      if (where === 'textColor') {\r\n        this.doc.execCommand('foreColor', false, color);\r\n      } else {\r\n        this.doc.execCommand('hiliteColor', false, color);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set font name\r\n   * @param fontName string\r\n   */\r\n  setFontName(fontName: string) {\r\n    this.doc.execCommand('fontName', false, fontName);\r\n    this.currentFontName = fontName;\r\n  }\r\n\r\n  /**\r\n   * Set font size\r\n   * @param fontSize string\r\n   */\r\n  setFontSize(fontSize: string) {\r\n    this.doc.execCommand('fontSize', false, fontSize);\r\n    this.currentFontSize = fontSize;\r\n  }\r\n\r\n  /**\r\n   * Create raw HTML\r\n   * @param html HTML string\r\n   */\r\n  insertHtml(html: string): void {\r\n    const isHTMLInserted = this.doc.execCommand('insertHTML', false, html);\r\n\r\n    if (!isHTMLInserted) {\r\n      throw new Error('Unable to perform the operation');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * save selection when the editor is focussed out\r\n   */\r\n  public saveSelection = (): void => {\r\n    const sel = this.doc.getSelection() as Selection;\r\n    if (sel) {\r\n      if (sel?.getRangeAt && sel?.rangeCount) {\r\n        this.savedSelection = sel.getRangeAt(0);\r\n        this.selectedText = sel.toString();\r\n      }\r\n    } else if (this.doc['getSelection'] && this.doc['createRange']) {\r\n      this.savedSelection = document.createRange();\r\n    } else {\r\n      this.savedSelection = null;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * restore selection when the editor is focused in\r\n   *\r\n   * saved selection when the editor is focused out\r\n   */\r\n  restoreSelection(): boolean | undefined {\r\n    if (this.savedSelection) {\r\n      if (this.doc.getSelection) {\r\n        const sel = this.doc.getSelection() as Selection;\r\n        sel.removeAllRanges();\r\n        sel.addRange(this.savedSelection);\r\n        return true;\r\n      } else if (this.doc['getSelection'] /*&& this.savedSelection.select*/) {\r\n        return true;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * setTimeout used for execute 'saveSelection' method in next event loop iteration\r\n   */\r\n  public executeInNextQueueIteration(\r\n    callbackFn: (...args: any[]) => any,\r\n    timeout = 1e2,\r\n  ): void {\r\n    setTimeout(callbackFn, timeout);\r\n  }\r\n\r\n  /**\r\n   * Upload file to uploadUrl\r\n   * @param file The file\r\n   */\r\n  uploadImage(file: File): Observable<HttpEvent<UploadResponse>> | undefined {\r\n    if (this.uploadUrl) {\r\n      const uploadData: FormData = new FormData();\r\n      uploadData.append('file', file, file.name);\r\n\r\n      return this.http.post<UploadResponse>(this.uploadUrl, uploadData, {\r\n        reportProgress: true,\r\n        observe: 'events',\r\n        withCredentials: this.uploadWithCredentials,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Insert image with Url\r\n   * @param imageUrl The imageUrl.\r\n   */\r\n  insertImage(imageUrl: string) {\r\n    this.doc.execCommand('insertHTML', false, `<img src=\"${imageUrl}\"/>`);\r\n  }\r\n\r\n  setDefaultParagraphSeparator(separator: string) {\r\n    this.doc.execCommand('defaultParagraphSeparator', false, separator);\r\n  }\r\n\r\n  createCustomClass(customClass: CustomClass) {\r\n    let newTag = this.selectedText;\r\n    if (customClass) {\r\n      const tagName = customClass.tag ? customClass.tag : 'div';\r\n      if (!this.selectedText) this.selectedText = '&nbsp;';\r\n      newTag +=\r\n        '<' +\r\n        tagName +\r\n        ' class=\"' +\r\n        customClass.class +\r\n        '\">' +\r\n        this.selectedText +\r\n        '</' +\r\n        tagName +\r\n        '>';\r\n    }\r\n    this.insertHtml(newTag);\r\n  }\r\n\r\n  insertVideo(videoUrl: string) {\r\n    if (videoUrl.match('www.youtube.com')) {\r\n      this.insertYouTubeVideoTag(videoUrl);\r\n    }\r\n    if (videoUrl.match('vimeo.com')) {\r\n      this.insertVimeoVideoTag(videoUrl);\r\n    }\r\n  }\r\n\r\n  private insertYouTubeVideoTag(videoUrl: string): void {\r\n    const id = videoUrl.split('v=')[1];\r\n    const imageUrl = `https://img.youtube.com/vi/${id}/0.jpg`;\r\n    const thumbnail = `\r\n      <div style='position: relative'>\r\n        <a href='${videoUrl}' target='_blank'>\r\n          <img src=\"${imageUrl}\" alt=\"click to watch\"/>\r\n          <img style='position: absolute; left:200px; top:140px'\r\n          src=\"https://img.icons8.com/color/96/000000/youtube-play.png\"/>\r\n        </a>\r\n      </div>`;\r\n    this.insertHtml(thumbnail);\r\n  }\r\n\r\n  private insertVimeoVideoTag(videoUrl: string): void {\r\n    const sub = this.http\r\n      .get<any>(`https://vimeo.com/api/oembed.json?url=${videoUrl}`)\r\n      .subscribe((data) => {\r\n        const imageUrl = data.thumbnail_url_with_play_button;\r\n        const thumbnail = `<div>\r\n        <a href='${videoUrl}' target='_blank'>\r\n          <img src=\"${imageUrl}\" alt=\"${data.title}\"/>\r\n        </a>\r\n      </div>`;\r\n        this.insertHtml(thumbnail);\r\n        sub.unsubscribe();\r\n      });\r\n  }\r\n\r\n  nextNode(node: any) {\r\n    if (node.hasChildNodes()) {\r\n      return node.firstChild;\r\n    } else {\r\n      while (node && !node.nextSibling) {\r\n        node = node.parentNode;\r\n      }\r\n      if (!node) {\r\n        return null;\r\n      }\r\n      return node.nextSibling;\r\n    }\r\n  }\r\n\r\n  getRangeSelectedNodes(range, includePartiallySelectedContainers) {\r\n    let node = range.startContainer;\r\n    const endNode = range.endContainer;\r\n    let rangeNodes = [] as any[];\r\n\r\n    // Special case for a range that is contained within a single node\r\n    if (node === endNode) {\r\n      rangeNodes = [node];\r\n    } else {\r\n      // Iterate nodes until we hit the end container\r\n      while (node && node !== endNode) {\r\n        rangeNodes.push((node = this.nextNode(node)));\r\n      }\r\n\r\n      // Add partially selected nodes at the start of the range\r\n      node = range.startContainer;\r\n      while (node && node !== range.commonAncestorContainer) {\r\n        rangeNodes.unshift(node);\r\n        node = node.parentNode;\r\n      }\r\n    }\r\n\r\n    // Add ancestors of the range container, if required\r\n    if (includePartiallySelectedContainers) {\r\n      node = range.commonAncestorContainer;\r\n      while (node) {\r\n        rangeNodes.push(node);\r\n        node = node.parentNode;\r\n      }\r\n    }\r\n\r\n    return rangeNodes;\r\n  }\r\n\r\n  getSelectedNodes() {\r\n    const nodes = [] as any[];\r\n    if (this.doc.getSelection) {\r\n      const sel = this.doc.getSelection() as Selection;\r\n      for (let i = 0, len = sel.rangeCount; i < len; ++i) {\r\n        nodes.push.apply(\r\n          nodes,\r\n          this.getRangeSelectedNodes(sel.getRangeAt(i), true),\r\n        );\r\n      }\r\n    }\r\n    return nodes;\r\n  }\r\n\r\n  replaceWithOwnChildren(el) {\r\n    const parent = el.parentNode;\r\n    while (el.hasChildNodes()) {\r\n      parent.insertBefore(el.firstChild, el);\r\n    }\r\n    parent.removeChild(el);\r\n  }\r\n\r\n  removeSelectedElements(tagNames) {\r\n    const tagNamesArray = tagNames.toLowerCase().split(',');\r\n    this.getSelectedNodes().forEach((node) => {\r\n      if (\r\n        node.nodeType === 1 &&\r\n        tagNamesArray.indexOf(node.tagName.toLowerCase()) > -1\r\n      ) {\r\n        this.replaceWithOwnChildren(node);\r\n      }\r\n    });\r\n  }\r\n\r\n  getInnerTextFromNode(node: HTMLElement): string | null {\r\n    if (!node) return null;\r\n    if (node.innerText) {\r\n      return node.innerText;\r\n    }\r\n    const text = [];\r\n    for (let child of Array.from(node.childNodes)) {\r\n      text.push(child.textContent);\r\n    }\r\n    return text.join('');\r\n  }\r\n\r\n  getInnerHTMLFromNode(node: HTMLElement): string | null {\r\n    if (!node) return null;\r\n    if (node.innerHTML) {\r\n      return node.innerHTML;\r\n    }\r\n    let combinedInnerHTML = '';\r\n    for (let i = 0; i < node.childNodes.length; i++) {\r\n      const childNode = node.childNodes[i] as HTMLElement;\r\n      if (childNode.nodeType === 1) {\r\n        combinedInnerHTML += childNode.innerHTML;\r\n      }\r\n    }\r\n    return combinedInnerHTML;\r\n  }\r\n\r\n  getFirstParentWithProperty(node: any, className: string) {\r\n    if (!node) return null;\r\n    if (node.classList?.contains(className)) {\r\n      return node;\r\n    }\r\n    return this.getFirstParentWithProperty(node.parentNode, className);\r\n  }\r\n\r\n  getCurrentSelection() {\r\n    const selection = this.doc.getSelection();\r\n    if (selection && selection.rangeCount > 0) {\r\n      return selection.getRangeAt(0);\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","import { UploadResponse } from './angular-editor.service';\r\nimport { HttpEvent } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport interface CustomClass {\r\n  name: string;\r\n  class: string;\r\n  tag?: string;\r\n}\r\n\r\nexport interface Font {\r\n  name: string;\r\n  class: string;\r\n  label?: string;\r\n}\r\n\r\nexport interface AngularEditorConfig {\r\n  editable?: boolean;\r\n  spellcheck?: boolean;\r\n  height?: 'auto' | string;\r\n  minHeight?: '0' | string;\r\n  maxHeight?: 'auto' | string;\r\n  /**\r\n   * @description background-color property of the editor textarea element\r\n   * @default 'white'\r\n   */\r\n  textAreaBackgroundColor?: string;\r\n  width?: 'auto' | string;\r\n  minWidth?: '0' | string;\r\n  translate?: 'yes' | 'now' | string;\r\n  enableToolbar?: boolean;\r\n  showToolbar?: boolean;\r\n  placeholder?: string;\r\n  defaultParagraphSeparator?: string;\r\n  defaultFontName?: string;\r\n  defaultFontSize?: '1' | '2' | '3' | '4' | '5' | '6' | '7' | string;\r\n  uploadUrl?: string;\r\n  upload?: (file: File) => Observable<HttpEvent<UploadResponse>>;\r\n  uploadWithCredentials?: boolean;\r\n  fonts?: Font[];\r\n  customClasses?: CustomClass[];\r\n  sanitize?: boolean;\r\n  toolbarPosition?: 'top' | 'bottom';\r\n  /**\r\n   * @description show outline on textarea when on focus\r\n   * @default true\r\n   */\r\n  outline?: boolean;\r\n  toolbarHiddenButtons?: string[][];\r\n  rawPaste?: boolean;\r\n  editHistoryLimit?: number;\r\n  /**\r\n   *  @description Number indicating how fast mouse drag will cause image to resize\r\n   *  @default 2\r\n   */\r\n  imageResizeSensitivity?: number;\r\n  /**\r\n   * @description Enable or disable text patter checks example '> ' and '* '\r\n   * @default true\r\n   */\r\n  textPatternsEnabled?: boolean;\r\n}\r\n\r\nexport const angularEditorConfig: AngularEditorConfig = {\r\n  editable: true,\r\n  spellcheck: true,\r\n  height: 'auto',\r\n  minHeight: '0',\r\n  maxHeight: 'auto',\r\n  textAreaBackgroundColor: 'white',\r\n  width: 'auto',\r\n  minWidth: '0',\r\n  translate: 'yes',\r\n  enableToolbar: true,\r\n  showToolbar: true,\r\n  placeholder: 'Enter text here...',\r\n  defaultParagraphSeparator: '',\r\n  defaultFontName: 'Arial',\r\n  defaultFontSize: '5',\r\n  fonts: [\r\n    { class: 'arial', name: 'Arial' },\r\n    { class: 'times-new-roman', name: 'Times New Roman' },\r\n    { class: 'calibri', name: 'Calibri' },\r\n    { class: 'comic-sans-ms', name: 'Comic Sans MS' },\r\n    { class: 'verdana', name: 'Verdana' },\r\n    { class: 'roboto-regular', name: 'Roboto' },\r\n  ],\r\n  // uploadUrl: 'v1/image',\r\n  uploadWithCredentials: false,\r\n  sanitize: true,\r\n  toolbarPosition: 'top',\r\n  outline: true,\r\n  /*toolbarHiddenButtons: [\r\n    ['bold', 'italic', 'underline', 'strikeThrough', 'superscript', 'subscript'],\r\n    ['heading', 'fontName', 'fontSize', 'color'],\r\n    ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull', 'indent', 'outdent'],\r\n    ['cut', 'copy', 'delete', 'removeFormat', 'undo', 'redo'],\r\n    ['paragraph', 'blockquote', 'removeBlockquote', 'horizontalLine', 'orderedList', 'unorderedList'],\r\n    ['link', 'unlink', 'image', 'video']\r\n  ]*/\r\n  editHistoryLimit: 50,\r\n  imageResizeSensitivity: 2,\r\n  textPatternsEnabled: true,\r\n};\r\n","export function isDefined(value: any) {\r\n  return value !== undefined && value !== null;\r\n}\r\n"]}